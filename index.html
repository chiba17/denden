<html lang="ja"><head><script>(function(firebaseConfig, initialAuthToken, appId) {
        window.__firebase_config = firebaseConfig;
        window.__initial_auth_token = initialAuthToken;
        window.__app_id = appId;
            })("\n{\n  \"apiKey\": \"AIzaSyCqyCcs2R2e7AegGjvFAwG98wlamtbHvZY\",\n  \"authDomain\": \"bard-frontend.firebaseapp.com\",\n  \"projectId\": \"bard-frontend\",\n  \"storageBucket\": \"bard-frontend.firebasestorage.app\",\n  \"messagingSenderId\": \"175205271074\",\n  \"appId\": \"1:175205271074:web:2b7bd4d34d33bf38e6ec7b\"\n}\n","eyJhbGciOiJSUzI1NiIsImtpZCI6IjExYjc0YTUyNzgwMDk5ZjEzNDY0MmNlZWM3ZGE4MjNkMTc4MDc2ZjIiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BiYXJkLWZyb250ZW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwiYXVkIjoiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vZ29vZ2xlLmlkZW50aXR5LmlkZW50aXR5dG9vbGtpdC52MS5JZGVudGl0eVRvb2xraXQiLCJ1aWQiOiIwNzE1ODkwNzg2MDAyMzE4NTExOCIsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQGJhcmQtZnJvbnRlbmQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCJjbGFpbXMiOnsiYXBwSWQiOiJjXzZmZjk0MTg0YTEwNWJmODZfbXktY29tbXV0ZS10aW1lci1hbmltYXRlZC12MTMuaHRtbC01NzAifSwiZXhwIjoxNzY0OTI3MDQ4LCJpYXQiOjE3NjQ5MjM0NDgsImFsZyI6IlJTMjU2In0.S1L82VJHUJOMBNVC2MT4awsxi4ZCtzqOiy_CkiOhplUlp6477G_fCp9xvAS_LF9aVGWMlhx1EhkZu09Cw--l5r_Pst2gZh-8SbfuI75MUuSilzvCPP5qsNVC1RyrEmkVRSCd37efyHQ-2SfTOqqgCCeJ1ArUIDQVn1lU5eDGgBZWxuijSiR1PstlIDk__3IKCO2jaCGToucU5vPC3npbyjSbQt1IqOuUNi9YpwB0pqbGkl1Bplqt6LnmP7lLjGgeONIF-w2d51u8afdOpnAVi08CxkM37JyPJ6DXq1pSOkWFs7p-3dMIgh8Nc8yq-t79AnYaNK-dxay_H2xUE_enDg","c_6ff94184a105bf86_my-commute-timer-animated-v13.html-570")</script><script>'use strict';var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,d){if(a==Array.prototype||a==Object.prototype)return a;a[b]=d.value;return a};function l(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var d=a[b];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");}var n=l(this);
function p(a,b){if(b)a:{var d=n;a=a.split(".");for(var c=0;c<a.length-1;c++){var e=a[c];if(!(e in d))break a;d=d[e]}a=a[a.length-1];c=d[a];b=b(c);b!=c&&b!=null&&h(d,a,{configurable:!0,writable:!0,value:b})}}function r(a){function b(c){return a.next(c)}function d(c){return a.throw(c)}return new Promise(function(c,e){function f(g){g.done?c(g.value):Promise.resolve(g.value).then(b,d).then(f,e)}f(a.next())})}function t(a){return r(a())}
p("Object.values",function(a){return a?a:function(b){var d=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&d.push(b[c]);return d}});p("Array.prototype.includes",function(a){return a?a:function(b,d){var c=this;c instanceof String&&(c=String(c));var e=c.length;d=d||0;for(d<0&&(d=Math.max(d+e,0));d<e;d++){var f=c[d];if(f===b||Object.is(f,b))return!0}return!1}});/*

 MIT License

 Copyright (c) 2017-2023 W.Y.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.

*/
function u(a,b){const d=a.style;b.backgroundColor&&(d.backgroundColor=b.backgroundColor);b.width&&(d.width=`${b.width}px`);b.height&&(d.height=`${b.height}px`);const c=b.style;c!=null&&Object.keys(c).forEach(e=>{d[e]=c[e]})};var v=(()=>{let a=0;return()=>{a+=1;return`u${`0000${(Math.random()*1679616<<0).toString(36)}`.slice(-4)}${a}`}})();function w(a){const b=[];for(let d=0,c=a.length;d<c;d++)b.push(a[d]);return b}let x=null;function y(a={}){return x?x:a.l?x=a.l:x=w(window.getComputedStyle(document.documentElement))}function z(a,b){return(a=(a.ownerDocument.defaultView||window).getComputedStyle(a).getPropertyValue(b))?parseFloat(a.replace("px","")):0}
function A(a,b={}){var d;if(!(d=b.width)){d=z(a,"border-left-width");var c=z(a,"border-right-width");d=a.clientWidth+d+c}(b=b.height)||(b=z(a,"border-top-width"),c=z(a,"border-bottom-width"),b=a.clientHeight+b+c);return{width:d,height:b}}function B(a){return new Promise((b,d)=>{const c=new Image;c.onload=()=>{c.decode().then(()=>{requestAnimationFrame(()=>b(c))})};c.onerror=d;c.crossOrigin="anonymous";c.decoding="async";c.src=a})}
function C(a){return t(function*(){return Promise.resolve().then(()=>(new XMLSerializer).serializeToString(a)).then(encodeURIComponent).then(b=>`data:image/svg+xml;charset=utf-8,${b}`)})}
function D(a,b,d){return t(function*(){const c=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");c.setAttribute("width",`${b}`);c.setAttribute("height",`${d}`);c.setAttribute("viewBox",`0 0 ${b} ${d}`);e.setAttribute("width","100%");e.setAttribute("height","100%");e.setAttribute("x","0");e.setAttribute("y","0");e.setAttribute("externalResourcesRequired","true");c.appendChild(e);e.appendChild(a);return C(c)})}
var E=(a,b)=>{if(a instanceof b)return!0;a=Object.getPrototypeOf(a);return a===null?!1:a.constructor.name===b.name||E(a,b)};function F(a,b){return y(b).map(d=>{const c=a.getPropertyValue(d),e=a.getPropertyPriority(d);return`${d}: ${c}${e?" !important":""};`}).join(" ")}
function G(a,b,d,c){a=window.getComputedStyle(a,d);var e=a.getPropertyValue("content");if(e!==""&&e!=="none"){var f=v();try{b.className=`${b.className} ${f}`}catch(k){return}e=document.createElement("style");var g=e.appendChild;d=`.${f}:${d}`;a.cssText?(c=a.getPropertyValue("content"),c=`${a.cssText} content: '${c.replace(/'|"/g,"")}';`):c=F(a,c);g.call(e,document.createTextNode(`${d}{${c}}`));b.appendChild(e)}};function H(a){return a.search(/^(data:)/)!==-1}function I(a,b,d){return t(function*(){const c=yield fetch(a,b);if(c.status===404)throw Error(`Resource "${c.url}" not found`);const e=yield c.blob();return new Promise((f,g)=>{const k=new FileReader;k.onerror=g;k.onloadend=()=>{try{f(d({o:c,result:k.result}))}catch(m){g(m)}};k.readAsDataURL(e)})})}const J={};function K(a,b,d){let c=a.replace(/\?.*/,"");d&&(c=a);/ttf|otf|eot|woff2?/i.test(c)&&(c=c.replace(/.*\//,""));return b?`[${b}]${c}`:c}
function L(a,b,d){return t(function*(){const c=K(a,b,d.C);if(J[c]!=null)return J[c];d.u&&(a+=(/\?/.test(a)?"&":"?")+(new Date).getTime());let e;try{const f=yield I(a,d.i,({o:g,result:k})=>{b||(b=g.headers.get("Content-Type")||"");return k.split(/,/)[1]});e=`data:${b};base64,${f}`}catch(f){e=d.B||""}return J[c]=e})};const M={P:"application/font-woff",R:"application/font-woff",N:"application/font-truetype",v:"application/vnd.ms-fontobject",H:"image/png",F:"image/jpeg",D:"image/jpeg",A:"image/gif",M:"image/tiff",L:"image/svg+xml",O:"image/webp"};function N(a){return(a=/\.([^./]*?)$/g.exec(a))?a[1]:""};function O(a){return t(function*(){const b=a.toDataURL();return b==="data:,"?a.cloneNode(!1):B(b)})}function aa(a,b){return t(function*(){if(a.currentSrc){var d=document.createElement("canvas");const c=d.getContext("2d");d.width=a.clientWidth;d.height=a.clientHeight;c==null||c.drawImage(a,0,0,d.width,d.height);d=d.toDataURL();return B(d)}d=a.poster;d=yield L(d,M[N(d).toLowerCase()]||"",b);return B(d)})}
function ba(a,b){return t(function*(){try{let d;if(a==null?0:(d=a.contentDocument)==null?0:d.body)return yield P(a.contentDocument.body,b,!0)}catch(d){}return a.cloneNode(!1)})}function ca(a,b){return t(function*(){return E(a,HTMLCanvasElement)?O(a):E(a,HTMLVideoElement)?aa(a,b):E(a,HTMLIFrameElement)?ba(a,b):a.cloneNode(a.tagName!=null&&a.tagName.toUpperCase()==="SVG")})}
function da(a,b,d){return t(function*(){if(b.tagName!=null&&b.tagName.toUpperCase()==="SVG")return b;let c=[];if(a.tagName!=null&&a.tagName.toUpperCase()==="SLOT"&&a.assignedNodes)c=w(a.assignedNodes());else{let e;if(E(a,HTMLIFrameElement)&&((e=a.contentDocument)==null?0:e.body))c=w(a.contentDocument.body.childNodes);else{let f;c=w(((f=a.shadowRoot)!=null?f:a).childNodes)}}if(c.length===0||E(a,HTMLVideoElement))return b;yield c.reduce((e,f)=>e.then(()=>P(f,d)).then(g=>{g&&b.appendChild(g)}),Promise.resolve());
return b})}function ea(a,b,d){const c=b.style;if(c){var e=window.getComputedStyle(a);e.cssText?(c.cssText=e.cssText,c.transformOrigin=e.transformOrigin):y(d).forEach(f=>{let g=e.getPropertyValue(f);f==="font-size"&&g.endsWith("px")&&(g=`${Math.floor(parseFloat(g.substring(0,g.length-2)))-.1}px`);E(a,HTMLIFrameElement)&&f==="display"&&g==="inline"&&(g="block");f==="d"&&b.getAttribute("d")&&(g=`path(${b.getAttribute("d")})`);c.setProperty(f,g,e.getPropertyPriority(f))})}}
function fa(a,b){E(a,HTMLSelectElement)&&(b=Array.from(b.children).find(d=>a.value===d.getAttribute("value")))&&b.setAttribute("selected","")}
function ha(a,b){return t(function*(){var d=a.querySelectorAll?a.querySelectorAll("use"):[];if(d.length===0)return a;var c={};for(var e=0;e<d.length;e++){var f=d[e].getAttribute("xlink:href");if(f){const g=document.querySelector(f);a.querySelector(f)||!g||c[f]||(c[f]=yield P(g,b,!0))}}d=Object.values(c);if(d.length){c=document.createElementNS("http://www.w3.org/1999/xhtml","svg");c.setAttribute("xmlns","http://www.w3.org/1999/xhtml");c.style.position="absolute";c.style.width="0";c.style.height="0";
c.style.overflow="hidden";c.style.display="none";e=document.createElementNS("http://www.w3.org/1999/xhtml","defs");c.appendChild(e);for(f=0;f<d.length;f++)e.appendChild(d[f]);a.appendChild(c)}return a})}
function P(a,b,d){return t(function*(){return d||!b.filter||b.filter(a)?Promise.resolve(a).then(c=>ca(c,b)).then(c=>da(a,c,b)).then(c=>{E(c,Element)&&(ea(a,c,b),G(a,c,":before",b),G(a,c,":after",b),E(a,HTMLTextAreaElement)&&(c.textContent=a.value),E(a,HTMLInputElement)&&c.setAttribute("value",a.value),fa(a,c));return c}).then(c=>ha(c,b)):null})};const Q=/url\((['"]?)([^'"]+?)\1\)/g,ia=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ja=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ka(a){const b=[];a.replace(Q,(d,c,e)=>{b.push(e);return d});return b.filter(d=>!H(d))}
function la(a,b,d,c){return t(function*(){try{const e=d?(new URL(b,d||void 0)).toString():b;let f;f=yield L(e,M[N(b).toLowerCase()]||"",c);return a.replace(new RegExp(`(url\\(['"]?)(${b.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")})(['"]?\\))`,"g"),`$1${f}$3`)}catch(e){}return a})}function ma(a,{I:b}){return b?a.replace(ja,d=>{for(;;){const [c,,e]=ia.exec(d)||[],f=c,g=e;if(!g)return"";if(g===b)return`src: ${f};`}}):a}
function R(a,b,d){return t(function*(){if(a.search(Q)===-1)return a;const c=ma(a,d);return ka(c).reduce((e,f)=>e.then(g=>la(g,f,b,d)),Promise.resolve(c))})};function S(a,b,d){return t(function*(){var c;const e=(c=b.style)==null?void 0:c.getPropertyValue(a);return e?(c=yield R(e,null,d),b.style.setProperty(a,c,b.style.getPropertyPriority(a)),!0):!1})}function na(a,b){return t(function*(){(yield S("background",a,b))||(yield S("background-image",a,b));(yield S("mask",a,b))||(yield S("-webkit-mask",a,b))||(yield S("mask-image",a,b))||(yield S("-webkit-mask-image",a,b))})}
function oa(a,b){return t(function*(){const d=E(a,HTMLImageElement);if(d&&!H(a.src)||E(a,SVGImageElement)&&!H(a.href.baseVal)){var c=d?a.src:a.href.baseVal,e=yield L(c,M[N(c).toLowerCase()]||"",b);yield new Promise((f,g)=>{a.onload=f;a.onerror=b.m?(...k)=>{try{f(b.m(...k))}catch(m){g(m)}}:g;a.decode&&(a.decode=f);a.loading==="lazy"&&(a.loading="eager");d?(a.srcset="",a.src=e):a.href.baseVal=e})}})}
function pa(a,b){return t(function*(){const d=w(a.childNodes).map(c=>T(c,b));yield Promise.all(d).then(()=>a)})}function T(a,b){return t(function*(){E(a,Element)&&(yield na(a,b),yield oa(a,b),yield pa(a,b))})};const U={};function V(a){return t(function*(){var b=U[a];if(b!=null)return b;b=yield(yield fetch(a)).text();b={url:a,cssText:b};return U[a]=b})}function W(a,b){return t(function*(){let d=a.cssText;const c=/url\(["']?([^"')]+)["']?\)/g,e=(d.match(/url\([^)]+\)/g)||[]).map(f=>t(function*(){let g=f.replace(c,"$1");g.startsWith("https://")||(g=(new URL(g,a.url)).href);return I(g,b.i,({result:k})=>{d=d.replace(f,`url(${k})`);return[f,k]})}));return Promise.all(e).then(()=>d)})}
function X(a){if(a==null)return[];const b=[];a=a.replace(/(\/\*[\s\S]*?\*\/)/gi,"");for(var d=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var c=d.exec(a);if(c===null)break;b.push(c[0])}a=a.replace(d,"");d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi;for(c=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){let e=d.exec(a);if(e===null)if(e=c.exec(a),e===null)break;else d.lastIndex=c.lastIndex;else c.lastIndex=
d.lastIndex;b.push(e[0])}return b}
function qa(a,b){return t(function*(){const d=[],c=[];a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach((f,g)=>{if(f.type===CSSRule.IMPORT_RULE){let k=g+1;f=V(f.href).then(m=>W(m,b)).then(m=>X(m).forEach(q=>{try{e.insertRule(q,q.startsWith("@import")?k+=1:e.cssRules.length)}catch(Da){}})).catch(()=>{});c.push(f)}})}catch(f){const g=a.find(k=>k.href==null)||document.styleSheets[0];e.href!=null&&c.push(V(e.href).then(k=>W(k,b)).then(k=>X(k).forEach(m=>{g.insertRule(m,g.cssRules.length)})).catch(()=>
{}))}});return Promise.all(c).then(()=>{a.forEach(e=>{if("cssRules"in e)try{w(e.cssRules||[]).forEach(f=>{d.push(f)})}catch(f){}});return d})})}function ra(a){return a.filter(b=>b.type===CSSRule.FONT_FACE_RULE).filter(b=>b.style.getPropertyValue("src").search(Q)!==-1)}function sa(a,b){return t(function*(){if(a.ownerDocument==null)throw Error("Provided element is not within a Document");var d=w(a.ownerDocument.styleSheets);d=yield qa(d,b);return ra(d)})}
function ta(a){function b(c){(c.style.fontFamily||getComputedStyle(c).fontFamily).split(",").forEach(e=>{d.add(e.trim().replace(/["']/g,""))});Array.from(c.children).forEach(e=>{e instanceof HTMLElement&&b(e)})}const d=new Set;b(a);return d}function ua(a,b){return t(function*(){const d=yield sa(a,b),c=ta(a);return(yield Promise.all(d.filter(e=>c.has(e.style.fontFamily.trim().replace(/["']/g,""))).map(e=>R(e.cssText,e.parentStyleSheet?e.parentStyleSheet.href:null,b)))).join("\n")})}
function va(a,b){return t(function*(){const d=b.j!=null?b.j:b.K?null:yield ua(a,b);if(d){const c=document.createElement("style");c.appendChild(document.createTextNode(d));a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}})};function wa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b),e=yield P(a,b,!0);yield va(e,b);yield T(e,b);u(e,b);return yield D(e,d,c)})}
function xa(a,b={}){return t(function*(){const {width:d,height:c}=A(a,b);var e=yield wa(a,b);e=yield B(e);const f=document.createElement("canvas"),g=f.getContext("2d"),k=b.G||window.devicePixelRatio||1,m=b.h||d,q=b.g||c;f.width=m*k;f.height=q*k;!b.J&&(f.width>16384||f.height>16384)&&(f.width>16384&&f.height>16384?f.width>f.height?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=16384):f.width>16384?(f.height*=16384/f.width,f.width=16384):(f.width*=16384/f.height,f.height=
16384));f.style.width=`${m}`;f.style.height=`${q}`;b.backgroundColor&&(g.fillStyle=b.backgroundColor,g.fillRect(0,0,f.width,f.height));g.drawImage(e,0,0,f.width,f.height);return f})}function ya(a,b={}){return t(function*(){return(yield xa(a,b)).toDataURL()})};const za=["gemini.google.com","corp.google.com","proxy.googlers.com"];function Y(){return document.body.querySelectorAll('[class*="animate"]').length>0}function Z(a){return t(function*(){try{return yield ya(a,{h:a.offsetWidth,g:a.offsetHeight})}catch(d){var b=a.offsetHeight;const c=document.createElement("canvas");c.width=a.offsetWidth;c.height=b;return c.toDataURL("image/png")}})}
function Aa(){return t(function*(){const a=document.body.offsetWidth,b=document.body.offsetHeight,d=document.body.cloneNode(!0);d.querySelectorAll('[class*="animate"]').forEach(c=>{c.classList.remove(...Array.from(c.classList).filter(e=>e.startsWith("animate")))});d.style.width=`${a}px`;d.style.height=`${b}px`;return d})}
function Ba(a){return t(function*(){let b=document.body;if(Y()){var d=yield Aa();b=d;document.body.appendChild(d)}d=yield Z(b);Y()&&document.body.removeChild(b);window.parent.postMessage({type:"SEND_SCREENSHOT",image:d,topOffset:document.documentElement.scrollTop},a.origin)})}function Ca(a){return t(function*(){const b={type:"SEND_SCREENSHOT_FOR_DATA_VISUALIZATION",image:yield Z(document.body),topOffset:0};window.parent.postMessage(b,a.origin)})}
window.addEventListener("message",a=>t(function*(){if(za.some(d=>a.origin.includes(d))){var b=a.data;b&&(b.type==="MAKE_SCREENSHOT"&&(yield Ba(a)),b.type==="MAKE_SCREENSHOT_FOR_DATA_VISUALIZATION"&&(yield Ca(a)))}}));
</script><script>(function() {
  // Ensure this script is executed only once
  if (window.firebaseAuthBridgeScriptLoaded) {
    return;
  }
  window.firebaseAuthBridgeScriptLoaded = true;

  let nextTokenPromiseId = 0;

  // Stores { resolve, reject } for ongoing token requests
  const pendingTokenPromises = {};

  // Listen for messages from the Host Application
  window.addEventListener('message', function(event) {

    const messageData = event.data;

  if (messageData && messageData.type === 'RESOLVE_NEW_FIREBASE_TOKEN') {
      const { success, token, error, promiseId } = messageData ?? {};
      if (pendingTokenPromises[promiseId]) {
        if (success) {
          pendingTokenPromises[promiseId].resolve(token);
        } else {
          pendingTokenPromises[promiseId].reject(new Error(error || 'Token refresh failed from host.'));
        }
        delete pendingTokenPromises[promiseId];
      }
    }
  });

  // Expose a function for the Generated App to request a new Firebase token
  window.requestNewFirebaseToken = function() {
    const currentPromiseId = nextTokenPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingTokenPromises[currentPromiseId] = { resolve, reject };
    });
    if (window.parent && window.parent !== window) {
      window.parent.postMessage({
        type: 'REQUEST_NEW_FIREBASE_TOKEN',
        promiseId: currentPromiseId
      }, '*');
    } else {
      pendingTokenPromises[currentPromiseId].reject(new Error('No parent window to request token from.'));
      delete pendingTokenPromises[currentPromiseId];
    }
    return promise;
  };
})();</script><script>
let realOriginalGetUserMedia = null;
if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
  realOriginalGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
}

(function() {
  if (navigator.mediaDevices && navigator.mediaDevices.__proto__) {
    try {
      Object.defineProperty(navigator.mediaDevices.__proto__, 'getUserMedia', {
        get: function() {
          return undefined; // Or throw an error
        },
        configurable: false
      });
    } catch (error) {
      console.error("Error defining prototype getter:", error);
    }
  }
})();

(function() {
  const pendingMediaResolvers = {};
  let nextMediaPromiseId = 0;

  function requestMediaPermissions(constraints) {
    const mediaPromiseId = nextMediaPromiseId++;
    const promise = new Promise((resolve, reject) => {
      pendingMediaResolvers[mediaPromiseId] = (granted) => {
        delete pendingMediaResolvers[mediaPromiseId];
        resolve(granted);
      };
    });

    window.parent.postMessage({
      type: 'requestMediaPermission',
      constraints: constraints,
      promiseId: mediaPromiseId,
    }, '*');

    return promise;
  }

  let originalGetUserMedia = realOriginalGetUserMedia;

  function interceptGetUserMedia() {
    if (navigator.mediaDevices) {
      Object.defineProperty(navigator.mediaDevices, 'getUserMedia', {
        value: function(constraints) {
          return requestMediaPermissions(constraints).then((granted) => {
            if (granted) {
              if (originalGetUserMedia) {
                return originalGetUserMedia(constraints);
              } else {
                throw new Error("Original getUserMedia not available.");
              }
            } else {
              throw new DOMException('Permission denied', 'NotAllowedError');
            }
          });
        },
        writable: false,
        configurable: false
      });
    }
  }

  interceptGetUserMedia();

  const observer = new MutationObserver(function(mutationsList, observer) {
    for (const mutation of mutationsList) {
      if (mutation.type === 'reconfigured' && mutation.name === 'getUserMedia' && mutation.object === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'attributes' && mutation.attributeName === 'getUserMedia' && mutation.target === navigator.mediaDevices) {
        interceptGetUserMedia();
      } else if (mutation.type === 'childList' && mutation.addedNodes) {
        mutation.addedNodes.forEach(node => {
          if (node === navigator.mediaDevices) {
            interceptGetUserMedia();
          }
        });
      }
    }
  });

  function interceptSpeechRecognition() {
    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {
      return;
    }

    const OriginalSpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

    const SpeechRecognitionWrapper = function(...args) {
      const recognizer = new OriginalSpeechRecognition(...args);
      const originalStart = recognizer.start.bind(recognizer);

      recognizer.start = function() {
        requestMediaPermissions({ audio: true }).then(granted => {
          if (granted) {
            originalStart();
          } else {
            const errorEvent = new SpeechRecognitionErrorEvent('error');
            errorEvent.error = 'not-allowed'; // This is the standard error for permission denial.
            recognizer.dispatchEvent(errorEvent);
          }
        });
      };

      return recognizer;
    };

    SpeechRecognitionWrapper.prototype = OriginalSpeechRecognition.prototype;
    SpeechRecognitionWrapper.prototype.constructor = SpeechRecognitionWrapper;

    if (window.SpeechRecognition) {
      window.SpeechRecognition = SpeechRecognitionWrapper;
    }
    if (window.webkitSpeechRecognition) {
      window.webkitSpeechRecognition = SpeechRecognitionWrapper;
    }
  }

  interceptSpeechRecognition();

  window.addEventListener('message', function(event) {
    if (event.data) {
      if (event.data.type === 'resolveMediaPermission') {
        const { promiseId, granted } = event.data;
        if (pendingMediaResolvers[promiseId]) {
          pendingMediaResolvers[promiseId](granted);
        }
      }
    }
  });

})();</script><script>((function(modelInformation) {
  const originalFetch = window.fetch;
  // TODO: b/421908508 - Move these out of the script and match all generative AI model calls.
  let googleLlmBaseApiUrls = [
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':streamGenerateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.textModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageEditModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.imageTransformModelName + ':generateContent',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predict',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.videoModelName + ':predictLongRunning',
    'https://generativelanguage.googleapis.com/v1beta/models/' + modelInformation.ttsModelName + ':generateContent',
  ];
  modelInformation.deprecatedTextModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':streamGenerateContent',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':generateContent',
    );
  });
  modelInformation.deprecatedImageModelNames.forEach((modelName) => {
    googleLlmBaseApiUrls.push(
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predict',
      'https://generativelanguage.googleapis.com/v1beta/models/' + modelName + ':predictLongRunning',
    );
  });

  const pendingFetchResolvers = {};
  let nextPromiseId = 0;

  function handleStringInput(input, optionsArgument) {
    const actualUrl = input;
    const fetchCallArgs = [actualUrl, optionsArgument];
    const effectiveOptions = optionsArgument || {};
    const bodyForApiKeyCheck = effectiveOptions.body;
    const bodyForPostMessage = effectiveOptions.body;
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  function handleRequestInput(input, optionsArgument) {
    const actualUrl = input.url;
    const fetchCallArgs = [input, optionsArgument];
    const effectiveOptions = { method: input.method, headers: new Headers(input.headers) };
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (optionsArgument) {
      if (optionsArgument.method) effectiveOptions.method = optionsArgument.method;
      if (optionsArgument.headers) effectiveOptions.headers = new Headers(optionsArgument.headers);
      if ('body' in optionsArgument) {
        bodyForApiKeyCheck = optionsArgument.body;
        bodyForPostMessage = optionsArgument.body;
      } else {
        bodyForApiKeyCheck = undefined;
        bodyForPostMessage = input.body;
      }
    } else {
      bodyForApiKeyCheck = undefined;
      bodyForPostMessage = input.body;
    }
    return { actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage };
  }

  window.fetch = function(input, optionsArgument) {
    let actualUrl;
    let fetchCallArgs;
    let effectiveOptions = {};
    let bodyForApiKeyCheck;
    let bodyForPostMessage;

    if (typeof input === 'string') {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleStringInput(input, optionsArgument));
    } else if (input instanceof Request) {
      ({actualUrl, fetchCallArgs, effectiveOptions, bodyForApiKeyCheck, bodyForPostMessage} = handleRequestInput(input, optionsArgument));
    } else {
      return originalFetch.apply(window, [input, optionsArgument]);
    }

    effectiveOptions.method = effectiveOptions.method || 'GET';
    if (!effectiveOptions.headers) {
      effectiveOptions.headers = new Headers();
    }


    if (typeof actualUrl === 'string' && googleLlmBaseApiUrls.some((url) => actualUrl.startsWith(url))) {
      let apiKeyIsNull = true;

      const regex = new RegExp("models/([^:]+)");
      const modelNameMatch = actualUrl.match(regex);
      const modelName = modelNameMatch ? modelNameMatch[1] : 'unspecified';


      try {
        const urlObject = new URL(actualUrl);  // Use URL object for robust parsing
        const apiKeyParam = urlObject.searchParams.get('key');
        if (apiKeyParam) {
          apiKeyIsNull = false;
        }
      } catch (e) {
        // Continue checks even if URL parsing fails
      }

      if (apiKeyIsNull && effectiveOptions.headers) {
        const h = new Headers(effectiveOptions.headers);
        const apiKeyHeaderValue = h.get('X-API-Key') || h.get('x-api-key');
        if (apiKeyHeaderValue) {
          apiKeyIsNull = false;
          return originalFetch.apply(window, fetchCallArgs);
        }
      }

      if (apiKeyIsNull && effectiveOptions.method && ['POST', 'PUT', 'PATCH'].includes(effectiveOptions.method.toUpperCase()) && typeof bodyForApiKeyCheck === 'string') {
        try {
          const bodyData = JSON.parse(bodyForApiKeyCheck);
          if (bodyData && bodyData.apiKey) {
            apiKeyIsNull = false;
            return originalFetch.apply(window, fetchCallArgs);
          }
        } catch (e) {
          // Ignore JSON parsing errors
        }
      }

      if(apiKeyIsNull) {
        const promiseId = nextPromiseId++;
        const promise = new Promise((resolve) => {
          pendingFetchResolvers[promiseId] = (resolvedResponse) => {
            delete pendingFetchResolvers[promiseId];
            resolve(resolvedResponse);
          };
        });

        let serializedBodyForPostMessage;
        if (typeof bodyForPostMessage === 'string' || bodyForPostMessage == null) {
            serializedBodyForPostMessage = bodyForPostMessage;
        } else if (bodyForPostMessage instanceof ReadableStream) {
            serializedBodyForPostMessage = null;
        } else {
            try {
                serializedBodyForPostMessage = JSON.stringify(bodyForPostMessage);
            } catch (e) {
                serializedBodyForPostMessage = null;
            }
        }

        const messageOptions = {
            method: effectiveOptions.method,
            headers: Object.fromEntries(new Headers(effectiveOptions.headers).entries()),
            body: serializedBodyForPostMessage
        };

        window.parent.postMessage({
          type: 'requestFetch',
          url: actualUrl,
          modelName: modelName,
          options: messageOptions,
          promiseId: promiseId,
        }, '*');

        return promise;
      }
      return originalFetch.apply(window, fetchCallArgs);
    }
    return originalFetch.apply(window, fetchCallArgs);
  };

  window.addEventListener('message', function(event) {
    if (event.data && event.data.type === 'resolveFetch') {
      const { promiseId, response } = event.data;
      if (pendingFetchResolvers[promiseId]) {
        try {
          const reconstructedResponse = new Response(response.body, {
            status: response.status,
            statusText: response.statusText,
            headers: new Headers(response.headers),
          });
          pendingFetchResolvers[promiseId](reconstructedResponse);
        } catch (error) {
          pendingFetchResolvers[promiseId](new Response(null, { status: 500, statusText: "Interceptor Response Reconstruction Error" }));
        }
      }
    }
  });

}))({"textModelName":"gemini-2.5-flash-preview-09-2025","imageModelName":"imagen-4.0-generate-001","imageEditModelName":"gemini-2.5-flash-image-preview","imageTransformModelName":"gemini-2.5-flash-image-preview","videoModelName":"veo-2.0-generate-001","ttsModelName":"gemini-2.5-flash-preview-tts","deprecatedTextModelNames":["gemini-2.0-flash","gemini-2.5-flash-preview-04-17","gemini-2.5-flash-preview-05-20"],"deprecatedImageModelNames":["imagen-3.0-generate-001","imagen-3.0-generate-002"]})</script><script>(function() {
  const originalConsoleLog = console.log;
  const originalConsoleError = console.error;

    /**
   * Normalizes an error event or a promise rejection reason into a structured error object.
   * @param {*} errorEventOrReason The error object or reason.
   * @return {object} Structured error data { message, name, stack }.
   */
  function getErrorObject(errorEventOrReason) {
    if (errorEventOrReason instanceof Error) {
      return {
        message: errorEventOrReason.message,
        name: errorEventOrReason.name,
        stack: errorEventOrReason.stack,
      };
    }
    // Fallback for non-Error objects.
    try {
      return {
        message: JSON.stringify(errorEventOrReason),
        name: 'UnknownErrorType',
        stack: null,
      };
    } catch (e) {
      return {
        message: String(errorEventOrReason),
        name: 'UnknownErrorTypeNonStringifiable',
        stack: null,
      };
    }
  }

  /**
   * Converts an array of arguments (from log/error) into a single string.
   * Handles Error objects specially to include their message and stack.
   * @param {Array<*>} args - Arguments passed to console methods.
   * @return {string} A string representation of the arguments.
   */
  function stringifyArgs(args) {
    return args
      .map((arg) => {
        if (arg instanceof Error) {
          const {message, stack} = arg;
          return `Error: ${message}${stack ? ('\nStack: ' + stack) : ''}`;
        }
        if (typeof arg === 'object' && arg !== null) {
          try {
            return JSON.stringify(arg);
          } catch (error) {
            return '[Circular Object]';
          }
        } else {
          return String(arg);
        }
      })
      .join(' ');
  }

  console.log = function(...args) {
    const logString = stringifyArgs(args);
    window.parent.postMessage({ type: 'log', message: logString }, '*');
    originalConsoleLog.apply(console, args);
  };

  console.error = function(...args) {
    let errorData;
    if (args.length > 0 && args[0] instanceof Error) {
      const err = args[0];
      // If the first arg is an Error, capture its details.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        ...getErrorObject(err),
        rawArgsString: stringifyArgs(args.slice(1)),
        timestamp: new Date().toISOString(),
      };
    } else {
      // If not an Error object, treat all args as a general error message.
      errorData = {
        type: 'error',
        source: 'CONSOLE_ERROR',
        message: stringifyArgs(args),
        name: 'ConsoleLoggedError',
        stack: null,
        timestamp: new Date().toISOString(),
      };
    }
    window.parent.postMessage(errorData, '*');
    originalConsoleError.apply(console, args);
  };

  // Listen for global unhandled synchronous errors.
  window.addEventListener('error', function(event) {
    const errorDetails = event.error ? getErrorObject(event.error) : {
      message: event.message,
      name: 'GlobalError',
      stack: null,
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
    };

    window.parent.postMessage({
      type: 'error',
      source: 'global',
      ...errorDetails,
      message: errorDetails.message || event.message,
      timestamp: new Date().toISOString(),
    }, '*');
  });

  // Listen for unhandled promise rejections (asynchronous errors).
  window.addEventListener('unhandledrejection', function(event) {
    const errorDetails = getErrorObject(event.reason);

    window.parent.postMessage({
      type: 'error',
      source: 'unhandledrejection',
      ...errorDetails,
      message: errorDetails.message || 'Unhandled Promise Rejection',
      timestamp: new Date().toISOString(),
    }, '*');
  });

})();</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>でんでんタイマー</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin="anonymous" src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin="anonymous" src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js" crossorigin="anonymous"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', '"Segoe UI"', 'Roboto', 'Helvetica', 'Arial', 'sans-serif'],
                        mono: ['ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', "Liberation Mono", "Courier New", 'monospace'],
                    },
                    colors: {
                        primary: '#475569',   // Slate 600
                        secondary: '#64748b', // Slate 500
                        accent: '#e11d48',    // Rose 600
                        safe: '#059669',      // Emerald 600
                        surface: '#f8fafc',   // Slate 50
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(0,0,0,0.05)',
                        'float': '0 10px 30px -10px rgba(0,0,0,0.15)',
                        'inner-light': 'inset 0 2px 4px 0 rgba(255, 255, 255, 0.5)',
                        'sm-up': '0 -4px 20px rgba(0,0,0,0.08)',
                        'glow': '0 0 20px rgba(71, 85, 105, 0.15)',
                        'card': '0 2px 8px rgba(0, 0, 0, 0.04)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-out',
                        'slide-up': 'slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1)',
                        'slide-down': 'slideDown 0.3s cubic-bezier(0.16, 1, 0.3, 1)',
                        'slide-in-right': 'slideInRight 0.3s cubic-bezier(0.16, 1, 0.3, 1)',
                        'slide-in-left': 'slideInLeft 0.3s cubic-bezier(0.16, 1, 0.3, 1)',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        slideUp: { '0%': { transform: 'translateY(20px)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } },
                        slideDown: { '0%': { transform: 'translateY(-100%)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } },
                        slideInRight: { '0%': { transform: 'translateX(20%)', opacity: '0' }, '100%': { transform: 'translateX(0)', opacity: '1' } },
                        slideInLeft: { '0%': { transform: 'translateX(-20%)', opacity: '0' }, '100%': { transform: 'translateX(0)', opacity: '1' } },
                    }
                }
            }
        }
    </script>
    
    <!-- Custom Styles -->
    <style>
        body {
            -webkit-tap-highlight-color: transparent;
            overscroll-behavior-y: none;
            background-color: #f8fafc; /* surface */
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .tabular-nums { font-feature-settings: "tnum"; font-variant-numeric: tabular-nums; }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
        .pt-safe { padding-top: env(safe-area-inset-top); }
        
        /* Drawer Handle Animation */
        .drawer-handle::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 5px;
            background-color: #cbd5e1;
            border-radius: 9999px;
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0px}.bottom-1{bottom:0.25rem}.bottom-6{bottom:1.5rem}.left-0{left:0px}.left-1{left:0.25rem}.right-0{right:0px}.top-0{top:0px}.top-1{top:0.25rem}.bottom-0{bottom:0px}.left-\[calc\(50\%\+2px\)\]{left:calc(50% + 2px)}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-\[110\]{z-index:110}.z-\[150\]{z-index:150}.-mx-4{margin-left:-1rem;margin-right:-1rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-6{margin-bottom:1.5rem}.mt-4{margin-top:1rem}.mb-1\.5{margin-bottom:0.375rem}.ml-0\.5{margin-left:0.125rem}.mr-2{margin-right:0.5rem}.mt-1{margin-top:0.25rem}.mb-10{margin-bottom:2.5rem}.mb-4{margin-bottom:1rem}.mb-8{margin-bottom:2rem}.ml-1{margin-left:0.25rem}.mt-0\.5{margin-top:0.125rem}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.h-screen{height:100vh}.h-full{height:100%}.h-10{height:2.5rem}.h-12{height:3rem}.h-3\.5{height:0.875rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-1\.5{height:0.375rem}.h-8{height:2rem}.h-3{height:0.75rem}.min-h-\[55vh\]{min-height:55vh}.w-full{width:100%}.w-12{width:3rem}.w-3\.5{width:0.875rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-\[calc\(50\%-4px\)\]{width:calc(50% - 4px)}.w-auto{width:auto}.w-1\.5{width:0.375rem}.w-10{width:2.5rem}.w-3{width:0.75rem}.min-w-\[120px\]{min-width:120px}.min-w-\[140px\]{min-width:140px}.min-w-0{min-width:0px}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.flex-none{flex:none}.flex-shrink-0{flex-shrink:0}.translate-y-0{--tw-translate-y:0px;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-full{--tw-translate-y:100%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}.animate-fade-in{animation:fadeIn 0.3s ease-out}.cursor-pointer{cursor:pointer}.cursor-grab{cursor:grab}.touch-none{touch-action:none}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;user-select:none}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1\.5{gap:0.375rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-1{gap:0.25rem}.gap-4{gap:1rem}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-0 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0px * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0px * var(--tw-space-y-reverse))}.divide-y > :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-slate-100 > :not([hidden]) ~ :not([hidden]){--tw-divide-opacity:1;border-color:rgb(241 245 249 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.break-words{overflow-wrap:break-word}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-xl{border-radius:0.75rem}.rounded{border-radius:0.25rem}.rounded-md{border-radius:0.375rem}.rounded-t-3xl{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-slate-100{--tw-border-opacity:1;border-color:rgb(241 245 249 / var(--tw-border-opacity, 1))}.border-slate-300{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.border-white\/40{border-color:rgb(255 255 255 / 0.4)}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.bg-surface{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-primary{--tw-bg-opacity:1;background-color:rgb(71 85 105 / var(--tw-bg-opacity, 1))}.bg-slate-100{--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity, 1))}.bg-slate-200\/50{background-color:rgb(226 232 240 / 0.5)}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/40{background-color:rgb(255 255 255 / 0.4)}.bg-white\/80{background-color:rgb(255 255 255 / 0.8)}.bg-white\/90{background-color:rgb(255 255 255 / 0.9)}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-slate-200{--tw-bg-opacity:1;background-color:rgb(226 232 240 / var(--tw-bg-opacity, 1))}.bg-slate-700{--tw-bg-opacity:1;background-color:rgb(51 65 85 / var(--tw-bg-opacity, 1))}.p-1{padding:0.25rem}.p-8{padding:2rem}.p-6{padding:1.5rem}.p-2{padding:0.5rem}.p-4{padding:1rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-2\.5{padding-top:0.625rem;padding-bottom:0.625rem}.py-3\.5{padding-top:0.875rem;padding-bottom:0.875rem}.px-1\.5{padding-left:0.375rem;padding-right:0.375rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.py-0\.5{padding-top:0.125rem;padding-bottom:0.125rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.pb-32{padding-bottom:8rem}.pb-4{padding-bottom:1rem}.pb-6{padding-bottom:1.5rem}.pb-2{padding-bottom:0.5rem}.pb-3{padding-bottom:0.75rem}.pr-2{padding-right:0.5rem}.pt-4{padding-top:1rem}.pb-24{padding-bottom:6rem}.pt-2{padding-top:0.5rem}.pb-1{padding-bottom:0.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-sans{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif}.text-\[10px\]{font-size:10px}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xs{font-size:0.75rem;line-height:1rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.text-\[8px\]{font-size:8px}.text-2xl{font-size:1.5rem;line-height:2rem}.text-7xl{font-size:4.5rem;line-height:1}.text-\[11px\]{font-size:11px}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.font-bold{font-weight:700}.uppercase{text-transform:uppercase}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.leading-none{line-height:1}.leading-tight{line-height:1.25}.tracking-widest{letter-spacing:0.1em}.tracking-tighter{letter-spacing:-0.05em}.tracking-wider{letter-spacing:0.05em}.tracking-tight{letter-spacing:-0.025em}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\/90{color:rgb(255 255 255 / 0.9)}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-slate-200{--tw-text-opacity:1;color:rgb(226 232 240 / var(--tw-text-opacity, 1))}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.opacity-100{opacity:1}.opacity-60{opacity:0.6}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-float{--tw-shadow:0 10px 30px -10px rgba(0,0,0,0.15);--tw-shadow-colored:0 10px 30px -10px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-soft{--tw-shadow:0 4px 20px -2px rgba(0,0,0,0.05);--tw-shadow-colored:0 4px 20px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-card{--tw-shadow:0 2px 8px rgba(0, 0, 0, 0.04);--tw-shadow-colored:0 2px 8px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm-up{--tw-shadow:0 -4px 20px rgba(0,0,0,0.08);--tw-shadow-colored:0 -4px 20px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.ring-1{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.ring-black\/5{--tw-ring-color:rgb(0 0 0 / 0.05)}.drop-shadow-sm{--tw-drop-shadow:drop-shadow(0 1px 1px rgb(0 0 0 / 0.05));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-md{--tw-backdrop-blur:blur(12px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-xl{--tw-backdrop-blur:blur(24px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.duration-500{transition-duration:500ms}.duration-700{transition-duration:700ms}.ease-out{transition-timing-function:cubic-bezier(0, 0, 0.2, 1)}.hover\:border-indigo-300:hover{--tw-border-opacity:1;border-color:rgb(165 180 252 / var(--tw-border-opacity, 1))}.hover\:border-indigo-100:hover{--tw-border-opacity:1;border-color:rgb(224 231 255 / var(--tw-border-opacity, 1))}.hover\:bg-indigo-700:hover{--tw-bg-opacity:1;background-color:rgb(67 56 202 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-200:hover{--tw-bg-opacity:1;background-color:rgb(226 232 240 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-700:hover{--tw-bg-opacity:1;background-color:rgb(51 65 85 / var(--tw-bg-opacity, 1))}.hover\:bg-white:hover{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-50:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-800:hover{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.hover\:bg-indigo-50:hover{--tw-bg-opacity:1;background-color:rgb(238 242 255 / var(--tw-bg-opacity, 1))}.hover\:text-slate-600:hover{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.hover\:text-primary:hover{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.hover\:text-slate-300:hover{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.active\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\:scale-\[0\.98\]:active{--tw-scale-x:0.98;--tw-scale-y:0.98;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\:scale-\[0\.99\]:active{--tw-scale-x:0.99;--tw-scale-y:0.99;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.active\:cursor-grabbing:active{cursor:grabbing}.active\:bg-slate-100:active{--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity, 1))}.active\:bg-slate-900:active{--tw-bg-opacity:1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.active\:bg-indigo-100:active{--tw-bg-opacity:1;background-color:rgb(224 231 255 / var(--tw-bg-opacity, 1))}.group:hover .group-hover\:text-primary{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}</style><script>"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
var _excluded = ["path", "className"];
function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }
function _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }
function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }
function _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }
function _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }
function _arrayWithHoles(r) { if (Array.isArray(r)) return r; }
function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }
function _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }
function _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }
var _React = React,
  useState = _React.useState,
  useEffect = _React.useEffect,
  useRef = _React.useRef,
  useMemo = _React.useMemo,
  useLayoutEffect = _React.useLayoutEffect,
  useCallback = _React.useCallback;

// --- Icons (High Quality Lucide Icons) ---
var Icon = function Icon(_ref) {
  var path = _ref.path,
    className = _ref.className,
    props = _objectWithoutProperties(_ref, _excluded);
  return /*#__PURE__*/React.createElement("svg", _extends({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: "2",
    strokeLinecap: "round",
    strokeLinejoin: "round",
    className: className
  }, props), path);
};
var Icons = {
  ArrowLeft: /*#__PURE__*/React.createElement("path", {
    d: "m12 19-7-7 7-7 M19 12H5"
  }),
  TrainFront: /*#__PURE__*/React.createElement("path", {
    d: "M8 3.1V7a4 4 0 0 0 8 0V3.1M2 11h20M12 3v8M9 22H7a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-2M15 15h2M7 15h2"
  }),
  Clock: /*#__PURE__*/React.createElement("g", null, /*#__PURE__*/React.createElement("circle", {
    cx: "12",
    cy: "12",
    r: "10"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "12 6 12 12 16 14"
  })),
  ExternalLink: /*#__PURE__*/React.createElement("g", null, /*#__PURE__*/React.createElement("path", {
    d: "M15 3h6v6"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M10 14 21 3"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
  })),
  Moon: /*#__PURE__*/React.createElement("path", {
    d: "M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"
  }),
  ChevronUp: /*#__PURE__*/React.createElement("path", {
    d: "m18 15-6-6-6 6"
  }),
  ChevronDown: /*#__PURE__*/React.createElement("path", {
    d: "m6 9 6 6 6-6"
  }),
  ChevronRight: /*#__PURE__*/React.createElement("path", {
    d: "m9 18 6-6-6-6"
  }),
  MapPin: /*#__PURE__*/React.createElement("g", null, /*#__PURE__*/React.createElement("path", {
    d: "M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"
  }), /*#__PURE__*/React.createElement("circle", {
    cx: "12",
    cy: "10",
    r: "3"
  })),
  Settings: /*#__PURE__*/React.createElement("path", {
    d: "M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"
  }),
  History: /*#__PURE__*/React.createElement("path", {
    d: "M3 12a9 9 0 1 0 9 9 9.75 9.75 0 0 0-6.74 2.74L3 12"
  }),
  Search: /*#__PURE__*/React.createElement("g", null, /*#__PURE__*/React.createElement("circle", {
    cx: "11",
    cy: "11",
    r: "8"
  }), /*#__PURE__*/React.createElement("path", {
    d: "m21 21-4.3-4.3"
  })),
  ArrowRightLeft: /*#__PURE__*/React.createElement("path", {
    d: "M8 3 4 7l4 4M4 7h16M16 21l4-4-4-4M20 17H4"
  }),
  Pin: /*#__PURE__*/React.createElement("g", null, /*#__PURE__*/React.createElement("line", {
    x1: "12",
    x2: "12",
    y1: "17",
    y2: "22"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"
  })),
  X: /*#__PURE__*/React.createElement("path", {
    d: "M18 6 6 18M6 6 18 18"
  }),
  Star: /*#__PURE__*/React.createElement("polygon", {
    points: "12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"
  }),
  RefreshCw: /*#__PURE__*/React.createElement("g", null, /*#__PURE__*/React.createElement("path", {
    d: "M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M3 3v5h5"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M21 21v-5h-5"
  })),
  Check: /*#__PURE__*/React.createElement("polyline", {
    points: "20 6 9 17 4 12"
  }),
  Trash: /*#__PURE__*/React.createElement("g", null, /*#__PURE__*/React.createElement("path", {
    d: "M3 6h18"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"
  })),
  Grip: /*#__PURE__*/React.createElement("g", null, /*#__PURE__*/React.createElement("circle", {
    cx: "9",
    cy: "12",
    r: "1"
  }), /*#__PURE__*/React.createElement("circle", {
    cx: "9",
    cy: "5",
    r: "1"
  }), /*#__PURE__*/React.createElement("circle", {
    cx: "9",
    cy: "19",
    r: "1"
  }), /*#__PURE__*/React.createElement("circle", {
    cx: "15",
    cy: "12",
    r: "1"
  }), /*#__PURE__*/React.createElement("circle", {
    cx: "15",
    cy: "5",
    r: "1"
  }), /*#__PURE__*/React.createElement("circle", {
    cx: "15",
    cy: "19",
    r: "1"
  })),
  ListStart: /*#__PURE__*/React.createElement("g", null, /*#__PURE__*/React.createElement("path", {
    d: "M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"
  }), /*#__PURE__*/React.createElement("path", {
    d: "M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"
  })),
  FileText: /*#__PURE__*/React.createElement("g", null, /*#__PURE__*/React.createElement("path", {
    d: "M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"
  }), /*#__PURE__*/React.createElement("polyline", {
    points: "14 2 14 8 20 8"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "16",
    x2: "8",
    y1: "13",
    y2: "13"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "16",
    x2: "8",
    y1: "17",
    y2: "17"
  }), /*#__PURE__*/React.createElement("line", {
    x1: "10",
    x2: "8",
    y1: "9",
    y2: "9"
  }))
};

// --- Data: Line & Schedule Configurations ---

// 1. 各路線の基本設定（ID, 色, 名前, 方面, 駅）
var LINES_DATA = [{
  id: 'sobu_rapid',
  name: '総武線快速',
  color: 'bg-blue-600',
  textColor: 'text-blue-600',
  statusUrl: 'https://transit.yahoo.co.jp/traininfo/area/4/',
  directions: [{
    id: 'up',
    name: '東京方面',
    dest: ['東京', '横浜', '久里浜', '逗子'],
    platform: '3・4番線',
    lastTrain: '23:58',
    stations: ['千葉', '稲毛', '津田沼', '船橋', '市川', '新小岩', '錦糸町', '馬喰町', '新日本橋', '東京']
  }, {
    id: 'down',
    name: '千葉方面',
    dest: ['千葉', '成田空港', '君津', '上総一ノ宮'],
    platform: '1・2番線',
    lastTrain: '00:35',
    stations: ['東京', '新日本橋', '馬喰町', '錦糸町', '新小岩', '市川', '船橋', '津田沼', '稲毛', '千葉']
  }]
}, {
  id: 'sobu_local',
  name: '総武線各停',
  color: 'bg-yellow-400',
  textColor: 'text-yellow-600',
  statusUrl: 'https://transit.yahoo.co.jp/traininfo/area/4/',
  directions: [{
    id: 'west',
    name: '新宿方面',
    dest: ['三鷹', '中野', '西船橋'],
    platform: '1番線',
    lastTrain: '00:42',
    stations: ['千葉', '西千葉', '稲毛', '新検見川', '幕張', '幕張本郷', '津田沼', '東船橋', '船橋', '西船橋', '下総中山', '本八幡', '市川', '小岩', '新小岩', '平井', '亀戸', '錦糸町', '両国', '浅草橋', '秋葉原', '御茶ノ水', '水道橋', '飯田橋', '市ケ谷', '四ツ谷', '信濃町', '千駄ケ谷', '代々木', '新宿', '大久保', '東中野', '中野', '高円寺', '阿佐ケ谷', '荻窪', '西荻窪', '吉祥寺', '三鷹']
  }, {
    id: 'east',
    name: '千葉方面',
    dest: ['千葉', '津田沼', '西船橋'],
    platform: '2番線',
    lastTrain: '00:50',
    stations: ['三鷹', '新宿', '御茶ノ水', '秋葉原', '錦糸町', '新小岩', '市川', '本八幡', '西船橋', '船橋', '津田沼', '幕張', '千葉']
  }]
}, {
  id: 'yamanote',
  name: '山手線',
  color: 'bg-emerald-500',
  textColor: 'text-emerald-600',
  statusUrl: 'https://transit.yahoo.co.jp/traininfo/area/4/',
  directions: [{
    id: 'outer',
    name: '渋谷・新宿',
    dest: ['渋谷・新宿方面', '池袋行き'],
    platform: '2番線',
    lastTrain: '00:18',
    stations: ['品川', '大崎', '五反田', '目黒', '恵比寿', '渋谷', '原宿', '代々木', '新宿', '新大久保', '高田馬場', '池袋', '大塚', '巣鴨', '駒込', '田端', '西日暮里', '日暮里', '鶯谷', '上野', '御徒町', '秋葉原', '神田', '東京', '有楽町', '新橋', '浜松町', '田町', '高輪ゲートウェイ']
  }, {
    id: 'inner',
    name: '上野・池袋',
    dest: ['上野・池袋方面', '大崎行き'],
    platform: '3番線',
    lastTrain: '00:25',
    stations: ['東京', '神田', '秋葉原', '御徒町', '上野', '池袋', '新宿', '渋谷', '品川']
  }]
}, {
  id: 'keiyo',
  name: '京葉線',
  color: 'bg-rose-500',
  textColor: 'text-rose-500',
  statusUrl: 'https://transit.yahoo.co.jp/traininfo/area/4/',
  directions: [{
    id: 'up',
    name: '東京方面',
    dest: ['東京'],
    platform: '2番線',
    lastTrain: '23:45',
    stations: ['蘇我', '千葉みなと', '稲毛海岸', '検見川浜', '海浜幕張', '新習志野', '南船橋', '二俣新町', '市川塩浜', '新浦安', '舞浜', '葛西臨海公園', '新木場', '潮見', '越中島', '八丁堀', '東京']
  }, {
    id: 'down',
    name: '蘇我方面',
    dest: ['蘇我', '海浜幕張', '新習志野'],
    platform: '1番線',
    lastTrain: '00:10',
    stations: ['東京', '八丁堀', '新木場', '舞浜', '新浦安', '南船橋', '海浜幕張', '蘇我']
  }]
},
// --- 追加路線 ---
{
  id: 'keisei_main',
  name: '京成線',
  color: 'bg-blue-500',
  textColor: 'text-blue-500',
  statusUrl: 'https://www.keisei.co.jp/info/index.html',
  directions: [{
    id: 'up',
    name: '上野方面',
    dest: ['京成上野', '押上', '西馬込', '羽田空港'],
    platform: '2番線',
    lastTrain: '23:50',
    stations: ['京成成田', '京成佐倉', '勝田台', '八千代台', '実籾', '京成大久保', '京成津田沼', '谷津', '京成船橋', '海神', '京成西船', '東中山', '京成八幡', '京成高砂', '青砥', '日暮里', '京成上野']
  }, {
    id: 'down',
    name: '成田方面',
    dest: ['成田空港', '京成成田', '京成佐倉', '京成津田沼'],
    platform: '1番線',
    lastTrain: '00:20',
    stations: ['京成上野', '日暮里', '青砥', '京成高砂', '京成八幡', '東中山', '京成西船', '海神', '京成船橋', '谷津', '京成津田沼', '京成大久保', '実籾', '八千代台', '勝田台', '京成佐倉', '京成成田', '成田空港']
  }]
}, {
  id: 'shin_keisei',
  name: '新京成線',
  color: 'bg-pink-400',
  textColor: 'text-pink-500',
  statusUrl: 'https://www.shinkeisei.co.jp/traffic/status/',
  directions: [{
    id: 'matsudo',
    name: '松戸方面',
    dest: ['松戸', 'くぬぎ山'],
    platform: '1番線',
    lastTrain: '00:15',
    stations: ['京成津田沼', '新津田沼', '前原', '薬園台', '習志野', '北習志野', '高根木戸', '高根公団', '滝不動', '三咲', '二和向台', '鎌ヶ谷大仏', '初富', '新鎌ヶ谷', '北初富', 'くぬぎ山', '元山', '五香', '常盤平', '八柱', 'みのり台', '松戸新田', '上本郷', '松戸']
  }, {
    id: 'tsudanuma',
    name: '津田沼方面',
    dest: ['京成津田沼', '新津田沼'],
    platform: '2番線',
    lastTrain: '00:10',
    stations: ['松戸', '上本郷', '松戸新田', 'みのり台', '八柱', '常盤平', '五香', '元山', 'くぬぎ山', '北初富', '新鎌ヶ谷', '初富', '鎌ヶ谷大仏', '二和向台', '三咲', '滝不動', '高根公団', '高根木戸', '北習志野', '習志野', '薬園台', '前原', '新津田沼', '京成津田沼']
  }]
}, {
  id: 'toyo_rapid',
  name: '東葉高速',
  color: 'bg-green-500',
  textColor: 'text-green-600',
  statusUrl: 'https://www.toyokosoku.co.jp/',
  directions: [{
    id: 'up',
    name: '西船橋方面',
    dest: ['中野', '西船橋'],
    platform: '1番線',
    lastTrain: '23:40',
    stations: ['東葉勝田台', '村上', '八千代中央', '八千代緑が丘', '船橋日大前', '北習志野', '飯山満', '東海神', '西船橋']
  }, {
    id: 'down',
    name: '勝田台方面',
    dest: ['東葉勝田台', '八千代緑が丘'],
    platform: '2番線',
    lastTrain: '00:12',
    stations: ['西船橋', '東海神', '飯山満', '北習志野', '船橋日大前', '八千代緑が丘', '八千代中央', '村上', '東葉勝田台']
  }]
}];
var ALL_STATIONS = Array.from(new Set(LINES_DATA.flatMap(function (l) {
  return l.directions.flatMap(function (d) {
    return d.stations;
  });
}))).sort();
var DEFAULT_ROUTES = [{
  station: '船橋',
  lineId: 'sobu_rapid'
}, {
  station: '京成船橋',
  lineId: 'keisei_main'
}, {
  station: '北習志野',
  lineId: 'shin_keisei'
}, {
  station: '西船橋',
  lineId: 'toyo_rapid'
}];
var MAX_HOME_CONFIGS = 4;

// 2. 時間帯別ダイヤパターン設定 (Static Schedule Config)
var SCHEDULE_PATTERNS = {
  "default": {
    startHour: 5,
    endHour: 24,
    rush: {
      start: 7,
      end: 9,
      interval: 4
    },
    day: {
      start: 9,
      end: 17,
      interval: 10
    },
    evening: {
      start: 17,
      end: 21,
      interval: 6
    },
    night: {
      start: 21,
      end: 24,
      interval: 12
    },
    baseInterval: 15
  },
  toyo_rapid: {
    startHour: 5,
    endHour: 24,
    rush: {
      start: 7,
      end: 9,
      interval: 6
    },
    day: {
      start: 9,
      end: 17,
      interval: 15
    },
    evening: {
      start: 17,
      end: 20,
      interval: 8
    },
    night: {
      start: 20,
      end: 24,
      interval: 15
    },
    baseInterval: 15
  },
  shin_keisei: {
    startHour: 5,
    endHour: 24,
    rush: {
      start: 7,
      end: 9,
      interval: 4
    },
    day: {
      start: 9,
      end: 17,
      interval: 10
    },
    evening: {
      start: 17,
      end: 20,
      interval: 8
    },
    night: {
      start: 20,
      end: 24,
      interval: 12
    },
    baseInterval: 10
  },
  keisei_main: {
    startHour: 5,
    endHour: 24,
    rush: {
      start: 6,
      end: 9,
      interval: 3
    },
    day: {
      start: 9,
      end: 16,
      interval: 10
    },
    evening: {
      start: 16,
      end: 20,
      interval: 5
    },
    night: {
      start: 20,
      end: 24,
      interval: 10
    },
    baseInterval: 10
  }
};

// --- Logic: Schedule Generator ---
var generateFullDaySchedule = function generateFullDaySchedule(lineId, dests) {
  var pattern = SCHEDULE_PATTERNS[lineId] || SCHEDULE_PATTERNS["default"];
  var schedule = [];
  var now = new Date();
  var currentMinute = 0;
  for (var h = pattern.startHour; h <= pattern.endHour; h++) {
    var interval = pattern.baseInterval;
    if (h >= pattern.rush.start && h < pattern.rush.end) interval = pattern.rush.interval;else if (h >= pattern.day.start && h < pattern.day.end) interval = pattern.day.interval;else if (h >= pattern.evening.start && h < pattern.evening.end) interval = pattern.evening.interval;else if (h >= pattern.night.start && h < pattern.night.end) interval = pattern.night.interval;
    var m = h * 7 % interval;
    while (m < 60) {
      var d = new Date(now);
      d.setHours(h);
      d.setMinutes(m);
      d.setSeconds(0);
      d.setMilliseconds(0);
      var destIndex = (h + m) % dests.length;
      var dest = dests[destIndex];
      schedule.push({
        id: "".concat(lineId, "-").concat(h, "-").concat(m),
        date: d,
        dest: dest
      });
      m += interval;
    }
  }
  return schedule;
};

// --- Helpers ---
var getLineData = function getLineData(lineId) {
  return LINES_DATA.find(function (l) {
    return l.id === lineId;
  });
};
var getRouteData = function getRouteData(lineId, dirId) {
  var line = getLineData(lineId);
  var dir = line === null || line === void 0 ? void 0 : line.directions.find(function (d) {
    return d.id === dirId;
  });
  return line && dir ? {
    line: line,
    dir: dir
  } : null;
};
var getStationArea = function getStationArea(name) {
  var chiba = ['千葉', '船橋', '津田沼', '幕張', '蘇我', '浦安', '市川', '習志野', '稲毛', '本八幡', '西船橋', '舞浜', '松戸', '柏', '八千代', '勝田台', '実籾', '大久保', '鎌ヶ谷', '薬園台', '高根', '三咲'];
  var tokyo = ['東京', '新宿', '渋谷', '池袋', '品川', '秋葉原', '上野', '神田', '新橋', '浜松町', '有楽町', '御茶ノ水', '四ツ谷', '飯田橋', '中野', '高円寺', '荻窪', '吉祥寺', '三鷹', '大崎', '五反田', '目黒', '恵比寿', '原宿', '代々木', '新大久保', '高田馬場', '大塚', '巣鴨', '駒込', '田端', '西日暮里', '日暮里', '鶯谷', '御徒町', '錦糸町', '亀戸', '平井', '新小岩', '小岩', '新木場', '葛西臨海公園', '馬喰町', '新日本橋', '押上', '青砥', '高砂'];
  if (chiba.some(function (s) {
    return name.includes(s);
  })) return '千葉';
  if (tokyo.some(function (s) {
    return name.includes(s);
  })) return '東京';
  return 'その他';
};

// --- Portal ---
var ModalPortal = function ModalPortal(_ref2) {
  var children = _ref2.children;
  return ReactDOM.createPortal(children, document.body);
};

// --- Shared Components ---
var FloatingSearchBtn = function FloatingSearchBtn(_ref3) {
  var onClick = _ref3.onClick;
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed bottom-6 left-0 right-0 z-40 flex justify-center items-center gap-3 pointer-events-none px-6"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: onClick,
    className: "pointer-events-auto w-auto min-w-[140px] flex items-center justify-center gap-2 bg-slate-800 text-white font-bold text-sm py-3.5 px-6 rounded-full shadow-float hover:bg-slate-700 active:scale-95 transition-all"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Search,
    className: "w-4 h-4 text-white/90"
  }), "\u99C5\u30FB\u8DEF\u7DDA\u3092\u63A2\u3059"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return window.location.reload();
    },
    className: "pointer-events-auto flex-none w-12 h-12 flex items-center justify-center bg-white/90 backdrop-blur-xl border border-white/40 text-slate-600 rounded-full shadow-float hover:bg-white active:scale-95 transition-all ring-1 ring-black/5"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.RefreshCw,
    className: "w-5 h-5 text-slate-500"
  })));
};
var FloatingBackBtn = function FloatingBackBtn(_ref4) {
  var onClick = _ref4.onClick,
    text = _ref4.text,
    icon = _ref4.icon;
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed bottom-6 left-0 right-0 z-[110] flex justify-center pointer-events-none"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: onClick,
    className: "pointer-events-auto w-auto min-w-[120px] flex items-center justify-center gap-2 bg-slate-800 text-white font-bold text-sm py-3.5 px-8 rounded-full shadow-float hover:bg-slate-700 active:scale-95 transition-all"
  }, icon && /*#__PURE__*/React.createElement(Icon, {
    path: icon,
    className: "w-4 h-4"
  }), text));
};
var FloatingActionButtons = function FloatingActionButtons(_ref5) {
  var onClose = _ref5.onClose,
    onFavorite = _ref5.onFavorite,
    isPinned = _ref5.isPinned;
  return /*#__PURE__*/React.createElement("div", {
    className: "fixed bottom-6 left-0 right-0 z-[110] flex justify-center items-center gap-3 pointer-events-none px-6"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: onClose,
    className: "pointer-events-auto w-auto min-w-[120px] flex items-center justify-center gap-2 bg-slate-800 text-white font-bold text-sm py-3.5 px-8 rounded-full shadow-float hover:bg-slate-700 active:scale-95 transition-all"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.X,
    className: "w-4 h-4"
  }), " \u9589\u3058\u308B"), /*#__PURE__*/React.createElement("button", {
    onClick: onFavorite,
    className: "pointer-events-auto flex-none w-12 h-12 flex items-center justify-center rounded-full shadow-float transition-all active:scale-95 ".concat(isPinned ? 'bg-yellow-400 text-white' : 'bg-white text-slate-400')
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Star,
    className: "w-6 h-6 ".concat(isPinned ? 'fill-current' : '')
  })));
};
var Toast = function Toast(_ref6) {
  var message = _ref6.message,
    show = _ref6.show;
  if (!show) return null;
  return /*#__PURE__*/React.createElement(ModalPortal, null, /*#__PURE__*/React.createElement("div", {
    className: "fixed top-4 left-0 right-0 z-[200] flex justify-center pointer-events-none"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-slate-800/90 backdrop-blur text-white px-5 py-2.5 rounded-full shadow-lg flex items-center gap-2 text-sm font-bold animate-slide-down"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Check,
    className: "w-4 h-4 text-safe"
  }), message)));
};

// --- Draggable Drawer Component ---
var DraggableDrawer = function DraggableDrawer(_ref7) {
  var children = _ref7.children,
    isOpen = _ref7.isOpen;
  var _useState = useState(false),
    _useState2 = _slicedToArray(_useState, 2),
    isDragging = _useState2[0],
    setIsDragging = _useState2[1];
  var _useState3 = useState(120),
    _useState4 = _slicedToArray(_useState3, 2),
    height = _useState4[0],
    setHeight = _useState4[1]; // Initial peek height
  var _useState5 = useState(0),
    _useState6 = _slicedToArray(_useState5, 2),
    startY = _useState6[0],
    setStartY = _useState6[1];
  var _useState7 = useState(0),
    _useState8 = _slicedToArray(_useState7, 2),
    startHeight = _useState8[0],
    setStartHeight = _useState8[1];

  // Constants
  var MIN_HEIGHT = 120; // Peek height (enough to see "Next Train" title + 1 item hint)
  var MAX_HEIGHT = window.innerHeight * 0.7; // Max expansion

  var onTouchStart = function onTouchStart(e) {
    setIsDragging(true);
    setStartY(e.touches[0].clientY);
    setStartHeight(height);
  };
  var onTouchMove = function onTouchMove(e) {
    if (!isDragging) return;
    var currentY = e.touches[0].clientY;
    var diff = startY - currentY; // Dragging up is positive diff
    var newHeight = Math.min(Math.max(startHeight + diff, MIN_HEIGHT), MAX_HEIGHT);
    setHeight(newHeight);
  };
  var onTouchEnd = function onTouchEnd() {
    setIsDragging(false);
    // Snap logic
    if (height > (MAX_HEIGHT - MIN_HEIGHT) / 2 + MIN_HEIGHT) {
      setHeight(MAX_HEIGHT);
    } else {
      setHeight(MIN_HEIGHT);
    }
  };

  // Reset when closed
  useEffect(function () {
    if (!isOpen) setHeight(MIN_HEIGHT);
  }, [isOpen]);
  return /*#__PURE__*/React.createElement("div", {
    className: "absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-sm-up z-40 transition-all duration-300 ease-out",
    style: {
      height: "".concat(height, "px"),
      transition: isDragging ? 'none' : 'height 0.4s cubic-bezier(0.32, 0.72, 0, 1)',
      // Add a subtle overlay shadow when expanded
      boxShadow: height > MIN_HEIGHT ? '0 -10px 40px rgba(0,0,0,0.1)' : '0 -4px 20px rgba(0,0,0,0.05)'
    }
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-full h-8 flex items-center justify-center cursor-grab active:cursor-grabbing touch-none",
    onTouchStart: onTouchStart,
    onTouchMove: onTouchMove,
    onTouchEnd: onTouchEnd
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-10 h-1.5 bg-slate-200 rounded-full"
  })), /*#__PURE__*/React.createElement("div", {
    className: "h-full overflow-y-auto px-6 pb-24"
  }, children));
};

// --- Logic Hooks ---
var useTrainTimer = function useTrainTimer(routeData) {
  var _useState9 = useState({
      left: {
        m: '--',
        s: '--'
      },
      next: '--:--',
      nextDest: '',
      status: 'normal',
      color: 'text-slate-800',
      subsequents: []
    }),
    _useState0 = _slicedToArray(_useState9, 2),
    time = _useState0[0],
    setTime = _useState0[1];
  var routeId = routeData ? "".concat(routeData.line.id, "-").concat(routeData.dir.id) : null;

  // Generate STATIC schedule based on line type
  var schedule = useMemo(function () {
    if (!routeId) return [];
    // Use array of destinations
    var dests = Array.isArray(routeData.dir.dest) ? routeData.dir.dest : [routeData.dir.dest];
    return generateFullDaySchedule(routeData.line.id, dests);
  }, [routeId]);
  useEffect(function () {
    if (!routeId || schedule.length === 0) return;
    var update = function update() {
      var now = new Date();
      // Find the next train
      var targetIndex = schedule.findIndex(function (s) {
        return s.date > now;
      });
      var target = schedule[targetIndex];
      if (target) {
        var diff = Math.floor((target.date - now) / 1000);
        var m = Math.floor(diff / 60);
        var s = diff % 60;
        var timeLeft = {
          m: m.toString(),
          s: s.toString().padStart(2, '0')
        };
        var nextTime = "".concat(String(target.date.getHours()).padStart(2, '0'), ":").concat(String(target.date.getMinutes()).padStart(2, '0'));
        var status = 'normal';
        var color = 'text-slate-800';

        // 3分切ったら赤くする
        if (diff < 180) {
          status = 'hurry';
          color = 'text-accent';
        }

        // Get subsequent trains (next 3 trains)
        var subTrains = schedule.slice(targetIndex + 1, targetIndex + 4).map(function (t) {
          var subDiff = Math.floor((t.date - now) / 60000); // Minutes diff
          return {
            time: "".concat(String(t.date.getHours()).padStart(2, '0'), ":").concat(String(t.date.getMinutes()).padStart(2, '0')),
            min: subDiff,
            dest: t.dest
          };
        });
        setTime({
          left: timeLeft,
          next: nextTime,
          nextDest: target.dest,
          status: status,
          color: color,
          subsequents: subTrains
        });
      } else {
        setTime({
          left: {
            m: '--',
            s: '--'
          },
          next: '--:--',
          nextDest: '',
          status: 'end',
          color: 'text-slate-400',
          subsequents: []
        });
      }
    };
    update();
    var timer = setInterval(update, 1000);
    return function () {
      return clearInterval(timer);
    };
  }, [routeId, schedule]);
  return time;
};

// --- View Components ---

// TimerHeader (used in Carousel)
var TimerHeader = function TimerHeader(_ref8) {
  var config = _ref8.config,
    onSwitch = _ref8.onSwitch,
    onDetail = _ref8.onDetail,
    isActive = _ref8.isActive,
    animationClass = _ref8.animationClass,
    onConfig = _ref8.onConfig,
    onStationNameClick = _ref8.onStationNameClick;
  var route = config ? getRouteData(config.lineId, config.dirId) : null;
  var timer = useTrainTimer(route);

  // Handle triple click on station name
  var handleStationClick = function handleStationClick(e) {
    if (e.detail === 3 && onStationNameClick) {
      onStationNameClick();
    }
  };
  if (!route) return /*#__PURE__*/React.createElement("div", {
    className: "w-full h-32 bg-white/50 rounded-none animate-pulse"
  });
  var nextDir = route.line.directions.find(function (d) {
    return d.id !== route.dir.id;
  }) || route.line.directions[0];
  return /*#__PURE__*/React.createElement("div", {
    className: "w-full relative overflow-hidden bg-white transition-opacity duration-300 ".concat(isActive ? 'opacity-100' : 'opacity-0 pointer-events-none absolute top-0 left-0', " ").concat(isActive ? animationClass : '')
  }, /*#__PURE__*/React.createElement("div", {
    className: "px-5 pt-4 pb-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center mb-2"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick(e) {
      e.stopPropagation();
      onConfig();
    },
    className: "bg-slate-100 text-slate-500 hover:text-primary hover:bg-slate-200 transition-colors text-[10px] font-bold px-2 py-1 rounded-md tracking-wider border border-slate-200 flex items-center gap-1"
  }, "\u30DB\u30FC\u30E0\u99C5\u3092\u7DE8\u96C6 ", /*#__PURE__*/React.createElement("span", {
    className: "text-[8px]"
  }, ">"))), /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-end mb-6"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex-1 min-w-0 pr-2"
  }, /*#__PURE__*/React.createElement("h1", {
    onClick: handleStationClick,
    className: "text-3xl font-bold text-slate-800 leading-tight break-words mb-1.5 cursor-pointer"
  }, config.station), /*#__PURE__*/React.createElement("div", {
    className: "flex flex-wrap items-center gap-1.5 text-slate-500"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-[10px] font-bold px-1.5 py-0.5 rounded text-white ".concat(route.line.color)
  }, route.line.name), /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold text-slate-700"
  }, route.dir.name), /*#__PURE__*/React.createElement("span", {
    className: "text-[10px] font-bold bg-slate-100 px-1.5 py-0.5 rounded text-slate-400 border border-slate-200"
  }, route.dir.platform))), /*#__PURE__*/React.createElement("div", {
    className: "text-right flex-none"
  }, /*#__PURE__*/React.createElement("div", {
    className: "tabular-nums tracking-tighter leading-none transition-colors duration-500 ".concat(timer.color, " flex items-baseline justify-end")
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-5xl font-bold"
  }, timer.left.m), /*#__PURE__*/React.createElement("span", {
    className: "text-sm font-bold ml-0.5 mr-2 opacity-60"
  }, "\u5206"), /*#__PURE__*/React.createElement("span", {
    className: "text-5xl font-bold"
  }, timer.left.s)), /*#__PURE__*/React.createElement("div", {
    className: "text-xs font-bold text-slate-400 mt-1"
  }, "\u6B21\u767A ", /*#__PURE__*/React.createElement("span", {
    className: "text-slate-600 text-sm"
  }, timer.next)))), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-2 gap-3"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick(e) {
      e.stopPropagation();
      onSwitch(config);
    },
    className: "flex items-center justify-center gap-1.5 py-3 px-2 bg-slate-700 hover:bg-slate-800 active:bg-slate-900 rounded-xl text-xs font-bold text-white transition-colors shadow-sm active:scale-95"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.ArrowRightLeft,
    className: "w-3.5 h-3.5"
  }), "\u9006\u65B9\u5411\u3092\u898B\u308B"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick(e) {
      e.stopPropagation();
      onDetail(config);
    },
    className: "flex items-center justify-center gap-1.5 py-3 px-2 bg-white hover:bg-slate-50 active:bg-slate-100 rounded-xl text-xs font-bold text-slate-700 transition-colors border border-slate-200 shadow-sm active:scale-95"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.FileText,
    className: "w-3.5 h-3.5 text-slate-400"
  }), "\u8A73\u7D30\u3092\u898B\u308B"))));
};
var HomeHeaderCarousel = function HomeHeaderCarousel(_ref9) {
  var configs = _ref9.configs,
    onSwitch = _ref9.onSwitch,
    onConfig = _ref9.onConfig,
    onStartTimer = _ref9.onStartTimer,
    onHeightChange = _ref9.onHeightChange,
    onDownload = _ref9.onDownload;
  var _useState1 = useState(0),
    _useState10 = _slicedToArray(_useState1, 2),
    currentIndex = _useState10[0],
    setCurrentIndex = _useState10[1];
  var _useState11 = useState(null),
    _useState12 = _slicedToArray(_useState11, 2),
    slideDirection = _useState12[0],
    setSlideDirection = _useState12[1]; // 'left' or 'right'
  var containerRef = useRef(null);

  // Swipe handlers
  var _useState13 = useState(null),
    _useState14 = _slicedToArray(_useState13, 2),
    touchStart = _useState14[0],
    setTouchStart = _useState14[1];
  var _useState15 = useState(null),
    _useState16 = _slicedToArray(_useState15, 2),
    touchEnd = _useState16[0],
    setTouchEnd = _useState16[1];
  var minSwipeDistance = 50;
  var onTouchStart = function onTouchStart(e) {
    setTouchEnd(null);
    setTouchStart(e.targetTouches[0].clientX);
  };
  var onTouchMove = function onTouchMove(e) {
    return setTouchEnd(e.targetTouches[0].clientX);
  };
  var onTouchEnd = function onTouchEnd() {
    if (!touchStart || !touchEnd) return;
    var distance = touchStart - touchEnd;
    var isLeftSwipe = distance > minSwipeDistance;
    var isRightSwipe = distance < -minSwipeDistance;
    if (isLeftSwipe && currentIndex < configs.length - 1) {
      setSlideDirection('right'); // New item comes from right
      setCurrentIndex(function (prev) {
        return prev + 1;
      });
    }
    if (isRightSwipe && currentIndex > 0) {
      setSlideDirection('left'); // New item comes from left
      setCurrentIndex(function (prev) {
        return prev - 1;
      });
    }
  };
  useEffect(function () {
    if (currentIndex >= configs.length && configs.length > 0) {
      setCurrentIndex(configs.length - 1);
    }
  }, [configs.length]);

  // Measure height and report back to parent
  useLayoutEffect(function () {
    if (containerRef.current) {
      var height = containerRef.current.offsetHeight;
      onHeightChange(height);
    }
  });

  // Animation Class based on direction
  var getAnimationClass = function getAnimationClass() {
    if (slideDirection === 'right') return 'animate-slide-in-right';
    if (slideDirection === 'left') return 'animate-slide-in-left';
    return 'animate-fade-in'; // Default fallback
  };

  // No Config State
  if (!configs || configs.length === 0) {
    return /*#__PURE__*/React.createElement("div", {
      ref: containerRef,
      className: "w-full bg-white pt-safe pb-6 px-4"
    }, /*#__PURE__*/React.createElement("button", {
      onClick: onConfig,
      className: "w-full relative overflow-hidden rounded-2xl bg-slate-50 border-2 border-dashed border-slate-300 p-8 text-center active:scale-[0.98] transition-all group hover:border-indigo-300"
    }, /*#__PURE__*/React.createElement("div", {
      className: "inline-flex items-center justify-center w-12 h-12 rounded-full bg-white text-slate-300 mb-3 group-hover:text-primary shadow-sm transition-colors"
    }, /*#__PURE__*/React.createElement(Icon, {
      path: Icons.Settings,
      className: "w-6 h-6"
    })), /*#__PURE__*/React.createElement("p", {
      className: "text-sm text-slate-400 font-bold"
    }, "\u30DB\u30FC\u30E0\u99C5\u3092\u8A2D\u5B9A\u3057\u3066\u304F\u3060\u3055\u3044")));
  }
  return /*#__PURE__*/React.createElement("div", {
    ref: containerRef,
    className: "w-full bg-white pt-safe pb-2 shadow-soft relative"
  }, /*#__PURE__*/React.createElement("div", {
    className: "relative",
    onTouchStart: onTouchStart,
    onTouchMove: onTouchMove,
    onTouchEnd: onTouchEnd
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-full"
  }, /*#__PURE__*/React.createElement(TimerHeader, {
    key: "".concat(configs[currentIndex].station, "-").concat(configs[currentIndex].lineId, "-").concat(configs[currentIndex].dirId),
    config: configs[currentIndex],
    onSwitch: onSwitch,
    onConfig: onConfig,
    onDetail: function onDetail(cfg) {
      return onStartTimer(cfg.station, cfg.lineId, cfg.dirId);
    },
    isActive: true,
    animationClass: getAnimationClass(),
    onStationNameClick: onDownload
  }))), configs.length > 1 && /*#__PURE__*/React.createElement("div", {
    className: "flex justify-center gap-1.5 pb-3 mt-1"
  }, configs.map(function (_, idx) {
    return /*#__PURE__*/React.createElement("button", {
      key: idx,
      onClick: function onClick() {
        if (idx > currentIndex) setSlideDirection('right');else if (idx < currentIndex) setSlideDirection('left');
        setCurrentIndex(idx);
      },
      className: "h-1.5 rounded-full transition-all ".concat(idx === currentIndex ? 'w-5 bg-primary' : 'w-1.5 bg-slate-200')
    });
  })));
};
var RouteListItem = function RouteListItem(_ref0) {
  var station = _ref0.station,
    lineId = _ref0.lineId,
    isPinned = _ref0.isPinned,
    onPin = _ref0.onPin,
    onSelect = _ref0.onSelect;
  var line = getLineData(lineId);
  if (!line) return null;
  return /*#__PURE__*/React.createElement("div", {
    className: "w-full bg-white p-4 rounded-2xl shadow-sm border border-slate-100 mb-3 hover:shadow-md transition-all active:scale-[0.99]"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-start mb-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-3"
  }, /*#__PURE__*/React.createElement("div", {
    className: "w-1.5 h-10 rounded-full ".concat(line.color)
  }), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
    className: "font-bold text-slate-800 text-lg leading-tight"
  }, station), /*#__PURE__*/React.createElement("div", {
    className: "text-xs font-bold ".concat(line.textColor, " mt-0.5")
  }, line.name))), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick(e) {
      e.stopPropagation();
      onPin();
    },
    className: "p-2 rounded-full transition-colors ".concat(isPinned ? 'text-yellow-400' : 'text-slate-200 hover:text-slate-300')
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Star,
    className: "w-5 h-5 ".concat(isPinned ? 'fill-current' : '')
  }))), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-2 overflow-x-auto pb-1 no-scrollbar"
  }, line.directions.map(function (dir) {
    return /*#__PURE__*/React.createElement("button", {
      key: dir.id,
      onClick: function onClick() {
        return onSelect(dir.id);
      },
      className: "flex-1 min-w-[120px] flex items-center justify-between bg-slate-50 border border-slate-100 rounded-xl py-3 px-3 text-left transition-all hover:bg-indigo-50 hover:border-indigo-100 active:bg-indigo-100 group relative overflow-hidden"
    }, /*#__PURE__*/React.createElement("div", {
      className: "min-w-0 z-10"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-sm font-bold text-slate-600 group-hover:text-primary"
    }, dir.name)), /*#__PURE__*/React.createElement(Icon, {
      path: Icons.ChevronRight,
      className: "w-3 h-3 text-slate-300 group-hover:text-primary flex-shrink-0 ml-1 z-10"
    }));
  })));
};
var EmptyState = function EmptyState(_ref1) {
  var type = _ref1.type,
    onSearch = _ref1.onSearch;
  return /*#__PURE__*/React.createElement("div", {
    className: "text-center py-12 px-6 bg-white/40 rounded-3xl border border-dashed border-slate-300 mt-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "inline-flex items-center justify-center w-12 h-12 rounded-full bg-white text-slate-300 mb-3 shadow-sm"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: type === 'pinned' ? Icons.Star : Icons.History,
    className: "w-6 h-6"
  })), /*#__PURE__*/React.createElement("p", {
    className: "text-sm font-bold text-slate-600 mb-1"
  }, type === 'pinned' ? 'よく使う駅がありません' : '履歴がありません'), /*#__PURE__*/React.createElement("p", {
    className: "text-xs text-slate-400 mb-6"
  }, "\u99C5\u3092\u691C\u7D22\u3057\u3066\u3001\u2606\u30DC\u30BF\u30F3\u3067\u767B\u9332\u3057\u307E\u3057\u3087\u3046"), /*#__PURE__*/React.createElement("button", {
    onClick: onSearch,
    className: "inline-flex items-center gap-1.5 px-5 py-2.5 bg-primary text-white rounded-full text-xs font-bold hover:bg-indigo-700 transition-colors shadow-sm"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Search,
    className: "w-3.5 h-3.5"
  }), " \u99C5\u3092\u63A2\u3059"));
};
var AlertModal = function AlertModal(_ref10) {
  var isOpen = _ref10.isOpen,
    message = _ref10.message,
    onClose = _ref10.onClose;
  if (!isOpen) return null;
  return /*#__PURE__*/React.createElement(ModalPortal, null, /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-[160] flex items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-2xl p-6 shadow-2xl w-full max-w-sm animate-slide-up text-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "inline-flex items-center justify-center w-12 h-12 rounded-full bg-amber-100 text-amber-500 mb-4"
  }, "!"), /*#__PURE__*/React.createElement("p", {
    className: "text-lg font-bold text-slate-800 mb-6"
  }, message), /*#__PURE__*/React.createElement("button", {
    onClick: onClose,
    className: "w-full py-3 rounded-xl bg-slate-800 text-white font-bold hover:bg-slate-700 transition-colors"
  }, "OK"))));
};

// Replace Modal for Max Config
var ReplaceModal = function ReplaceModal(_ref11) {
  var isOpen = _ref11.isOpen,
    homeConfigs = _ref11.homeConfigs,
    onSelect = _ref11.onSelect,
    onClose = _ref11.onClose;
  if (!isOpen) return null;
  return /*#__PURE__*/React.createElement(ModalPortal, null, /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-[160] flex items-end justify-center pointer-events-none"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-black/30 backdrop-blur-sm pointer-events-auto transition-opacity",
    onClick: onClose
  }), /*#__PURE__*/React.createElement("div", {
    className: "bg-white w-full max-w-md p-6 rounded-t-3xl shadow-2xl pointer-events-auto animate-slide-up max-h-[80vh] overflow-y-auto relative z-10"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center mb-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-xl font-bold text-slate-800"
  }, "\u5165\u308C\u66FF\u3048\u3092\u9078\u629E"), /*#__PURE__*/React.createElement("button", {
    onClick: onClose,
    className: "p-2 bg-slate-100 rounded-full hover:bg-slate-200"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.X,
    className: "w-5 h-5 text-slate-500"
  }))), /*#__PURE__*/React.createElement("p", {
    className: "text-sm text-slate-500 mb-4"
  }, "\u767B\u9332\u304C\u4E0A\u9650\u3067\u3059\u3002\u5165\u308C\u66FF\u3048\u308B\u99C5\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\u3002"), /*#__PURE__*/React.createElement("div", {
    className: "space-y-3"
  }, homeConfigs.map(function (cfg, i) {
    var line = getLineData(cfg.lineId);
    var dir = line === null || line === void 0 ? void 0 : line.directions.find(function (d) {
      return d.id === cfg.dirId;
    });
    return /*#__PURE__*/React.createElement("button", {
      key: i,
      onClick: function onClick() {
        return onSelect(i);
      },
      className: "w-full flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-indigo-50 hover:border-indigo-300 transition-all text-left"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
      className: "font-bold text-slate-800"
    }, cfg.station), /*#__PURE__*/React.createElement("div", {
      className: "text-xs text-slate-500"
    }, line === null || line === void 0 ? void 0 : line.name, " / ", dir === null || dir === void 0 ? void 0 : dir.name)), /*#__PURE__*/React.createElement("div", {
      className: "text-xs font-bold text-indigo-600"
    }, "\u9078\u629E"));
  })))));
};
var SortableItem = function SortableItem(_ref12) {
  var config = _ref12.config,
    index = _ref12.index,
    onRemove = _ref12.onRemove,
    onMove = _ref12.onMove;
  var line = getLineData(config.lineId);
  var dir = line === null || line === void 0 ? void 0 : line.directions.find(function (d) {
    return d.id === config.dirId;
  });
  var ref = useRef(null);
  var _useState17 = useState(false),
    _useState18 = _slicedToArray(_useState17, 2),
    isDragging = _useState18[0],
    setIsDragging = _useState18[1];
  var _useState19 = useState({
      y: 0
    }),
    _useState20 = _slicedToArray(_useState19, 2),
    startPos = _useState20[0],
    setStartPos = _useState20[1];
  var handleTouchStart = function handleTouchStart(e) {
    setIsDragging(true);
    setStartPos({
      y: e.touches[0].clientY
    });
    document.body.style.overflow = 'hidden';
  };
  var handleTouchMove = function handleTouchMove(e) {
    if (!isDragging) return;
    var deltaY = e.touches[0].clientY - startPos.y;
    if (ref.current) {
      ref.current.style.transform = "translateY(".concat(deltaY, "px)");
    }
  };
  var handleTouchEnd = function handleTouchEnd(e) {
    if (!isDragging) return;
    setIsDragging(false);
    document.body.style.overflow = '';
    if (ref.current) {
      var deltaY = e.changedTouches[0].clientY - startPos.y;
      ref.current.style.transform = '';
      if (Math.abs(deltaY) > 40) {
        var direction = deltaY > 0 ? 1 : -1;
        onMove(index, direction);
      }
    }
  };
  return /*#__PURE__*/React.createElement("div", {
    ref: ref,
    className: "bg-white p-3 rounded-2xl shadow-sm border border-slate-200 flex justify-between items-center touch-none select-none mb-2 transition-transform ".concat(isDragging ? 'z-50 relative shadow-xl border-indigo-300' : '')
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex-1"
  }, /*#__PURE__*/React.createElement("div", {
    className: "font-bold text-slate-800"
  }, config.station), /*#__PURE__*/React.createElement("div", {
    className: "text-xs text-slate-500"
  }, line === null || line === void 0 ? void 0 : line.name, " / ", dir === null || dir === void 0 ? void 0 : dir.name)), /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-2"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return onRemove(index);
    },
    className: "p-2 text-slate-300 hover:text-rose-500 transition-colors"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Trash,
    className: "w-5 h-5"
  })), /*#__PURE__*/React.createElement("div", {
    onTouchStart: handleTouchStart,
    onTouchMove: handleTouchMove,
    onTouchEnd: handleTouchEnd,
    className: "p-2 text-slate-300 cursor-grab active:cursor-grabbing active:text-indigo-500"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Grip,
    className: "w-6 h-6"
  }))));
};
var ConfigView = function ConfigView(_ref13) {
  var setView = _ref13.setView,
    tempConfigStation = _ref13.tempConfigStation,
    setTempConfigStation = _ref13.setTempConfigStation,
    homeConfigs = _ref13.homeConfigs,
    addHomeConfig = _ref13.addHomeConfig,
    removeHomeConfig = _ref13.removeHomeConfig,
    replaceHomeConfig = _ref13.replaceHomeConfig,
    updateHome = _ref13.updateHome,
    handleDownload = _ref13.handleDownload,
    showToast = _ref13.showToast,
    moveHomeConfig = _ref13.moveHomeConfig;
  var _useState21 = useState('ALL'),
    _useState22 = _slicedToArray(_useState21, 2),
    filterArea = _useState22[0],
    setFilterArea = _useState22[1];
  var _useState23 = useState(''),
    _useState24 = _slicedToArray(_useState23, 2),
    filterText = _useState24[0],
    setFilterText = _useState24[1];
  var _useState25 = useState(false),
    _useState26 = _slicedToArray(_useState25, 2),
    replaceModalOpen = _useState26[0],
    setReplaceModalOpen = _useState26[1];
  var _useState27 = useState(null),
    _useState28 = _slicedToArray(_useState27, 2),
    pendingStation = _useState28[0],
    setPendingStation = _useState28[1];
  var _useState29 = useState(false),
    _useState30 = _slicedToArray(_useState29, 2),
    isHeaderCollapsed = _useState30[0],
    setIsHeaderCollapsed = _useState30[1];
  var scrollRef = useRef(null);
  var handleScroll = function handleScroll(e) {
    var scrollTop = e.target.scrollTop;
    if (scrollTop > 20 && !isHeaderCollapsed) {
      setIsHeaderCollapsed(true);
    } else if (scrollTop < 5 && isHeaderCollapsed) {
      setIsHeaderCollapsed(false);
    }
  };
  var filtered = ALL_STATIONS.filter(function (s) {
    var matchArea = filterArea === 'ALL' || getStationArea(s) === filterArea;
    var matchText = filterText === '' || s.includes(filterText);
    return matchArea && matchText;
  });
  var handleAddClick = function handleAddClick(s) {
    setTempConfigStation(s);
  };
  var handleDirectionSelect = function handleDirectionSelect(station, lineId, dirId) {
    if (homeConfigs.length >= MAX_HOME_CONFIGS) {
      setPendingStation({
        station: station,
        lineId: lineId,
        dirId: dirId
      });
      setReplaceModalOpen(true);
    } else {
      addHomeConfig({
        station: station,
        lineId: lineId,
        dirId: dirId
      });
      showToast("\u30DB\u30FC\u30E0\u99C5\u306B\u8FFD\u52A0\u3057\u307E\u3057\u305F");
      setTempConfigStation(null);
    }
  };
  var handleReplace = function handleReplace(index) {
    if (pendingStation) {
      replaceHomeConfig(index, pendingStation);
      showToast("\u30DB\u30FC\u30E0\u99C5\u3092\u5165\u308C\u66FF\u3048\u307E\u3057\u305F");
      setPendingStation(null);
      setReplaceModalOpen(false);
      setTempConfigStation(null);
    }
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "h-full overflow-y-auto px-4 pt-safe pb-32 animate-enter bg-slate-100",
    onScroll: handleScroll,
    ref: scrollRef
  }, /*#__PURE__*/React.createElement("header", {
    className: "sticky top-0 bg-slate-100 z-10 transition-all duration-500 ease-in-out ".concat(isHeaderCollapsed ? 'py-2 shadow-sm border-b border-slate-200/50' : 'py-4')
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center mb-2"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "font-bold text-slate-800 transition-all ".concat(isHeaderCollapsed ? 'text-xl' : 'text-3xl')
  }, "\u8A2D\u5B9A"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setIsHeaderCollapsed(!isHeaderCollapsed);
    },
    className: "p-2 bg-white rounded-full shadow-sm text-slate-400"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: isHeaderCollapsed ? Icons.ChevronDown : Icons.ChevronUp,
    className: "w-5 h-5"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "overflow-hidden transition-all duration-500 ease-in-out ".concat(isHeaderCollapsed ? 'max-h-0 opacity-0' : 'max-h-[600px] opacity-100')
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-slate-500 font-medium mb-4"
  }, "\u30DB\u30FC\u30E0\u99C5\u3092\u767B\u9332 (\u6700\u59274\u4EF6)"), homeConfigs.length > 0 && !tempConfigStation && /*#__PURE__*/React.createElement("div", {
    className: "mb-8"
  }, homeConfigs.map(function (cfg, i) {
    return /*#__PURE__*/React.createElement(SortableItem, {
      key: i,
      config: cfg,
      index: i,
      onRemove: removeHomeConfig,
      onMove: moveHomeConfig
    });
  }), homeConfigs.length < MAX_HOME_CONFIGS && /*#__PURE__*/React.createElement("div", {
    className: "text-center text-xs text-slate-400 mt-2"
  }, "\u3042\u3068 ", MAX_HOME_CONFIGS - homeConfigs.length, " \u4EF6\u767B\u9332\u3067\u304D\u307E\u3059"))), isHeaderCollapsed && /*#__PURE__*/React.createElement("div", {
    className: "text-xs font-bold text-slate-500 mb-2 animate-fade-in"
  }, "\u767B\u9332\u6E08\u307F ", homeConfigs.length, " \u4EF6"), !tempConfigStation && /*#__PURE__*/React.createElement("div", {
    className: "pt-2"
  }, /*#__PURE__*/React.createElement("div", {
    className: "relative mb-4"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Search,
    className: "w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "\u99C5\u540D\u3092\u5165\u529B...",
    value: filterText,
    onChange: function onChange(e) {
      return setFilterText(e.target.value);
    },
    className: "w-full bg-white pl-10 pr-4 py-3 rounded-2xl border-none shadow-sm text-slate-700 font-bold focus:ring-2 focus:ring-indigo-500 outline-none"
  }), filterText && /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setFilterText('');
    },
    className: "absolute right-3 top-1/2 -translate-y-1/2 p-1 bg-slate-200 rounded-full text-slate-500 hover:bg-slate-300"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.X,
    className: "w-3 h-3"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-2 overflow-x-auto pb-2 no-scrollbar"
  }, ['ALL', '東京', '千葉'].map(function (area) {
    return /*#__PURE__*/React.createElement("button", {
      key: area,
      onClick: function onClick() {
        return setFilterArea(area);
      },
      className: "px-5 py-2.5 rounded-full text-xs font-bold transition-all whitespace-nowrap shadow-sm ".concat(filterArea === area ? 'bg-indigo-600 text-white' : 'bg-white text-slate-500 border border-slate-200')
    }, area === 'ALL' ? 'すべて' : area);
  })))), !tempConfigStation && /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-2 gap-3 pb-8"
  }, filtered.length > 0 ? filtered.map(function (s) {
    return /*#__PURE__*/React.createElement("button", {
      key: s,
      onClick: function onClick() {
        return handleAddClick(s);
      },
      className: "bg-white p-4 rounded-2xl shadow-sm border border-slate-100 font-bold text-slate-700 hover:border-indigo-300 hover:shadow-md transition-all active:scale-95 text-left"
    }, s);
  }) : /*#__PURE__*/React.createElement("div", {
    className: "col-span-2 text-center text-slate-400 py-10"
  }, "\u8A72\u5F53\u3059\u308B\u99C5\u304C\u3042\u308A\u307E\u305B\u3093")), tempConfigStation && /*#__PURE__*/React.createElement("div", {
    className: "space-y-4 animate-slide-up"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setTempConfigStation(null);
    },
    className: "flex items-center text-indigo-600 font-bold mb-4"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.ArrowLeft,
    className: "w-4 h-4 mr-1"
  }), " \u99C5\u3092\u9078\u3073\u76F4\u3059"), /*#__PURE__*/React.createElement("h3", {
    className: "text-xl font-bold mb-4"
  }, tempConfigStation), LINES_DATA.filter(function (l) {
    return l.directions.some(function (d) {
      return d.stations.includes(tempConfigStation);
    });
  }).map(function (l) {
    return /*#__PURE__*/React.createElement("div", {
      key: l.id,
      className: "bg-white rounded-3xl p-5 shadow-sm border border-slate-100"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-xs font-bold mb-3 ".concat(l.textColor)
    }, l.name), /*#__PURE__*/React.createElement("div", {
      className: "space-y-2"
    }, l.directions.map(function (d) {
      return /*#__PURE__*/React.createElement("button", {
        key: d.id,
        onClick: function onClick() {
          return handleDirectionSelect(tempConfigStation, l.id, d.id);
        },
        className: "w-full flex justify-between items-center p-3 bg-white border border-slate-200 shadow-sm rounded-xl font-bold text-slate-700 hover:border-indigo-400 active:scale-[0.98] transition-all"
      }, /*#__PURE__*/React.createElement("span", null, d.name), /*#__PURE__*/React.createElement("span", {
        className: "text-xs text-slate-400 font-normal"
      }, d.dest.join('・')));
    })));
  })), /*#__PURE__*/React.createElement(FloatingBackBtn, {
    onClick: function onClick() {
      if (tempConfigStation) setTempConfigStation(null);else setView('HOME');
    },
    text: tempConfigStation ? "戻る" : "完了",
    icon: tempConfigStation ? Icons.ArrowLeft : Icons.X
  }), /*#__PURE__*/React.createElement(ReplaceModal, {
    isOpen: replaceModalOpen,
    homeConfigs: homeConfigs,
    onSelect: handleReplace,
    onClose: function onClose() {
      return setReplaceModalOpen(false);
    }
  }));
};
var ExploreView = function ExploreView(_ref14) {
  var setView = _ref14.setView,
    setExploreStation = _ref14.setExploreStation;
  var _useState31 = useState('ALL'),
    _useState32 = _slicedToArray(_useState31, 2),
    filterArea = _useState32[0],
    setFilterArea = _useState32[1];
  var _useState33 = useState(''),
    _useState34 = _slicedToArray(_useState33, 2),
    filterText = _useState34[0],
    setFilterText = _useState34[1];
  var filtered = ALL_STATIONS.filter(function (s) {
    var matchArea = filterArea === 'ALL' || getStationArea(s) === filterArea;
    var matchText = filterText === '' || s.includes(filterText);
    return matchArea && matchText;
  });
  return /*#__PURE__*/React.createElement("div", {
    className: "h-full overflow-y-auto px-4 pt-safe pb-32 animate-enter bg-slate-100"
  }, /*#__PURE__*/React.createElement("header", {
    className: "mb-6 mt-6 sticky top-0 bg-slate-100 z-10 pb-2"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-3xl font-bold text-slate-800 mb-4"
  }, "\u63A2\u3059"), /*#__PURE__*/React.createElement("div", {
    className: "relative mb-4"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Search,
    className: "w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"
  }), /*#__PURE__*/React.createElement("input", {
    type: "text",
    placeholder: "\u99C5\u540D\u3092\u5165\u529B...",
    value: filterText,
    onChange: function onChange(e) {
      return setFilterText(e.target.value);
    },
    className: "w-full bg-white pl-10 pr-4 py-3 rounded-2xl border-none shadow-sm text-slate-700 font-bold focus:ring-2 focus:ring-indigo-500 outline-none"
  }), filterText && /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setFilterText('');
    },
    className: "absolute right-3 top-1/2 -translate-y-1/2 p-1 bg-slate-200 rounded-full text-slate-500 hover:bg-slate-300"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.X,
    className: "w-3 h-3"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-2 overflow-x-auto pb-2 no-scrollbar"
  }, ['ALL', '東京', '千葉'].map(function (area) {
    return /*#__PURE__*/React.createElement("button", {
      key: area,
      onClick: function onClick() {
        return setFilterArea(area);
      },
      className: "px-5 py-2.5 rounded-full text-xs font-bold transition-all whitespace-nowrap shadow-sm ".concat(filterArea === area ? 'bg-indigo-600 text-white' : 'bg-white text-slate-500 border border-slate-200')
    }, area === 'ALL' ? 'すべて' : area);
  }))), /*#__PURE__*/React.createElement("div", {
    className: "grid grid-cols-2 gap-3 pb-8"
  }, filtered.length > 0 ? filtered.map(function (s) {
    return /*#__PURE__*/React.createElement("button", {
      key: s,
      onClick: function onClick() {
        return setExploreStation(s);
      },
      className: "p-4 rounded-2xl bg-white text-slate-700 font-bold text-left shadow-sm border border-slate-100 hover:border-indigo-400 transition-all active:scale-95"
    }, s);
  }) : /*#__PURE__*/React.createElement("div", {
    className: "col-span-2 text-center text-slate-400 py-10"
  }, "\u8A72\u5F53\u3059\u308B\u99C5\u304C\u3042\u308A\u307E\u305B\u3093")), /*#__PURE__*/React.createElement(FloatingBackBtn, {
    onClick: function onClick() {
      return setView('HOME');
    },
    text: "\u9589\u3058\u308B",
    icon: Icons.X
  }));
};
var HomeView = function HomeView(_ref15) {
  var setView = _ref15.setView,
    homeConfigs = _ref15.homeConfigs,
    updateHomeConfig = _ref15.updateHomeConfig,
    pinned = _ref15.pinned,
    history = _ref15.history,
    DEFAULT_ROUTES = _ref15.DEFAULT_ROUTES,
    handlePinToggle = _ref15.handlePinToggle,
    startTimer = _ref15.startTimer,
    handleDownload = _ref15.handleDownload,
    setTempConfigStation = _ref15.setTempConfigStation,
    activeListTab = _ref15.activeListTab,
    setActiveListTab = _ref15.setActiveListTab;
  var items = activeListTab === 'pinned' ? pinned : history.length ? history : DEFAULT_ROUTES;
  var scrollRef = useRef(null);
  var _useState35 = useState(true),
    _useState36 = _slicedToArray(_useState35, 2),
    showHeader = _useState36[0],
    setShowHeader = _useState36[1];
  var lastScrollY = useRef(0);
  var _useState37 = useState(0),
    _useState38 = _slicedToArray(_useState37, 2),
    headerHeight = _useState38[0],
    setHeaderHeight = _useState38[1]; // Dynamic header height

  // Hide Header on Scroll Logic (Improved)
  var handleScroll = function handleScroll() {
    if (scrollRef.current) {
      var currentScrollY = scrollRef.current.scrollTop;

      // Logic: Hide on scroll down, Show on scroll up OR near top
      if (currentScrollY < 10) {
        setShowHeader(true); // Always show near top
      } else if (currentScrollY > lastScrollY.current && currentScrollY > 50) {
        setShowHeader(false); // Scrolling down -> Hide
      } else if (currentScrollY < lastScrollY.current) {
        setShowHeader(true); // Scrolling up -> Show
      }
      lastScrollY.current = currentScrollY;
    }
  };
  useEffect(function () {
    var el = scrollRef.current;
    if (el) el.addEventListener('scroll', handleScroll);
    return function () {
      if (el) el.removeEventListener('scroll', handleScroll);
    };
  }, []);
  var switchHomeDir = function switchHomeDir(targetConfig) {
    var rd = getRouteData(targetConfig.lineId, targetConfig.dirId);
    var nextDir = rd.line.directions.find(function (d) {
      return d.id !== targetConfig.dirId;
    }) || rd.line.directions[0];
    var newConfigs = homeConfigs.map(function (c) {
      return c.station === targetConfig.station && c.lineId === targetConfig.lineId && c.dirId === targetConfig.dirId ? _objectSpread(_objectSpread({}, c), {}, {
        dirId: nextDir.id
      }) : c;
    });
    updateHomeConfig(newConfigs);
  };
  var handleTitleClick = function handleTitleClick(e) {
    if (e.detail === 3) {
      handleDownload();
    }
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "h-full flex flex-col bg-surface overflow-hidden relative"
  }, /*#__PURE__*/React.createElement("div", {
    className: "fixed top-0 left-0 right-0 z-30 bg-white shadow-sm transition-transform duration-300 ".concat(showHeader ? 'translate-y-0' : '-translate-y-full')
  }, /*#__PURE__*/React.createElement("div", {
    className: "max-w-md mx-auto w-full"
  }, /*#__PURE__*/React.createElement(HomeHeaderCarousel, {
    configs: homeConfigs,
    onSwitch: switchHomeDir,
    onConfig: function onConfig() {
      setTempConfigStation(null);
      setView('CONFIG');
    },
    onStartTimer: startTimer,
    handleTitleClick: handleTitleClick,
    onHeightChange: setHeaderHeight,
    onDownload: handleDownload
  }))), /*#__PURE__*/React.createElement("div", {
    ref: scrollRef,
    className: "flex-1 overflow-y-auto px-4 pb-32 h-full",
    style: {
      paddingTop: headerHeight > 0 ? "".concat(headerHeight + 24, "px") : '300px'
    }
  }, /*#__PURE__*/React.createElement("div", {
    className: "-mx-4 px-4 py-2 mb-2"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex p-1 bg-slate-200/50 rounded-xl relative"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setActiveListTab('pinned');
    },
    className: "flex-1 relative z-10 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all duration-300 ".concat(activeListTab === 'pinned' ? 'text-slate-800' : 'text-slate-400 hover:text-slate-600')
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Star,
    className: "w-3.5 h-3.5 ".concat(activeListTab === 'pinned' ? 'text-slate-700' : '')
  }), " \u3088\u304F\u4F7F\u3046\u99C5"), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setActiveListTab('history');
    },
    className: "flex-1 relative z-10 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all duration-300 ".concat(activeListTab === 'history' ? 'text-slate-800' : 'text-slate-400 hover:text-slate-600')
  }, "\u6700\u8FD1\u898B\u305F\u99C5"), /*#__PURE__*/React.createElement("div", {
    className: "absolute top-1 bottom-1 w-[calc(50%-4px)] bg-white rounded-lg shadow-sm transition-all duration-300 ease-out ".concat(activeListTab === 'pinned' ? 'left-1' : 'left-[calc(50%+2px)]')
  }))), /*#__PURE__*/React.createElement("div", {
    className: "space-y-3 relative z-0"
  }, items.length === 0 ? /*#__PURE__*/React.createElement(EmptyState, {
    type: activeListTab,
    onSearch: function onSearch() {
      return setView('EXPLORE');
    }
  }) : items.map(function (item, i) {
    return /*#__PURE__*/React.createElement(RouteListItem, _extends({
      key: "".concat(item.station, "-").concat(item.lineId, "-").concat(i)
    }, item, {
      isPinned: pinned.some(function (p) {
        return p.station === item.station && p.lineId === item.lineId;
      }),
      onPin: function onPin() {
        return handlePinToggle(item.station, item.lineId);
      },
      onSelect: function onSelect(dirId) {
        return startTimer(item.station, item.lineId, dirId);
      }
    }));
  }))), /*#__PURE__*/React.createElement(FloatingSearchBtn, {
    onClick: function onClick() {
      return setView('EXPLORE');
    }
  }));
};
var ConfirmModal = function ConfirmModal(_ref16) {
  var isOpen = _ref16.isOpen,
    message = _ref16.message,
    onConfirm = _ref16.onConfirm,
    onCancel = _ref16.onCancel;
  if (!isOpen) return null;
  return /*#__PURE__*/React.createElement(ModalPortal, null, /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-[150] flex items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in"
  }, /*#__PURE__*/React.createElement("div", {
    className: "bg-white rounded-2xl p-6 shadow-2xl w-full max-w-sm animate-slide-up text-center"
  }, /*#__PURE__*/React.createElement("p", {
    className: "text-lg font-bold text-slate-800 mb-6 text-center"
  }, message), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-3"
  }, /*#__PURE__*/React.createElement("button", {
    onClick: onCancel,
    className: "flex-1 py-3 rounded-xl bg-slate-100 text-slate-600 font-bold hover:bg-slate-200 transition-colors"
  }, "\u30AD\u30E3\u30F3\u30BB\u30EB"), /*#__PURE__*/React.createElement("button", {
    onClick: onConfirm,
    className: "flex-1 py-3 rounded-xl bg-accent text-white font-bold hover:bg-rose-600 transition-colors shadow-lg shadow-rose-200"
  }, "\u89E3\u9664\u3059\u308B")))));
};
var TimerModal = function TimerModal(_ref17) {
  var timerContext = _ref17.timerContext,
    isTimerOpen = _ref17.isTimerOpen,
    setIsTimerOpen = _ref17.setIsTimerOpen,
    switchTimerDir = _ref17.switchTimerDir,
    isPinned = _ref17.isPinned,
    onTogglePin = _ref17.onTogglePin;
  var route = timerContext ? getRouteData(timerContext.lineId, timerContext.dirId) : null;
  var timer = useTrainTimer(route);
  return /*#__PURE__*/React.createElement(ModalPortal, null, /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-[150] bg-white transition-transform duration-500 ease-out flex flex-col ".concat(isTimerOpen ? 'translate-y-0' : 'translate-y-full')
  }, /*#__PURE__*/React.createElement("div", {
    className: "pt-safe px-6 pb-4 flex justify-between items-center bg-white/80 backdrop-blur-md z-20 border-b border-slate-100"
  }, /*#__PURE__*/React.createElement("span", {
    className: "font-bold text-slate-500 text-xs tracking-widest"
  }, "\u767A\u8ECA\u6848\u5185"), /*#__PURE__*/React.createElement("div", {
    className: "flex gap-2"
  }, /*#__PURE__*/React.createElement("a", {
    href: route === null || route === void 0 ? void 0 : route.line.statusUrl,
    target: "_blank",
    className: "h-10 px-3 flex items-center justify-center bg-slate-100 rounded-full hover:bg-slate-200 text-slate-600 gap-1.5 transition-colors"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-[10px] font-bold"
  }, "\u904B\u884C\u60C5\u5831"), /*#__PURE__*/React.createElement(Icon, {
    path: Icons.ExternalLink,
    className: "w-4 h-4"
  })))), route && /*#__PURE__*/React.createElement("div", {
    className: "flex-1 overflow-y-auto bg-slate-50 flex flex-col ".concat(timer.bg, " transition-colors duration-700 relative")
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex-1 flex flex-col items-center justify-center p-6 text-center min-h-[55vh] relative"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-baseline justify-center gap-2 mb-6"
  }, /*#__PURE__*/React.createElement("h2", {
    className: "text-3xl font-bold text-slate-800 tracking-tight"
  }, timerContext.station), /*#__PURE__*/React.createElement("span", {
    className: "text-sm font-bold bg-slate-200 text-slate-600 px-2 py-0.5 rounded-md"
  }, route.dir.platform)), /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col items-center mb-8"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-baseline gap-1.5 mb-3"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-2xl font-bold text-slate-800 tracking-tight leading-none"
  }, timer.nextDest), /*#__PURE__*/React.createElement("span", {
    className: "text-sm font-bold text-slate-500"
  }, "\u884C\u304D")), /*#__PURE__*/React.createElement("div", {
    className: "flex items-center gap-3"
  }, /*#__PURE__*/React.createElement("span", {
    className: "inline-block px-2 py-0.5 rounded text-[11px] font-bold text-white ".concat(route.line.color)
  }, route.line.name), /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold text-slate-600"
  }, route.dir.name))), /*#__PURE__*/React.createElement("div", {
    className: "relative mb-10 w-full"
  }, /*#__PURE__*/React.createElement("div", {
    className: "tabular-nums tracking-tighter leading-none text-center ".concat(timer.color, " transition-colors duration-300")
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-baseline justify-center gap-1 drop-shadow-sm"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-7xl font-bold leading-none tracking-tight"
  }, timer.left.m), /*#__PURE__*/React.createElement("span", {
    className: "text-xl font-bold text-slate-400 mr-2"
  }, "\u5206"), /*#__PURE__*/React.createElement("span", {
    className: "text-7xl font-bold leading-none tracking-tight"
  }, timer.left.s), /*#__PURE__*/React.createElement("span", {
    className: "text-xl font-bold text-slate-400"
  }, "\u79D2")))), /*#__PURE__*/React.createElement("div", {
    className: "inline-flex items-center gap-4 bg-white px-6 py-3 rounded-2xl shadow-card border border-slate-100 text-slate-600"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex flex-col items-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex items-baseline gap-1"
  }, /*#__PURE__*/React.createElement("span", {
    className: "text-2xl font-bold tabular-nums text-slate-700"
  }, timer.next), /*#__PURE__*/React.createElement("span", {
    className: "text-xs font-bold"
  }, "\u767A"))))), /*#__PURE__*/React.createElement(DraggableDrawer, {
    isOpen: isTimerOpen
  }, /*#__PURE__*/React.createElement("div", {
    className: "pt-2 pb-4"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center mb-4 px-2"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "font-bold text-slate-500 text-sm uppercase tracking-wider"
  }, "\u305D\u306E\u5F8C\u306E\u96FB\u8ECA"), /*#__PURE__*/React.createElement("button", {
    onClick: switchTimerDir,
    className: "flex items-center gap-1.5 text-slate-600 font-bold text-xs bg-slate-100 px-3 py-1.5 rounded-full hover:bg-slate-200 transition-colors"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.RefreshCw,
    className: "w-3.5 h-3.5"
  }), "\u9006\u65B9\u5411")), /*#__PURE__*/React.createElement("div", {
    className: "space-y-0 divide-y divide-slate-100"
  }, timer.subsequents && timer.subsequents.length > 0 ? timer.subsequents.map(function (s, i) {
    return /*#__PURE__*/React.createElement("div", {
      key: i,
      className: "flex justify-between items-center py-3 px-2 hover:bg-slate-50 transition-colors rounded-lg"
    }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
      className: "flex items-baseline gap-2"
    }, /*#__PURE__*/React.createElement("span", {
      className: "text-lg font-bold text-slate-700 tabular-nums"
    }, s.time), /*#__PURE__*/React.createElement("span", {
      className: "text-xs text-slate-400"
    }, "\u767A")), /*#__PURE__*/React.createElement("div", {
      className: "text-xs font-bold text-slate-500 mt-0.5"
    }, s.dest, " \u884C\u304D")), /*#__PURE__*/React.createElement("div", {
      className: "text-right"
    }, /*#__PURE__*/React.createElement("div", {
      className: "text-sm font-bold text-slate-600"
    }, s.min, " \u5206\u5F8C")));
  }) : /*#__PURE__*/React.createElement("div", {
    className: "text-center text-slate-400 py-6 text-sm"
  }, "\u305D\u306E\u5F8C\u306E\u96FB\u8ECA\u306F\u3042\u308A\u307E\u305B\u3093")), /*#__PURE__*/React.createElement("div", {
    className: "mt-4 pt-4 border-t border-dashed border-slate-100 flex justify-center"
  }, /*#__PURE__*/React.createElement("div", {
    className: "inline-flex items-center gap-2 text-slate-400 font-bold text-xs"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.Moon,
    className: "w-3.5 h-3.5"
  }), /*#__PURE__*/React.createElement("span", null, "\u7D42\u96FB ", /*#__PURE__*/React.createElement("span", {
    className: "text-slate-600 text-sm ml-1 tabular-nums"
  }, route.dir.lastTrain))))))), /*#__PURE__*/React.createElement(FloatingActionButtons, {
    onClose: function onClose() {
      return setIsTimerOpen(false);
    },
    onFavorite: onTogglePin,
    isPinned: isPinned
  })));
};
var ExploreModal = function ExploreModal(_ref18) {
  var exploreStation = _ref18.exploreStation,
    setExploreStation = _ref18.setExploreStation,
    startTimer = _ref18.startTimer;
  if (!exploreStation) return null;
  var lines = LINES_DATA.filter(function (l) {
    return l.directions.some(function (d) {
      return d.stations.includes(exploreStation);
    });
  });
  return /*#__PURE__*/React.createElement(ModalPortal, null, /*#__PURE__*/React.createElement("div", {
    className: "fixed inset-0 z-[150] flex items-end justify-center pointer-events-none"
  }, /*#__PURE__*/React.createElement("div", {
    className: "absolute inset-0 bg-black/20 backdrop-blur-sm pointer-events-auto transition-opacity",
    onClick: function onClick() {
      return setExploreStation(null);
    }
  }), /*#__PURE__*/React.createElement("div", {
    className: "bg-white w-full max-w-md p-6 rounded-t-3xl shadow-2xl pointer-events-auto animate-slide-up max-h-[80vh] overflow-y-auto relative z-10"
  }, /*#__PURE__*/React.createElement("div", {
    className: "flex justify-between items-center mb-6"
  }, /*#__PURE__*/React.createElement("h3", {
    className: "text-2xl font-bold text-slate-800"
  }, exploreStation), /*#__PURE__*/React.createElement("button", {
    onClick: function onClick() {
      return setExploreStation(null);
    },
    className: "p-2 bg-slate-100 rounded-full hover:bg-slate-200"
  }, /*#__PURE__*/React.createElement(Icon, {
    path: Icons.X,
    className: "w-5 h-5 text-slate-500"
  }))), /*#__PURE__*/React.createElement("div", {
    className: "space-y-6"
  }, lines.map(function (l) {
    return /*#__PURE__*/React.createElement("div", {
      key: l.id
    }, /*#__PURE__*/React.createElement("div", {
      className: "flex items-center gap-2 mb-3 px-1"
    }, /*#__PURE__*/React.createElement("div", {
      className: "w-1.5 h-4 rounded-full ".concat(l.color)
    }), /*#__PURE__*/React.createElement("span", {
      className: "font-bold text-slate-500 text-sm"
    }, l.name)), /*#__PURE__*/React.createElement("div", {
      className: "grid grid-cols-2 gap-3"
    }, l.directions.map(function (d) {
      return /*#__PURE__*/React.createElement("button", {
        key: d.id,
        onClick: function onClick() {
          startTimer(exploreStation, l.id, d.id);
          setExploreStation(null);
        },
        className: "w-full flex items-center justify-between bg-white border border-slate-200 p-4 rounded-xl text-left hover:border-indigo-400 active:scale-[0.98] transition-all shadow-sm group"
      }, /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("div", {
        className: "font-bold text-slate-700 mb-0.5"
      }, d.name), /*#__PURE__*/React.createElement("div", {
        className: "text-xs text-slate-400 font-bold"
      }, d.dest.join('・'))), /*#__PURE__*/React.createElement(Icon, {
        path: Icons.ChevronRight,
        className: "w-4 h-4 text-slate-300 group-hover:text-indigo-400"
      }));
    })));
  })))));
};
var App = function App() {
  var _useState39 = useState('HOME'),
    _useState40 = _slicedToArray(_useState39, 2),
    view = _useState40[0],
    setView = _useState40[1];
  var _useState41 = useState([]),
    _useState42 = _slicedToArray(_useState41, 2),
    homeConfigs = _useState42[0],
    setHomeConfigs = _useState42[1];
  var _useState43 = useState([]),
    _useState44 = _slicedToArray(_useState43, 2),
    pinned = _useState44[0],
    setPinned = _useState44[1];
  var _useState45 = useState([]),
    _useState46 = _slicedToArray(_useState45, 2),
    history = _useState46[0],
    setHistory = _useState46[1];
  var _useState47 = useState('pinned'),
    _useState48 = _slicedToArray(_useState47, 2),
    activeListTab = _useState48[0],
    setActiveListTab = _useState48[1];
  var _useState49 = useState(null),
    _useState50 = _slicedToArray(_useState49, 2),
    tempConfigStation = _useState50[0],
    setTempConfigStation = _useState50[1];
  var _useState51 = useState(null),
    _useState52 = _slicedToArray(_useState51, 2),
    exploreStation = _useState52[0],
    setExploreStation = _useState52[1];
  var _useState53 = useState(null),
    _useState54 = _slicedToArray(_useState53, 2),
    timerContext = _useState54[0],
    setTimerContext = _useState54[1];
  var _useState55 = useState(false),
    _useState56 = _slicedToArray(_useState55, 2),
    isTimerOpen = _useState56[0],
    setIsTimerOpen = _useState56[1];
  var _useState57 = useState({
      isOpen: false,
      item: null
    }),
    _useState58 = _slicedToArray(_useState57, 2),
    confirmModal = _useState58[0],
    setConfirmModal = _useState58[1];
  var _useState59 = useState({
      isOpen: false,
      message: ''
    }),
    _useState60 = _slicedToArray(_useState59, 2),
    alertModal = _useState60[0],
    setAlertModal = _useState60[1];
  var _useState61 = useState({
      show: false,
      message: ''
    }),
    _useState62 = _slicedToArray(_useState61, 2),
    toast = _useState62[0],
    setToast = _useState62[1];
  useEffect(function () {
    try {
      var h = localStorage.getItem('mct_home_configs_v2');
      if (h) {
        setHomeConfigs(JSON.parse(h));
      } else {
        var oldH = localStorage.getItem('mct_home');
        if (oldH) {
          setHomeConfigs([JSON.parse(oldH)]);
        } else {
          setHomeConfigs([{
            station: '船橋',
            lineId: 'sobu_rapid',
            dirId: 'up'
          }, {
            station: '京成船橋',
            lineId: 'keisei_main',
            dirId: 'up'
          }]);
        }
      }
      var p = localStorage.getItem('mct_pins');
      if (p) setPinned(JSON.parse(p));
      var his = localStorage.getItem('mct_hist');
      if (his) setHistory(JSON.parse(his));
    } catch (e) {}
  }, []);
  var updateHomeConfig = function updateHomeConfig(newConfigs) {
    setHomeConfigs(newConfigs);
    localStorage.setItem('mct_home_configs_v2', JSON.stringify(newConfigs));
  };
  var addHomeConfig = function addHomeConfig(newItem) {
    if (homeConfigs.length >= MAX_HOME_CONFIGS) return;
    var newConfigs = [].concat(_toConsumableArray(homeConfigs), [newItem]);
    updateHomeConfig(newConfigs);
  };
  var replaceHomeConfig = function replaceHomeConfig(index, newItem) {
    var newConfigs = _toConsumableArray(homeConfigs);
    newConfigs[index] = newItem;
    updateHomeConfig(newConfigs);
  };
  var removeHomeConfig = function removeHomeConfig(index) {
    var newConfigs = homeConfigs.filter(function (_, i) {
      return i !== index;
    });
    updateHomeConfig(newConfigs);
  };
  var moveHomeConfig = function moveHomeConfig(index, direction) {
    if (index < 0 || index >= homeConfigs.length) return;
    var newIndex = index + direction;
    if (newIndex < 0 || newIndex >= homeConfigs.length) return;
    var newConfigs = _toConsumableArray(homeConfigs);
    var _ref19 = [newConfigs[newIndex], newConfigs[index]];
    newConfigs[index] = _ref19[0];
    newConfigs[newIndex] = _ref19[1];
    updateHomeConfig(newConfigs);
  };
  var updatePins = function updatePins(newPins) {
    setPinned(newPins);
    localStorage.setItem('mct_pins', JSON.stringify(newPins));
  };
  var updateHistory = function updateHistory(item) {
    var newHist = [item].concat(_toConsumableArray(history.filter(function (h) {
      return !(h.station === item.station && h.lineId === item.lineId);
    }))).slice(0, 20);
    setHistory(newHist);
    localStorage.setItem('mct_hist', JSON.stringify(newHist));
  };
  var handlePinToggle = function handlePinToggle(s, l) {
    var exists = pinned.find(function (p) {
      return p.station === s && p.lineId === l;
    });
    if (exists) {
      setConfirmModal({
        isOpen: true,
        item: {
          station: s,
          lineId: l
        }
      });
    } else {
      if (pinned.length >= 15) {
        setAlertModal({
          isOpen: true,
          message: 'よく使う駅は最大15件までです。\n不要なものを解除してください。'
        });
        return;
      }
      updatePins([{
        station: s,
        lineId: l
      }].concat(_toConsumableArray(pinned)));
    }
  };
  var confirmUnpin = function confirmUnpin() {
    if (confirmModal.item) {
      var _confirmModal$item = confirmModal.item,
        station = _confirmModal$item.station,
        lineId = _confirmModal$item.lineId;
      updatePins(pinned.filter(function (p) {
        return !(p.station === station && p.lineId === lineId);
      }));
    }
    setConfirmModal({
      isOpen: false,
      item: null
    });
  };
  var startTimer = function startTimer(s, l, d) {
    setTimerContext({
      station: s,
      lineId: l,
      dirId: d
    });
    updateHistory({
      station: s,
      lineId: l
    });
    setIsTimerOpen(true);
    setView('HOME');
  };
  var switchTimerDir = function switchTimerDir() {
    if (!timerContext) return;
    var rd = getRouteData(timerContext.lineId, timerContext.dirId);
    var nextDir = rd.line.directions.find(function (d) {
      return d.id !== timerContext.dirId;
    }) || rd.line.directions[0];
    setTimerContext(_objectSpread(_objectSpread({}, timerContext), {}, {
      dirId: nextDir.id
    }));
  };
  var handleDownload = function handleDownload() {
    var blob = new Blob([document.documentElement.outerHTML], {
      type: 'text/html'
    });
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a');
    a.href = url;
    a.download = 'my-commute-timer.html';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
  };
  var toggleTimerPin = function toggleTimerPin() {
    if (!timerContext) return;
    handlePinToggle(timerContext.station, timerContext.lineId);
  };
  var isTimerPinned = timerContext ? pinned.some(function (p) {
    return p.station === timerContext.station && p.lineId === timerContext.lineId;
  }) : false;
  var showToast = function showToast(msg) {
    setToast({
      show: true,
      message: msg
    });
    setTimeout(function () {
      return setToast({
        show: false,
        message: ''
      });
    }, 3000);
  };
  return /*#__PURE__*/React.createElement("div", {
    className: "h-full w-full bg-surface relative max-w-md mx-auto shadow-2xl overflow-hidden"
  }, view === 'HOME' && /*#__PURE__*/React.createElement(HomeView, {
    setView: setView,
    homeConfigs: homeConfigs,
    updateHomeConfig: updateHomeConfig,
    pinned: pinned,
    history: history,
    DEFAULT_ROUTES: DEFAULT_ROUTES,
    handlePinToggle: handlePinToggle,
    startTimer: startTimer,
    handleDownload: handleDownload,
    setTempConfigStation: setTempConfigStation,
    activeListTab: activeListTab,
    setActiveListTab: setActiveListTab
  }), view === 'EXPLORE' && /*#__PURE__*/React.createElement(ExploreView, {
    setView: setView,
    setExploreStation: setExploreStation
  }), view === 'CONFIG' && /*#__PURE__*/React.createElement(ConfigView, {
    setView: setView,
    tempConfigStation: tempConfigStation,
    setTempConfigStation: setTempConfigStation,
    homeConfigs: homeConfigs,
    addHomeConfig: addHomeConfig,
    removeHomeConfig: removeHomeConfig,
    replaceHomeConfig: replaceHomeConfig,
    updateHome: updateHomeConfig,
    handleDownload: handleDownload,
    showToast: showToast,
    moveHomeConfig: moveHomeConfig
  }), /*#__PURE__*/React.createElement(TimerModal, {
    timerContext: timerContext,
    isTimerOpen: isTimerOpen,
    setIsTimerOpen: setIsTimerOpen,
    switchTimerDir: switchTimerDir,
    isPinned: isTimerPinned,
    onTogglePin: toggleTimerPin
  }), /*#__PURE__*/React.createElement(ExploreModal, {
    exploreStation: exploreStation,
    setExploreStation: setExploreStation,
    startTimer: startTimer
  }), /*#__PURE__*/React.createElement(ConfirmModal, {
    isOpen: confirmModal.isOpen,
    message: "\u3088\u304F\u4F7F\u3046\u99C5\u304B\u3089\u524A\u9664\u3057\u307E\u3059\u304B\uFF1F",
    onConfirm: confirmUnpin,
    onCancel: function onCancel() {
      return setConfirmModal({
        isOpen: false,
        item: null
      });
    }
  }), /*#__PURE__*/React.createElement(AlertModal, {
    isOpen: alertModal.isOpen,
    message: alertModal.message,
    onClose: function onClose() {
      return setAlertModal({
        isOpen: false,
        message: ''
      });
    }
  }), /*#__PURE__*/React.createElement(Toast, {
    show: toast.show,
    message: toast.message
  }));
};
var root = ReactDOM.createRoot(document.getElementById('root'));
root.render(/*#__PURE__*/React.createElement(App, null));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUmVhY3QiLCJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlTWVtbyIsInVzZUxheW91dEVmZmVjdCIsInVzZUNhbGxiYWNrIiwiSWNvbiIsIl9yZWYiLCJwYXRoIiwiY2xhc3NOYW1lIiwicHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJfZXhjbHVkZWQiLCJjcmVhdGVFbGVtZW50IiwiX2V4dGVuZHMiLCJ4bWxucyIsInZpZXdCb3giLCJmaWxsIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJJY29ucyIsIkFycm93TGVmdCIsImQiLCJUcmFpbkZyb250IiwiQ2xvY2siLCJjeCIsImN5IiwiciIsInBvaW50cyIsIkV4dGVybmFsTGluayIsIk1vb24iLCJDaGV2cm9uVXAiLCJDaGV2cm9uRG93biIsIkNoZXZyb25SaWdodCIsIk1hcFBpbiIsIlNldHRpbmdzIiwiSGlzdG9yeSIsIlNlYXJjaCIsIkFycm93UmlnaHRMZWZ0IiwiUGluIiwieDEiLCJ4MiIsInkxIiwieTIiLCJYIiwiU3RhciIsIlJlZnJlc2hDdyIsIkNoZWNrIiwiVHJhc2giLCJHcmlwIiwiTGlzdFN0YXJ0IiwiRmlsZVRleHQiLCJMSU5FU19EQVRBIiwiaWQiLCJuYW1lIiwiY29sb3IiLCJ0ZXh0Q29sb3IiLCJzdGF0dXNVcmwiLCJkaXJlY3Rpb25zIiwiZGVzdCIsInBsYXRmb3JtIiwibGFzdFRyYWluIiwic3RhdGlvbnMiLCJBTExfU1RBVElPTlMiLCJBcnJheSIsImZyb20iLCJTZXQiLCJmbGF0TWFwIiwibCIsInNvcnQiLCJERUZBVUxUX1JPVVRFUyIsInN0YXRpb24iLCJsaW5lSWQiLCJNQVhfSE9NRV9DT05GSUdTIiwiU0NIRURVTEVfUEFUVEVSTlMiLCJzdGFydEhvdXIiLCJlbmRIb3VyIiwicnVzaCIsInN0YXJ0IiwiZW5kIiwiaW50ZXJ2YWwiLCJkYXkiLCJldmVuaW5nIiwibmlnaHQiLCJiYXNlSW50ZXJ2YWwiLCJ0b3lvX3JhcGlkIiwic2hpbl9rZWlzZWkiLCJrZWlzZWlfbWFpbiIsImdlbmVyYXRlRnVsbERheVNjaGVkdWxlIiwiZGVzdHMiLCJwYXR0ZXJuIiwic2NoZWR1bGUiLCJub3ciLCJEYXRlIiwiY3VycmVudE1pbnV0ZSIsImgiLCJtIiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwic2V0U2Vjb25kcyIsInNldE1pbGxpc2Vjb25kcyIsImRlc3RJbmRleCIsImxlbmd0aCIsInB1c2giLCJjb25jYXQiLCJkYXRlIiwiZ2V0TGluZURhdGEiLCJmaW5kIiwiZ2V0Um91dGVEYXRhIiwiZGlySWQiLCJsaW5lIiwiZGlyIiwiZ2V0U3RhdGlvbkFyZWEiLCJjaGliYSIsInRva3lvIiwic29tZSIsInMiLCJpbmNsdWRlcyIsIk1vZGFsUG9ydGFsIiwiX3JlZjIiLCJjaGlsZHJlbiIsIlJlYWN0RE9NIiwiY3JlYXRlUG9ydGFsIiwiZG9jdW1lbnQiLCJib2R5IiwiRmxvYXRpbmdTZWFyY2hCdG4iLCJfcmVmMyIsIm9uQ2xpY2siLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsIkZsb2F0aW5nQmFja0J0biIsIl9yZWY0IiwidGV4dCIsImljb24iLCJGbG9hdGluZ0FjdGlvbkJ1dHRvbnMiLCJfcmVmNSIsIm9uQ2xvc2UiLCJvbkZhdm9yaXRlIiwiaXNQaW5uZWQiLCJUb2FzdCIsIl9yZWY2IiwibWVzc2FnZSIsInNob3ciLCJEcmFnZ2FibGVEcmF3ZXIiLCJfcmVmNyIsImlzT3BlbiIsIl91c2VTdGF0ZSIsIl91c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheSIsImlzRHJhZ2dpbmciLCJzZXRJc0RyYWdnaW5nIiwiX3VzZVN0YXRlMyIsIl91c2VTdGF0ZTQiLCJoZWlnaHQiLCJzZXRIZWlnaHQiLCJfdXNlU3RhdGU1IiwiX3VzZVN0YXRlNiIsInN0YXJ0WSIsInNldFN0YXJ0WSIsIl91c2VTdGF0ZTciLCJfdXNlU3RhdGU4Iiwic3RhcnRIZWlnaHQiLCJzZXRTdGFydEhlaWdodCIsIk1JTl9IRUlHSFQiLCJNQVhfSEVJR0hUIiwiaW5uZXJIZWlnaHQiLCJvblRvdWNoU3RhcnQiLCJlIiwidG91Y2hlcyIsImNsaWVudFkiLCJvblRvdWNoTW92ZSIsImN1cnJlbnRZIiwiZGlmZiIsIm5ld0hlaWdodCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJvblRvdWNoRW5kIiwic3R5bGUiLCJ0cmFuc2l0aW9uIiwiYm94U2hhZG93IiwidXNlVHJhaW5UaW1lciIsInJvdXRlRGF0YSIsIl91c2VTdGF0ZTkiLCJsZWZ0IiwibmV4dCIsIm5leHREZXN0Iiwic3RhdHVzIiwic3Vic2VxdWVudHMiLCJfdXNlU3RhdGUwIiwidGltZSIsInNldFRpbWUiLCJyb3V0ZUlkIiwiaXNBcnJheSIsInVwZGF0ZSIsInRhcmdldEluZGV4IiwiZmluZEluZGV4IiwidGFyZ2V0IiwiZmxvb3IiLCJ0aW1lTGVmdCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJuZXh0VGltZSIsIlN0cmluZyIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsInN1YlRyYWlucyIsInNsaWNlIiwibWFwIiwidCIsInN1YkRpZmYiLCJ0aW1lciIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIlRpbWVySGVhZGVyIiwiX3JlZjgiLCJjb25maWciLCJvblN3aXRjaCIsIm9uRGV0YWlsIiwiaXNBY3RpdmUiLCJhbmltYXRpb25DbGFzcyIsIm9uQ29uZmlnIiwib25TdGF0aW9uTmFtZUNsaWNrIiwicm91dGUiLCJoYW5kbGVTdGF0aW9uQ2xpY2siLCJkZXRhaWwiLCJuZXh0RGlyIiwic3RvcFByb3BhZ2F0aW9uIiwiSG9tZUhlYWRlckNhcm91c2VsIiwiX3JlZjkiLCJjb25maWdzIiwib25TdGFydFRpbWVyIiwib25IZWlnaHRDaGFuZ2UiLCJvbkRvd25sb2FkIiwiX3VzZVN0YXRlMSIsIl91c2VTdGF0ZTEwIiwiY3VycmVudEluZGV4Iiwic2V0Q3VycmVudEluZGV4IiwiX3VzZVN0YXRlMTEiLCJfdXNlU3RhdGUxMiIsInNsaWRlRGlyZWN0aW9uIiwic2V0U2xpZGVEaXJlY3Rpb24iLCJjb250YWluZXJSZWYiLCJfdXNlU3RhdGUxMyIsIl91c2VTdGF0ZTE0IiwidG91Y2hTdGFydCIsInNldFRvdWNoU3RhcnQiLCJfdXNlU3RhdGUxNSIsIl91c2VTdGF0ZTE2IiwidG91Y2hFbmQiLCJzZXRUb3VjaEVuZCIsIm1pblN3aXBlRGlzdGFuY2UiLCJ0YXJnZXRUb3VjaGVzIiwiY2xpZW50WCIsImRpc3RhbmNlIiwiaXNMZWZ0U3dpcGUiLCJpc1JpZ2h0U3dpcGUiLCJwcmV2IiwiY3VycmVudCIsIm9mZnNldEhlaWdodCIsImdldEFuaW1hdGlvbkNsYXNzIiwicmVmIiwia2V5IiwiY2ZnIiwiXyIsImlkeCIsIlJvdXRlTGlzdEl0ZW0iLCJfcmVmMCIsIm9uUGluIiwib25TZWxlY3QiLCJFbXB0eVN0YXRlIiwiX3JlZjEiLCJ0eXBlIiwib25TZWFyY2giLCJBbGVydE1vZGFsIiwiX3JlZjEwIiwiUmVwbGFjZU1vZGFsIiwiX3JlZjExIiwiaG9tZUNvbmZpZ3MiLCJpIiwiU29ydGFibGVJdGVtIiwiX3JlZjEyIiwiaW5kZXgiLCJvblJlbW92ZSIsIm9uTW92ZSIsIl91c2VTdGF0ZTE3IiwiX3VzZVN0YXRlMTgiLCJfdXNlU3RhdGUxOSIsInkiLCJfdXNlU3RhdGUyMCIsInN0YXJ0UG9zIiwic2V0U3RhcnRQb3MiLCJoYW5kbGVUb3VjaFN0YXJ0Iiwib3ZlcmZsb3ciLCJoYW5kbGVUb3VjaE1vdmUiLCJkZWx0YVkiLCJ0cmFuc2Zvcm0iLCJoYW5kbGVUb3VjaEVuZCIsImNoYW5nZWRUb3VjaGVzIiwiYWJzIiwiZGlyZWN0aW9uIiwiQ29uZmlnVmlldyIsIl9yZWYxMyIsInNldFZpZXciLCJ0ZW1wQ29uZmlnU3RhdGlvbiIsInNldFRlbXBDb25maWdTdGF0aW9uIiwiYWRkSG9tZUNvbmZpZyIsInJlbW92ZUhvbWVDb25maWciLCJyZXBsYWNlSG9tZUNvbmZpZyIsInVwZGF0ZUhvbWUiLCJoYW5kbGVEb3dubG9hZCIsInNob3dUb2FzdCIsIm1vdmVIb21lQ29uZmlnIiwiX3VzZVN0YXRlMjEiLCJfdXNlU3RhdGUyMiIsImZpbHRlckFyZWEiLCJzZXRGaWx0ZXJBcmVhIiwiX3VzZVN0YXRlMjMiLCJfdXNlU3RhdGUyNCIsImZpbHRlclRleHQiLCJzZXRGaWx0ZXJUZXh0IiwiX3VzZVN0YXRlMjUiLCJfdXNlU3RhdGUyNiIsInJlcGxhY2VNb2RhbE9wZW4iLCJzZXRSZXBsYWNlTW9kYWxPcGVuIiwiX3VzZVN0YXRlMjciLCJfdXNlU3RhdGUyOCIsInBlbmRpbmdTdGF0aW9uIiwic2V0UGVuZGluZ1N0YXRpb24iLCJfdXNlU3RhdGUyOSIsIl91c2VTdGF0ZTMwIiwiaXNIZWFkZXJDb2xsYXBzZWQiLCJzZXRJc0hlYWRlckNvbGxhcHNlZCIsInNjcm9sbFJlZiIsImhhbmRsZVNjcm9sbCIsInNjcm9sbFRvcCIsImZpbHRlcmVkIiwiZmlsdGVyIiwibWF0Y2hBcmVhIiwibWF0Y2hUZXh0IiwiaGFuZGxlQWRkQ2xpY2siLCJoYW5kbGVEaXJlY3Rpb25TZWxlY3QiLCJoYW5kbGVSZXBsYWNlIiwib25TY3JvbGwiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25DaGFuZ2UiLCJhcmVhIiwiam9pbiIsIkV4cGxvcmVWaWV3IiwiX3JlZjE0Iiwic2V0RXhwbG9yZVN0YXRpb24iLCJfdXNlU3RhdGUzMSIsIl91c2VTdGF0ZTMyIiwiX3VzZVN0YXRlMzMiLCJfdXNlU3RhdGUzNCIsIkhvbWVWaWV3IiwiX3JlZjE1IiwidXBkYXRlSG9tZUNvbmZpZyIsInBpbm5lZCIsImhpc3RvcnkiLCJoYW5kbGVQaW5Ub2dnbGUiLCJzdGFydFRpbWVyIiwiYWN0aXZlTGlzdFRhYiIsInNldEFjdGl2ZUxpc3RUYWIiLCJpdGVtcyIsIl91c2VTdGF0ZTM1IiwiX3VzZVN0YXRlMzYiLCJzaG93SGVhZGVyIiwic2V0U2hvd0hlYWRlciIsImxhc3RTY3JvbGxZIiwiX3VzZVN0YXRlMzciLCJfdXNlU3RhdGUzOCIsImhlYWRlckhlaWdodCIsInNldEhlYWRlckhlaWdodCIsImN1cnJlbnRTY3JvbGxZIiwiZWwiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN3aXRjaEhvbWVEaXIiLCJ0YXJnZXRDb25maWciLCJyZCIsIm5ld0NvbmZpZ3MiLCJjIiwiX29iamVjdFNwcmVhZCIsImhhbmRsZVRpdGxlQ2xpY2siLCJwYWRkaW5nVG9wIiwiaXRlbSIsInAiLCJDb25maXJtTW9kYWwiLCJfcmVmMTYiLCJvbkNvbmZpcm0iLCJvbkNhbmNlbCIsIlRpbWVyTW9kYWwiLCJfcmVmMTciLCJ0aW1lckNvbnRleHQiLCJpc1RpbWVyT3BlbiIsInNldElzVGltZXJPcGVuIiwic3dpdGNoVGltZXJEaXIiLCJvblRvZ2dsZVBpbiIsImhyZWYiLCJiZyIsIkV4cGxvcmVNb2RhbCIsIl9yZWYxOCIsImV4cGxvcmVTdGF0aW9uIiwibGluZXMiLCJBcHAiLCJfdXNlU3RhdGUzOSIsIl91c2VTdGF0ZTQwIiwidmlldyIsIl91c2VTdGF0ZTQxIiwiX3VzZVN0YXRlNDIiLCJzZXRIb21lQ29uZmlncyIsIl91c2VTdGF0ZTQzIiwiX3VzZVN0YXRlNDQiLCJzZXRQaW5uZWQiLCJfdXNlU3RhdGU0NSIsIl91c2VTdGF0ZTQ2Iiwic2V0SGlzdG9yeSIsIl91c2VTdGF0ZTQ3IiwiX3VzZVN0YXRlNDgiLCJfdXNlU3RhdGU0OSIsIl91c2VTdGF0ZTUwIiwiX3VzZVN0YXRlNTEiLCJfdXNlU3RhdGU1MiIsIl91c2VTdGF0ZTUzIiwiX3VzZVN0YXRlNTQiLCJzZXRUaW1lckNvbnRleHQiLCJfdXNlU3RhdGU1NSIsIl91c2VTdGF0ZTU2IiwiX3VzZVN0YXRlNTciLCJfdXNlU3RhdGU1OCIsImNvbmZpcm1Nb2RhbCIsInNldENvbmZpcm1Nb2RhbCIsIl91c2VTdGF0ZTU5IiwiX3VzZVN0YXRlNjAiLCJhbGVydE1vZGFsIiwic2V0QWxlcnRNb2RhbCIsIl91c2VTdGF0ZTYxIiwiX3VzZVN0YXRlNjIiLCJ0b2FzdCIsInNldFRvYXN0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsIm9sZEgiLCJoaXMiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwibmV3SXRlbSIsIl90b0NvbnN1bWFibGVBcnJheSIsIm5ld0luZGV4IiwiX3JlZjE5IiwidXBkYXRlUGlucyIsIm5ld1BpbnMiLCJ1cGRhdGVIaXN0b3J5IiwibmV3SGlzdCIsImV4aXN0cyIsImNvbmZpcm1VbnBpbiIsIl9jb25maXJtTW9kYWwkaXRlbSIsImJsb2IiLCJCbG9iIiwiZG9jdW1lbnRFbGVtZW50Iiwib3V0ZXJIVE1MIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiYSIsImRvd25sb2FkIiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwidG9nZ2xlVGltZXJQaW4iLCJpc1RpbWVyUGlubmVkIiwibXNnIiwic2V0VGltZW91dCIsInJvb3QiLCJjcmVhdGVSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW5kZXIiXSwic291cmNlcyI6WyJJbmxpbmUgQmFiZWwgc2NyaXB0Il0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgICBjb25zdCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlTWVtbywgdXNlTGF5b3V0RWZmZWN0LCB1c2VDYWxsYmFjayB9ID0gUmVhY3Q7XG5cbiAgICAgICAgLy8gLS0tIEljb25zIChIaWdoIFF1YWxpdHkgTHVjaWRlIEljb25zKSAtLS1cbiAgICAgICAgY29uc3QgSWNvbiA9ICh7IHBhdGgsIGNsYXNzTmFtZSwgLi4ucHJvcHMgfSkgPT4gKFxuICAgICAgICAgICAgPHN2ZyBcbiAgICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgXG4gICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiIFxuICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCIgXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyXCIgXG4gICAgICAgICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgXG4gICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBcbiAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3BhdGh9XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IEljb25zID0ge1xuICAgICAgICAgICAgQXJyb3dMZWZ0OiA8cGF0aCBkPVwibTEyIDE5LTctNyA3LTcgTTE5IDEySDVcIi8+LFxuICAgICAgICAgICAgVHJhaW5Gcm9udDogPHBhdGggZD1cIk04IDMuMVY3YTQgNCAwIDAgMCA4IDBWMy4xTTIgMTFoMjBNMTIgM3Y4TTkgMjJIN2EyIDIgMCAwIDEtMi0yVjlhMiAyIDAgMCAxIDItMmgxMGEyIDIgMCAwIDEgMiAydjExYTIgMiAwIDAgMS0yIDJoLTJNMTUgMTVoMk03IDE1aDJcIiAvPiwgXG4gICAgICAgICAgICBDbG9jazogPGc+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiLz48cG9seWxpbmUgcG9pbnRzPVwiMTIgNiAxMiAxMiAxNiAxNFwiLz48L2c+LFxuICAgICAgICAgICAgRXh0ZXJuYWxMaW5rOiA8Zz48cGF0aCBkPVwiTTE1IDNoNnY2XCIvPjxwYXRoIGQ9XCJNMTAgMTQgMjEgM1wiLz48cGF0aCBkPVwiTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDZcIi8+PC9nPixcbiAgICAgICAgICAgIE1vb246IDxwYXRoIGQ9XCJNMTIgM2E2IDYgMCAwIDAgOSA5IDkgOSAwIDEgMS05LTlaXCIvPixcbiAgICAgICAgICAgIENoZXZyb25VcDogPHBhdGggZD1cIm0xOCAxNS02LTYtNiA2XCIvPixcbiAgICAgICAgICAgIENoZXZyb25Eb3duOiA8cGF0aCBkPVwibTYgOSA2IDYgNi02XCIvPixcbiAgICAgICAgICAgIENoZXZyb25SaWdodDogPHBhdGggZD1cIm05IDE4IDYtNi02LTZcIi8+LFxuICAgICAgICAgICAgTWFwUGluOiA8Zz48cGF0aCBkPVwiTTIwIDEwYzAgNi04IDEyLTggMTJzLTgtNi04LTEyYTggOCAwIDAgMSAxNiAwWlwiLz48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEwXCIgcj1cIjNcIi8+PC9nPixcbiAgICAgICAgICAgIFNldHRpbmdzOiA8cGF0aCBkPVwiTTEyLjIyIDJoLS40NGEyIDIgMCAwIDAtMiAydi4xOGEyIDIgMCAwIDEtMSAxLjczbC0uNDMuMjVhMiAyIDAgMCAxLTIgMGwtLjE1LS4wOGEyIDIgMCAwIDAtMi43My43M2wtLjIyLjM4YTIgMiAwIDAgMCAuNzMgMi43M2wuMTUuMWEyIDIgMCAwIDEgMSAxLjcydi41MWEyIDIgMCAwIDEtMSAxLjc0bC0uMTUuMDlhMiAyIDAgMCAwLS43MyAyLjczbC4yMi4zOGEyIDIgMCAwIDAgMi43My43M2wuMTUtLjA4YTIgMiAwIDAgMSAyIDBsLjQzLjI1YTIgMiAwIDAgMSAxIDEuNzNWMjBhMiAyIDAgMCAwIDIgMmguNDRhMiAyIDAgMCAwIDItMnYtLjE4YTIgMiAwIDAgMSAxLTEuNzNsLjQzLS4yNWEyIDIgMCAwIDEgMiAwbC4xNS4wOGEyIDIgMCAwIDAgMi43My0uNzNsLjIyLS4zOWEyIDIgMCAwIDAtLjczLTIuNzNsLS4xNS0uMDhhMiAyIDAgMCAxLTEtMS43NHYtLjQ3YTIgMiAwIDAgMSAxLTEuNzRsLjE1LS4wOWEyIDIgMCAwIDAgLjczLTIuNzNsLS4yMi0uMzhhMiAyIDAgMCAwLTIuNzMtLjczbC0uMTUuMDhhMiAyIDAgMCAxLTIgMGwtLjQzLS4yNWEyIDIgMCAwIDEtMS0xLjczVjRhMiAyIDAgMCAwLTItMnpcIiAvPixcbiAgICAgICAgICAgIEhpc3Rvcnk6IDxwYXRoIGQ9XCJNMyAxMmE5IDkgMCAxIDAgOSA5IDkuNzUgOS43NSAwIDAgMC02Ljc0IDIuNzRMMyAxMlwiIC8+LFxuICAgICAgICAgICAgU2VhcmNoOiA8Zz48Y2lyY2xlIGN4PVwiMTFcIiBjeT1cIjExXCIgcj1cIjhcIi8+PHBhdGggZD1cIm0yMSAyMS00LjMtNC4zXCIvPjwvZz4sXG4gICAgICAgICAgICBBcnJvd1JpZ2h0TGVmdDogPHBhdGggZD1cIk04IDMgNCA3bDQgNE00IDdoMTZNMTYgMjFsNC00LTQtNE0yMCAxN0g0XCIvPixcbiAgICAgICAgICAgIFBpbjogPGc+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTJcIiB5MT1cIjE3XCIgeTI9XCIyMlwiLz48cGF0aCBkPVwiTTUgMTdoMTR2LTEuNzZhMiAyIDAgMCAwLTEuMTEtMS43OWwtMS43OC0uOUEyIDIgMCAwIDEgMTUgMTAuNzZWNmgxYTIgMiAwIDAgMCAwLTRIOGEyIDIgMCAwIDAgMCA0aDF2NC43NmEyIDIgMCAwIDEtMS4xMSAxLjc5bC0xLjc4LjlBMiAyIDAgMCAwIDUgMTUuMjRaXCIvPjwvZz4sXG4gICAgICAgICAgICBYOiA8cGF0aCBkPVwiTTE4IDYgNiAxOE02IDYgMTggMThcIi8+LFxuICAgICAgICAgICAgU3RhcjogPHBvbHlnb24gcG9pbnRzPVwiMTIgMiAxNS4wOSA4LjI2IDIyIDkuMjcgMTcgMTQuMTQgMTguMTggMjEuMDIgMTIgMTcuNzcgNS44MiAyMS4wMiA3IDE0LjE0IDIgOS4yNyA4LjkxIDguMjYgMTIgMlwiLz4sXG4gICAgICAgICAgICBSZWZyZXNoQ3c6IDxnPjxwYXRoIGQ9XCJNMjEgMTJhOSA5IDAgMCAwLTktOSA5Ljc1IDkuNzUgMCAwIDAtNi43NCAyLjc0TDMgOFwiLz48cGF0aCBkPVwiTTMgM3Y1aDVcIi8+PHBhdGggZD1cIk0zIDEyYTkgOSAwIDAgMCA5IDkgOS43NSA5Ljc1IDAgMCAwIDYuNzQtMi43NEwyMSAxNlwiLz48cGF0aCBkPVwiTTIxIDIxdi01aC01XCIvPjwvZz4sXG4gICAgICAgICAgICBDaGVjazogPHBvbHlsaW5lIHBvaW50cz1cIjIwIDYgOSAxNyA0IDEyXCIvPixcbiAgICAgICAgICAgIFRyYXNoOiA8Zz48cGF0aCBkPVwiTTMgNmgxOFwiLz48cGF0aCBkPVwiTTE5IDZ2MTRjMCAxLTEgMi0yIDJIN2MtMSAwLTItMS0yLTJWNlwiLz48cGF0aCBkPVwiTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MlwiLz48L2c+LFxuICAgICAgICAgICAgR3JpcDogPGc+PGNpcmNsZSBjeD1cIjlcIiBjeT1cIjEyXCIgcj1cIjFcIi8+PGNpcmNsZSBjeD1cIjlcIiBjeT1cIjVcIiByPVwiMVwiLz48Y2lyY2xlIGN4PVwiOVwiIGN5PVwiMTlcIiByPVwiMVwiLz48Y2lyY2xlIGN4PVwiMTVcIiBjeT1cIjEyXCIgcj1cIjFcIi8+PGNpcmNsZSBjeD1cIjE1XCIgY3k9XCI1XCIgcj1cIjFcIi8+PGNpcmNsZSBjeD1cIjE1XCIgY3k9XCIxOVwiIHI9XCIxXCIvPjwvZz4sXG4gICAgICAgICAgICBMaXN0U3RhcnQ6IDxnPjxwYXRoIGQ9XCJNMTYgNGgyYTIgMiAwIDAgMSAyIDJ2MTRhMiAyIDAgMCAxLTIgMkg2YTIgMiAwIDAgMS0yLTJWNmEyIDIgMCAwIDEgMi0yaDJcIi8+PHBhdGggZD1cIk0xNSAySDlhMSAxIDAgMCAwLTEgMXYyYTEgMSAwIDAgMCAxIDFoNmExIDEgMCAwIDAgMS0xVjNhMSAxIDAgMCAwLTEtMVpcIi8+PC9nPixcbiAgICAgICAgICAgIEZpbGVUZXh0OiA8Zz48cGF0aCBkPVwiTTE0LjUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjcuNUwxNC41IDJ6XCIvPjxwb2x5bGluZSBwb2ludHM9XCIxNCAyIDE0IDggMjAgOFwiLz48bGluZSB4MT1cIjE2XCIgeDI9XCI4XCIgeTE9XCIxM1wiIHkyPVwiMTNcIi8+PGxpbmUgeDE9XCIxNlwiIHgyPVwiOFwiIHkxPVwiMTdcIiB5Mj1cIjE3XCIvPjxsaW5lIHgxPVwiMTBcIiB4Mj1cIjhcIiB5MT1cIjlcIiB5Mj1cIjlcIi8+PC9nPlxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIC0tLSBEYXRhOiBMaW5lICYgU2NoZWR1bGUgQ29uZmlndXJhdGlvbnMgLS0tXG4gICAgICAgIFxuICAgICAgICAvLyAxLiDlkITot6/nt5rjga7ln7rmnKzoqK3lrprvvIhJRCwg6ImyLCDlkI3liY0sIOaWuemdoiwg6aeF77yJXG4gICAgICAgIGNvbnN0IExJTkVTX0RBVEEgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICdzb2J1X3JhcGlkJywgbmFtZTogJ+e3j+atpue3muW/q+mAnycsIGNvbG9yOiAnYmctYmx1ZS02MDAnLCB0ZXh0Q29sb3I6ICd0ZXh0LWJsdWUtNjAwJyxcbiAgICAgICAgICAgICAgICBzdGF0dXNVcmw6ICdodHRwczovL3RyYW5zaXQueWFob28uY28uanAvdHJhaW5pbmZvL2FyZWEvNC8nLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBpZDogJ3VwJywgbmFtZTogJ+adseS6rOaWuemdoicsIGRlc3Q6IFsn5p2x5LqsJywgJ+aoqua1nCcsICfkuYXph4zmtZwnLCAn6YCX5a2QJ10sIHBsYXRmb3JtOiAnM+ODuzTnlarnt5onLCBsYXN0VHJhaW46ICcyMzo1OCcsIHN0YXRpb25zOiBbJ+WNg+iRiScsICfnqLLmr5snLCAn5rSl55Sw5rK8JywgJ+iIueapiycsICfluILlt50nLCAn5paw5bCP5bKpJywgJ+mMpuezuOeUuicsICfppqzllrDnlLonLCAn5paw5pel5pys5qmLJywgJ+adseS6rCddIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdkb3duJywgbmFtZTogJ+WNg+iRieaWuemdoicsIGRlc3Q6IFsn5Y2D6JGJJywgJ+aIkOeUsOepuua4rycsICflkJvmtKUnLCAn5LiK57eP5LiA44OO5a6uJ10sIHBsYXRmb3JtOiAnMeODuzLnlarnt5onLCBsYXN0VHJhaW46ICcwMDozNScsIHN0YXRpb25zOiBbJ+adseS6rCcsICfmlrDml6XmnKzmqYsnLCAn6aas5Zaw55S6JywgJ+mMpuezuOeUuicsICfmlrDlsI/lsqknLCAn5biC5bedJywgJ+iIueapiycsICfmtKXnlLDmsrwnLCAn56iy5q+bJywgJ+WNg+iRiSddIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnc29idV9sb2NhbCcsIG5hbWU6ICfnt4/mrabnt5rlkITlgZwnLCBjb2xvcjogJ2JnLXllbGxvdy00MDAnLCB0ZXh0Q29sb3I6ICd0ZXh0LXllbGxvdy02MDAnLFxuICAgICAgICAgICAgICAgIHN0YXR1c1VybDogJ2h0dHBzOi8vdHJhbnNpdC55YWhvby5jby5qcC90cmFpbmluZm8vYXJlYS80LycsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICB7IGlkOiAnd2VzdCcsIG5hbWU6ICfmlrDlrr/mlrnpnaInLCBkZXN0OiBbJ+S4iem3uScsICfkuK3ph44nLCAn6KW/6Ii55qmLJ10sIHBsYXRmb3JtOiAnMeeVque3micsIGxhc3RUcmFpbjogJzAwOjQyJywgc3RhdGlvbnM6IFsn5Y2D6JGJJywgJ+ilv+WNg+iRiScsICfnqLLmr5snLCAn5paw5qSc6KaL5bedJywgJ+W5leW8tScsICfluZXlvLXmnKzpg7cnLCAn5rSl55Sw5rK8JywgJ+adseiIueapiycsICfoiLnmqYsnLCAn6KW/6Ii55qmLJywgJ+S4i+e3j+S4reWxsScsICfmnKzlhavluaEnLCAn5biC5bedJywgJ+Wwj+WyqScsICfmlrDlsI/lsqknLCAn5bmz5LqVJywgJ+S6gOaIuCcsICfpjKbns7jnlLonLCAn5Lih5Zu9JywgJ+a1heiNieapiycsICfnp4vokYnljp8nLCAn5b6h6Iy244OO5rC0JywgJ+awtOmBk+apiycsICfpo6/nlLDmqYsnLCAn5biC44Kx6LC3JywgJ+Wbm+ODhOiwtycsICfkv6Hmv4PnlLonLCAn5Y2D6aeE44Kx6LC3JywgJ+S7o+OAheacqCcsICfmlrDlrr8nLCAn5aSn5LmF5L+dJywgJ+adseS4remHjicsICfkuK3ph44nLCAn6auY5YaG5a+6JywgJ+mYv+S9kOOCseiwtycsICfojbvnqqonLCAn6KW/6I2756qqJywgJ+WQieelpeWvuicsICfkuInpt7knXSB9LFxuICAgICAgICAgICAgICAgICAgICB7IGlkOiAnZWFzdCcsIG5hbWU6ICfljYPokYnmlrnpnaInLCBkZXN0OiBbJ+WNg+iRiScsICfmtKXnlLDmsrwnLCAn6KW/6Ii55qmLJ10sIHBsYXRmb3JtOiAnMueVque3micsIGxhc3RUcmFpbjogJzAwOjUwJywgc3RhdGlvbnM6IFsn5LiJ6be5JywgJ+aWsOWuvycsICflvqHojLbjg47msLQnLCAn56eL6JGJ5Y6fJywgJ+mMpuezuOeUuicsICfmlrDlsI/lsqknLCAn5biC5bedJywgJ+acrOWFq+W5oScsICfopb/oiLnmqYsnLCAn6Ii55qmLJywgJ+a0peeUsOayvCcsICfluZXlvLUnLCAn5Y2D6JGJJ10gfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICd5YW1hbm90ZScsIG5hbWU6ICflsbHmiYvnt5onLCBjb2xvcjogJ2JnLWVtZXJhbGQtNTAwJywgdGV4dENvbG9yOiAndGV4dC1lbWVyYWxkLTYwMCcsXG4gICAgICAgICAgICAgICAgc3RhdHVzVXJsOiAnaHR0cHM6Ly90cmFuc2l0LnlhaG9vLmNvLmpwL3RyYWluaW5mby9hcmVhLzQvJyxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdvdXRlcicsIG5hbWU6ICfmuIvosLfjg7vmlrDlrr8nLCBkZXN0OiBbJ+a4i+iwt+ODu+aWsOWuv+aWuemdoicsICfmsaDooovooYzjgY0nXSwgcGxhdGZvcm06ICcy55Wq57eaJywgbGFzdFRyYWluOiAnMDA6MTgnLCBzdGF0aW9uczogWyflk4Hlt50nLCAn5aSn5bSOJywgJ+S6lOWPjeeUsCcsICfnm67pu5InLCAn5oG15q+U5a+/JywgJ+a4i+iwtycsICfljp/lrr8nLCAn5Luj44CF5pyoJywgJ+aWsOWuvycsICfmlrDlpKfkuYXkv50nLCAn6auY55Sw6aas5aC0JywgJ+axoOiiiycsICflpKfloZonLCAn5bej6bSoJywgJ+mnkui+vCcsICfnlLDnq68nLCAn6KW/5pel5pqu6YeMJywgJ+aXpeaarumHjCcsICfptq/osLcnLCAn5LiK6YeOJywgJ+W+oeW+kueUuicsICfnp4vokYnljp8nLCAn56We55SwJywgJ+adseS6rCcsICfmnInmpb3nlLonLCAn5paw5qmLJywgJ+a1nOadvueUuicsICfnlLDnlLonLCAn6auY6Lyq44Ky44O844OI44Km44Kn44KkJ10gfSxcbiAgICAgICAgICAgICAgICAgICAgeyBpZDogJ2lubmVyJywgbmFtZTogJ+S4iumHjuODu+axoOiiiycsIGRlc3Q6IFsn5LiK6YeO44O75rGg6KKL5pa56Z2iJywgJ+Wkp+W0juihjOOBjSddLCBwbGF0Zm9ybTogJzPnlarnt5onLCBsYXN0VHJhaW46ICcwMDoyNScsIHN0YXRpb25zOiBbJ+adseS6rCcsICfnpZ7nlLAnLCAn56eL6JGJ5Y6fJywgJ+W+oeW+kueUuicsICfkuIrph44nLCAn5rGg6KKLJywgJ+aWsOWuvycsICfmuIvosLcnLCAn5ZOB5bedJ10gfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICdrZWl5bycsIG5hbWU6ICfkuqzokYnnt5onLCBjb2xvcjogJ2JnLXJvc2UtNTAwJywgdGV4dENvbG9yOiAndGV4dC1yb3NlLTUwMCcsXG4gICAgICAgICAgICAgICAgc3RhdHVzVXJsOiAnaHR0cHM6Ly90cmFuc2l0LnlhaG9vLmNvLmpwL3RyYWluaW5mby9hcmVhLzQvJyxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6ICd1cCcsIG5hbWU6ICfmnbHkuqzmlrnpnaInLCBkZXN0OiBbJ+adseS6rCddLCBwbGF0Zm9ybTogJzLnlarnt5onLCBsYXN0VHJhaW46ICcyMzo0NScsIHN0YXRpb25zOiBbJ+iYh+aIkScsICfljYPokYnjgb/jgarjgagnLCAn56iy5q+b5rW35bK4JywgJ+aknOimi+W3nea1nCcsICfmtbfmtZzluZXlvLUnLCAn5paw57+S5b+X6YeOJywgJ+WNl+iIueapiycsICfkuozkv6PmlrDnlLonLCAn5biC5bed5aGp5rWcJywgJ+aWsOa1puWuiScsICfoiJ7mtZwnLCAn6JGb6KW/6Ieo5rW35YWs5ZySJywgJ+aWsOacqOWgtCcsICfmva7oposnLCAn6LaK5Lit5bO2JywgJ+WFq+S4geWggCcsICfmnbHkuqwnXSB9LFxuICAgICAgICAgICAgICAgICAgICB7IGlkOiAnZG93bicsIG5hbWU6ICfomIfmiJHmlrnpnaInLCBkZXN0OiBbJ+iYh+aIkScsICfmtbfmtZzluZXlvLUnLCAn5paw57+S5b+X6YeOJ10sIHBsYXRmb3JtOiAnMeeVque3micsIGxhc3RUcmFpbjogJzAwOjEwJywgc3RhdGlvbnM6IFsn5p2x5LqsJywgJ+WFq+S4geWggCcsICfmlrDmnKjloLQnLCAn6Iie5rWcJywgJ+aWsOa1puWuiScsICfljZfoiLnmqYsnLCAn5rW35rWc5bmV5by1JywgJ+iYh+aIkSddIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gLS0tIOi/veWKoOi3r+e3miAtLS1cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ2tlaXNlaV9tYWluJywgbmFtZTogJ+S6rOaIkOe3micsIGNvbG9yOiAnYmctYmx1ZS01MDAnLCB0ZXh0Q29sb3I6ICd0ZXh0LWJsdWUtNTAwJyxcbiAgICAgICAgICAgICAgICBzdGF0dXNVcmw6ICdodHRwczovL3d3dy5rZWlzZWkuY28uanAvaW5mby9pbmRleC5odG1sJyxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6ICd1cCcsIG5hbWU6ICfkuIrph47mlrnpnaInLCBkZXN0OiBbJ+S6rOaIkOS4iumHjicsICfmirzkuIonLCAn6KW/6aas6L68JywgJ+e+veeUsOepuua4ryddLCBwbGF0Zm9ybTogJzLnlarnt5onLCBsYXN0VHJhaW46ICcyMzo1MCcsIHN0YXRpb25zOiBbJ+S6rOaIkOaIkOeUsCcsICfkuqzmiJDkvZDlgIknLCAn5Yud55Sw5Y+wJywgJ+WFq+WNg+S7o+WPsCcsICflrp/nsb4nLCAn5Lqs5oiQ5aSn5LmF5L+dJywgJ+S6rOaIkOa0peeUsOayvCcsICfosLfmtKUnLCAn5Lqs5oiQ6Ii55qmLJywgJ+a1t+elnicsICfkuqzmiJDopb/oiLknLCAn5p2x5Lit5bGxJywgJ+S6rOaIkOWFq+W5oScsICfkuqzmiJDpq5jnoIInLCAn6Z2S56ClJywgJ+aXpeaarumHjCcsICfkuqzmiJDkuIrph44nXSB9LFxuICAgICAgICAgICAgICAgICAgICB7IGlkOiAnZG93bicsIG5hbWU6ICfmiJDnlLDmlrnpnaInLCBkZXN0OiBbJ+aIkOeUsOepuua4rycsICfkuqzmiJDmiJDnlLAnLCAn5Lqs5oiQ5L2Q5YCJJywgJ+S6rOaIkOa0peeUsOayvCddLCBwbGF0Zm9ybTogJzHnlarnt5onLCBsYXN0VHJhaW46ICcwMDoyMCcsIHN0YXRpb25zOiBbJ+S6rOaIkOS4iumHjicsICfml6Xmmq7ph4wnLCAn6Z2S56ClJywgJ+S6rOaIkOmrmOeggicsICfkuqzmiJDlhavluaEnLCAn5p2x5Lit5bGxJywgJ+S6rOaIkOilv+iIuScsICfmtbfnpZ4nLCAn5Lqs5oiQ6Ii55qmLJywgJ+iwt+a0pScsICfkuqzmiJDmtKXnlLDmsrwnLCAn5Lqs5oiQ5aSn5LmF5L+dJywgJ+Wun+exvicsICflhavljYPku6Plj7AnLCAn5Yud55Sw5Y+wJywgJ+S6rOaIkOS9kOWAiScsICfkuqzmiJDmiJDnlLAnLCAn5oiQ55Sw56m65rivJ10gfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICdzaGluX2tlaXNlaScsIG5hbWU6ICfmlrDkuqzmiJDnt5onLCBjb2xvcjogJ2JnLXBpbmstNDAwJywgdGV4dENvbG9yOiAndGV4dC1waW5rLTUwMCcsXG4gICAgICAgICAgICAgICAgc3RhdHVzVXJsOiAnaHR0cHM6Ly93d3cuc2hpbmtlaXNlaS5jby5qcC90cmFmZmljL3N0YXR1cy8nLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBpZDogJ21hdHN1ZG8nLCBuYW1lOiAn5p2+5oi45pa56Z2iJywgZGVzdDogWyfmnb7miLgnLCAn44GP44Gs44GO5bGxJ10sIHBsYXRmb3JtOiAnMeeVque3micsIGxhc3RUcmFpbjogJzAwOjE1Jywgc3RhdGlvbnM6IFsn5Lqs5oiQ5rSl55Sw5rK8JywgJ+aWsOa0peeUsOayvCcsICfliY3ljp8nLCAn6Jas5ZyS5Y+wJywgJ+e/kuW/l+mHjicsICfljJfnv5Llv5fph44nLCAn6auY5qC55pyo5oi4JywgJ+mrmOagueWFrOWboycsICfmu53kuI3li5UnLCAn5LiJ5ZKyJywgJ+S6jOWSjOWQkeWPsCcsICfpjozjg7bosLflpKfku48nLCAn5Yid5a+MJywgJ+aWsOmOjOODtuiwtycsICfljJfliJ3lr4wnLCAn44GP44Gs44GO5bGxJywgJ+WFg+WxsScsICfkupTpppknLCAn5bi455uk5bmzJywgJ+WFq+afsScsICfjgb/jga7jgorlj7AnLCAn5p2+5oi45paw55SwJywgJ+S4iuacrOmDtycsICfmnb7miLgnXSB9LFxuICAgICAgICAgICAgICAgICAgICB7IGlkOiAndHN1ZGFudW1hJywgbmFtZTogJ+a0peeUsOayvOaWuemdoicsIGRlc3Q6IFsn5Lqs5oiQ5rSl55Sw5rK8JywgJ+aWsOa0peeUsOayvCddLCBwbGF0Zm9ybTogJzLnlarnt5onLCBsYXN0VHJhaW46ICcwMDoxMCcsIHN0YXRpb25zOiBbJ+advuaIuCcsICfkuIrmnKzpg7cnLCAn5p2+5oi45paw55SwJywgJ+OBv+OBruOCiuWPsCcsICflhavmn7EnLCAn5bi455uk5bmzJywgJ+S6lOmmmScsICflhYPlsbEnLCAn44GP44Gs44GO5bGxJywgJ+WMl+WIneWvjCcsICfmlrDpjozjg7bosLcnLCAn5Yid5a+MJywgJ+mOjOODtuiwt+Wkp+S7jycsICfkuozlkozlkJHlj7AnLCAn5LiJ5ZKyJywgJ+a7neS4jeWLlScsICfpq5jmoLnlhazlm6MnLCAn6auY5qC55pyo5oi4JywgJ+WMl+e/kuW/l+mHjicsICfnv5Llv5fph44nLCAn6Jas5ZyS5Y+wJywgJ+WJjeWOnycsICfmlrDmtKXnlLDmsrwnLCAn5Lqs5oiQ5rSl55Sw5rK8J10gfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICd0b3lvX3JhcGlkJywgbmFtZTogJ+adseiRiemrmOmAnycsIGNvbG9yOiAnYmctZ3JlZW4tNTAwJywgdGV4dENvbG9yOiAndGV4dC1ncmVlbi02MDAnLFxuICAgICAgICAgICAgICAgIHN0YXR1c1VybDogJ2h0dHBzOi8vd3d3LnRveW9rb3Nva3UuY28uanAvJyxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6ICd1cCcsIG5hbWU6ICfopb/oiLnmqYvmlrnpnaInLCBkZXN0OiBbJ+S4remHjicsICfopb/oiLnmqYsnXSwgcGxhdGZvcm06ICcx55Wq57eaJywgbGFzdFRyYWluOiAnMjM6NDAnLCBzdGF0aW9uczogWyfmnbHokYnli53nlLDlj7AnLCAn5p2R5LiKJywgJ+WFq+WNg+S7o+S4reWkricsICflhavljYPku6Pnt5HjgYzkuJgnLCAn6Ii55qmL5pel5aSn5YmNJywgJ+WMl+e/kuW/l+mHjicsICfpo6/lsbHmuoAnLCAn5p2x5rW356WeJywgJ+ilv+iIueapiyddIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdkb3duJywgbmFtZTogJ+WLneeUsOWPsOaWuemdoicsIGRlc3Q6IFsn5p2x6JGJ5Yud55Sw5Y+wJywgJ+WFq+WNg+S7o+e3keOBjOS4mCddLCBwbGF0Zm9ybTogJzLnlarnt5onLCBsYXN0VHJhaW46ICcwMDoxMicsIHN0YXRpb25zOiBbJ+ilv+iIueapiycsICfmnbHmtbfnpZ4nLCAn6aOv5bGx5rqAJywgJ+WMl+e/kuW/l+mHjicsICfoiLnmqYvml6XlpKfliY0nLCAn5YWr5Y2D5Luj57eR44GM5LiYJywgJ+WFq+WNg+S7o+S4reWkricsICfmnZHkuIonLCAn5p2x6JGJ5Yud55Sw5Y+wJ10gfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBBTExfU1RBVElPTlMgPSBBcnJheS5mcm9tKG5ldyBTZXQoTElORVNfREFUQS5mbGF0TWFwKGwgPT4gbC5kaXJlY3Rpb25zLmZsYXRNYXAoZCA9PiBkLnN0YXRpb25zKSkpKS5zb3J0KCk7XG4gICAgICAgIGNvbnN0IERFRkFVTFRfUk9VVEVTID0gW1xuICAgICAgICAgICAgeyBzdGF0aW9uOiAn6Ii55qmLJywgbGluZUlkOiAnc29idV9yYXBpZCcgfSxcbiAgICAgICAgICAgIHsgc3RhdGlvbjogJ+S6rOaIkOiIueapiycsIGxpbmVJZDogJ2tlaXNlaV9tYWluJyB9LFxuICAgICAgICAgICAgeyBzdGF0aW9uOiAn5YyX57+S5b+X6YeOJywgbGluZUlkOiAnc2hpbl9rZWlzZWknIH0sXG4gICAgICAgICAgICB7IHN0YXRpb246ICfopb/oiLnmqYsnLCBsaW5lSWQ6ICd0b3lvX3JhcGlkJyB9XG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IE1BWF9IT01FX0NPTkZJR1MgPSA0O1xuXG4gICAgICAgIC8vIDIuIOaZgumWk+W4r+WIpeODgOOCpOODpOODkeOCv+ODvOODs+ioreWumiAoU3RhdGljIFNjaGVkdWxlIENvbmZpZylcbiAgICAgICAgY29uc3QgU0NIRURVTEVfUEFUVEVSTlMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgc3RhcnRIb3VyOiA1LCBlbmRIb3VyOiAyNCxcbiAgICAgICAgICAgICAgICBydXNoOiB7IHN0YXJ0OiA3LCBlbmQ6IDksIGludGVydmFsOiA0IH0sXG4gICAgICAgICAgICAgICAgZGF5OiB7IHN0YXJ0OiA5LCBlbmQ6IDE3LCBpbnRlcnZhbDogMTAgfSxcbiAgICAgICAgICAgICAgICBldmVuaW5nOiB7IHN0YXJ0OiAxNywgZW5kOiAyMSwgaW50ZXJ2YWw6IDYgfSxcbiAgICAgICAgICAgICAgICBuaWdodDogeyBzdGFydDogMjEsIGVuZDogMjQsIGludGVydmFsOiAxMiB9LFxuICAgICAgICAgICAgICAgIGJhc2VJbnRlcnZhbDogMTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b3lvX3JhcGlkOiB7XG4gICAgICAgICAgICAgICAgc3RhcnRIb3VyOiA1LCBlbmRIb3VyOiAyNCxcbiAgICAgICAgICAgICAgICBydXNoOiB7IHN0YXJ0OiA3LCBlbmQ6IDksIGludGVydmFsOiA2IH0sXG4gICAgICAgICAgICAgICAgZGF5OiB7IHN0YXJ0OiA5LCBlbmQ6IDE3LCBpbnRlcnZhbDogMTUgfSxcbiAgICAgICAgICAgICAgICBldmVuaW5nOiB7IHN0YXJ0OiAxNywgZW5kOiAyMCwgaW50ZXJ2YWw6IDggfSxcbiAgICAgICAgICAgICAgICBuaWdodDogeyBzdGFydDogMjAsIGVuZDogMjQsIGludGVydmFsOiAxNSB9LFxuICAgICAgICAgICAgICAgIGJhc2VJbnRlcnZhbDogMTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaGluX2tlaXNlaToge1xuICAgICAgICAgICAgICAgIHN0YXJ0SG91cjogNSwgZW5kSG91cjogMjQsXG4gICAgICAgICAgICAgICAgcnVzaDogeyBzdGFydDogNywgZW5kOiA5LCBpbnRlcnZhbDogNCB9LFxuICAgICAgICAgICAgICAgIGRheTogeyBzdGFydDogOSwgZW5kOiAxNywgaW50ZXJ2YWw6IDEwIH0sXG4gICAgICAgICAgICAgICAgZXZlbmluZzogeyBzdGFydDogMTcsIGVuZDogMjAsIGludGVydmFsOiA4IH0sXG4gICAgICAgICAgICAgICAgbmlnaHQ6IHsgc3RhcnQ6IDIwLCBlbmQ6IDI0LCBpbnRlcnZhbDogMTIgfSxcbiAgICAgICAgICAgICAgICBiYXNlSW50ZXJ2YWw6IDEwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2Vpc2VpX21haW46IHtcbiAgICAgICAgICAgICAgICBzdGFydEhvdXI6IDUsIGVuZEhvdXI6IDI0LFxuICAgICAgICAgICAgICAgIHJ1c2g6IHsgc3RhcnQ6IDYsIGVuZDogOSwgaW50ZXJ2YWw6IDMgfSxcbiAgICAgICAgICAgICAgICBkYXk6IHsgc3RhcnQ6IDksIGVuZDogMTYsIGludGVydmFsOiAxMCB9LFxuICAgICAgICAgICAgICAgIGV2ZW5pbmc6IHsgc3RhcnQ6IDE2LCBlbmQ6IDIwLCBpbnRlcnZhbDogNSB9LFxuICAgICAgICAgICAgICAgIG5pZ2h0OiB7IHN0YXJ0OiAyMCwgZW5kOiAyNCwgaW50ZXJ2YWw6IDEwIH0sXG4gICAgICAgICAgICAgICAgYmFzZUludGVydmFsOiAxMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIC0tLSBMb2dpYzogU2NoZWR1bGUgR2VuZXJhdG9yIC0tLVxuICAgICAgICBjb25zdCBnZW5lcmF0ZUZ1bGxEYXlTY2hlZHVsZSA9IChsaW5lSWQsIGRlc3RzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gU0NIRURVTEVfUEFUVEVSTlNbbGluZUlkXSB8fCBTQ0hFRFVMRV9QQVRURVJOUy5kZWZhdWx0O1xuICAgICAgICAgICAgY29uc3Qgc2NoZWR1bGUgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBjdXJyZW50TWludXRlID0gMDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChsZXQgaCA9IHBhdHRlcm4uc3RhcnRIb3VyOyBoIDw9IHBhdHRlcm4uZW5kSG91cjsgaCsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGludGVydmFsID0gcGF0dGVybi5iYXNlSW50ZXJ2YWw7XG4gICAgICAgICAgICAgICAgaWYgKGggPj0gcGF0dGVybi5ydXNoLnN0YXJ0ICYmIGggPCBwYXR0ZXJuLnJ1c2guZW5kKSBpbnRlcnZhbCA9IHBhdHRlcm4ucnVzaC5pbnRlcnZhbDtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoID49IHBhdHRlcm4uZGF5LnN0YXJ0ICYmIGggPCBwYXR0ZXJuLmRheS5lbmQpIGludGVydmFsID0gcGF0dGVybi5kYXkuaW50ZXJ2YWw7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaCA+PSBwYXR0ZXJuLmV2ZW5pbmcuc3RhcnQgJiYgaCA8IHBhdHRlcm4uZXZlbmluZy5lbmQpIGludGVydmFsID0gcGF0dGVybi5ldmVuaW5nLmludGVydmFsO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGggPj0gcGF0dGVybi5uaWdodC5zdGFydCAmJiBoIDwgcGF0dGVybi5uaWdodC5lbmQpIGludGVydmFsID0gcGF0dGVybi5uaWdodC5pbnRlcnZhbDtcblxuICAgICAgICAgICAgICAgIGxldCBtID0gKGggKiA3KSAlIGludGVydmFsOyBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB3aGlsZSAobSA8IDYwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBuZXcgRGF0ZShub3cpO1xuICAgICAgICAgICAgICAgICAgICBkLnNldEhvdXJzKGgpO1xuICAgICAgICAgICAgICAgICAgICBkLnNldE1pbnV0ZXMobSk7XG4gICAgICAgICAgICAgICAgICAgIGQuc2V0U2Vjb25kcygwKTtcbiAgICAgICAgICAgICAgICAgICAgZC5zZXRNaWxsaXNlY29uZHMoMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzdEluZGV4ID0gKGggKyBtKSAlIGRlc3RzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzdCA9IGRlc3RzW2Rlc3RJbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogYCR7bGluZUlkfS0ke2h9LSR7bX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3Q6IGRlc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBtICs9IGludGVydmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8vIC0tLSBIZWxwZXJzIC0tLVxuICAgICAgICBjb25zdCBnZXRMaW5lRGF0YSA9IChsaW5lSWQpID0+IExJTkVTX0RBVEEuZmluZChsID0+IGwuaWQgPT09IGxpbmVJZCk7XG4gICAgICAgIGNvbnN0IGdldFJvdXRlRGF0YSA9IChsaW5lSWQsIGRpcklkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gZ2V0TGluZURhdGEobGluZUlkKTtcbiAgICAgICAgICAgIGNvbnN0IGRpciA9IGxpbmU/LmRpcmVjdGlvbnMuZmluZChkID0+IGQuaWQgPT09IGRpcklkKTtcbiAgICAgICAgICAgIHJldHVybiAobGluZSAmJiBkaXIpID8geyBsaW5lLCBkaXIgfSA6IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGdldFN0YXRpb25BcmVhID0gKG5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWJhID0gWyfljYPokYknLCfoiLnmqYsnLCfmtKXnlLDmsrwnLCfluZXlvLUnLCfomIfmiJEnLCfmtablroknLCfluILlt50nLCfnv5Llv5fph44nLCfnqLLmr5snLCfmnKzlhavluaEnLCfopb/oiLnmqYsnLCfoiJ7mtZwnLCfmnb7miLgnLCfmn48nLCflhavljYPku6MnLCfli53nlLDlj7AnLCflrp/nsb4nLCflpKfkuYXkv50nLCfpjozjg7bosLcnLCfolqzlnJLlj7AnLCfpq5jmoLknLCfkuInlkrInXTtcbiAgICAgICAgICAgIGNvbnN0IHRva3lvID0gWyfmnbHkuqwnLCfmlrDlrr8nLCfmuIvosLcnLCfmsaDooosnLCflk4Hlt50nLCfnp4vokYnljp8nLCfkuIrph44nLCfnpZ7nlLAnLCfmlrDmqYsnLCfmtZzmnb7nlLonLCfmnInmpb3nlLonLCflvqHojLbjg47msLQnLCflm5vjg4TosLcnLCfpo6/nlLDmqYsnLCfkuK3ph44nLCfpq5jlhoblr7onLCfojbvnqqonLCflkInnpaXlr7onLCfkuInpt7knLCflpKfltI4nLCfkupTlj43nlLAnLCfnm67pu5InLCfmgbXmr5Tlr78nLCfljp/lrr8nLCfku6PjgIXmnKgnLCfmlrDlpKfkuYXkv50nLCfpq5jnlLDppqzloLQnLCflpKfloZonLCflt6PptKgnLCfpp5LovrwnLCfnlLDnq68nLCfopb/ml6Xmmq7ph4wnLCfml6Xmmq7ph4wnLCfptq/osLcnLCflvqHlvpLnlLonLCfpjKbns7jnlLonLCfkuoDmiLgnLCflubPkupUnLCfmlrDlsI/lsqknLCflsI/lsqknLCfmlrDmnKjloLQnLCfokZvopb/oh6jmtbflhazlnJInLCfppqzllrDnlLonLCfmlrDml6XmnKzmqYsnLCfmirzkuIonLCfpnZLnoKUnLCfpq5jnoIInXTtcbiAgICAgICAgICAgIGlmIChjaGliYS5zb21lKHMgPT4gbmFtZS5pbmNsdWRlcyhzKSkpIHJldHVybiAn5Y2D6JGJJztcbiAgICAgICAgICAgIGlmICh0b2t5by5zb21lKHMgPT4gbmFtZS5pbmNsdWRlcyhzKSkpIHJldHVybiAn5p2x5LqsJztcbiAgICAgICAgICAgIHJldHVybiAn44Gd44Gu5LuWJztcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIC0tLSBQb3J0YWwgLS0tXG4gICAgICAgIGNvbnN0IE1vZGFsUG9ydGFsID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gLS0tIFNoYXJlZCBDb21wb25lbnRzIC0tLVxuICAgICAgICBjb25zdCBGbG9hdGluZ1NlYXJjaEJ0biA9ICh7IG9uQ2xpY2sgfSkgPT4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNiBsZWZ0LTAgcmlnaHQtMCB6LTQwIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGdhcC0zIHBvaW50ZXItZXZlbnRzLW5vbmUgcHgtNlwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DbGlja30gY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtYXV0byB3LWF1dG8gbWluLXctWzE0MHB4XSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiBiZy1zbGF0ZS04MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgdGV4dC1zbSBweS0zLjUgcHgtNiByb3VuZGVkLWZ1bGwgc2hhZG93LWZsb2F0IGhvdmVyOmJnLXNsYXRlLTcwMCBhY3RpdmU6c2NhbGUtOTUgdHJhbnNpdGlvbi1hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgPEljb24gcGF0aD17SWNvbnMuU2VhcmNofSBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtd2hpdGUvOTBcIiAvPumnheODu+i3r+e3muOCkuaOouOBmVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfSBjbGFzc05hbWU9XCJwb2ludGVyLWV2ZW50cy1hdXRvIGZsZXgtbm9uZSB3LTEyIGgtMTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctd2hpdGUvOTAgYmFja2Ryb3AtYmx1ci14bCBib3JkZXIgYm9yZGVyLXdoaXRlLzQwIHRleHQtc2xhdGUtNjAwIHJvdW5kZWQtZnVsbCBzaGFkb3ctZmxvYXQgaG92ZXI6Ymctd2hpdGUgYWN0aXZlOnNjYWxlLTk1IHRyYW5zaXRpb24tYWxsIHJpbmctMSByaW5nLWJsYWNrLzVcIj5cbiAgICAgICAgICAgICAgICAgICAgPEljb24gcGF0aD17SWNvbnMuUmVmcmVzaEN3fSBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtc2xhdGUtNTAwXCIgLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgRmxvYXRpbmdCYWNrQnRuID0gKHsgb25DbGljaywgdGV4dCwgaWNvbiB9KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS02IGxlZnQtMCByaWdodC0wIHotWzExMF0gZmxleCBqdXN0aWZ5LWNlbnRlciBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsaWNrfSBjbGFzc05hbWU9XCJwb2ludGVyLWV2ZW50cy1hdXRvIHctYXV0byBtaW4tdy1bMTIwcHhdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIGJnLXNsYXRlLTgwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCB0ZXh0LXNtIHB5LTMuNSBweC04IHJvdW5kZWQtZnVsbCBzaGFkb3ctZmxvYXQgaG92ZXI6Ymctc2xhdGUtNzAwIGFjdGl2ZTpzY2FsZS05NSB0cmFuc2l0aW9uLWFsbFwiPlxuICAgICAgICAgICAgICAgICAgICB7aWNvbiAmJiA8SWNvbiBwYXRoPXtpY29ufSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz59e3RleHR9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBGbG9hdGluZ0FjdGlvbkJ1dHRvbnMgPSAoeyBvbkNsb3NlLCBvbkZhdm9yaXRlLCBpc1Bpbm5lZCB9KSA9PiAoXG4gICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNiBsZWZ0LTAgcmlnaHQtMCB6LVsxMTBdIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGdhcC0zIHBvaW50ZXItZXZlbnRzLW5vbmUgcHgtNlwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DbG9zZX0gY2xhc3NOYW1lPVwicG9pbnRlci1ldmVudHMtYXV0byB3LWF1dG8gbWluLXctWzEyMHB4XSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiBiZy1zbGF0ZS04MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgdGV4dC1zbSBweS0zLjUgcHgtOCByb3VuZGVkLWZ1bGwgc2hhZG93LWZsb2F0IGhvdmVyOmJnLXNsYXRlLTcwMCBhY3RpdmU6c2NhbGUtOTUgdHJhbnNpdGlvbi1hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgPEljb24gcGF0aD17SWNvbnMuWH0gY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+IOmWieOBmOOCi1xuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25GYXZvcml0ZX0gY2xhc3NOYW1lPXtgcG9pbnRlci1ldmVudHMtYXV0byBmbGV4LW5vbmUgdy0xMiBoLTEyIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBzaGFkb3ctZmxvYXQgdHJhbnNpdGlvbi1hbGwgYWN0aXZlOnNjYWxlLTk1ICR7aXNQaW5uZWQgPyAnYmcteWVsbG93LTQwMCB0ZXh0LXdoaXRlJyA6ICdiZy13aGl0ZSB0ZXh0LXNsYXRlLTQwMCd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uIHBhdGg9e0ljb25zLlN0YXJ9IGNsYXNzTmFtZT17YHctNiBoLTYgJHtpc1Bpbm5lZCA/ICdmaWxsLWN1cnJlbnQnIDogJyd9YH0gLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuXG5cbiAgICAgICAgY29uc3QgVG9hc3QgPSAoeyBtZXNzYWdlLCBzaG93IH0pID0+IHtcbiAgICAgICAgICAgIGlmICghc2hvdykgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxNb2RhbFBvcnRhbD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCB0b3AtNCBsZWZ0LTAgcmlnaHQtMCB6LVsyMDBdIGZsZXgganVzdGlmeS1jZW50ZXIgcG9pbnRlci1ldmVudHMtbm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1zbGF0ZS04MDAvOTAgYmFja2Ryb3AtYmx1ciB0ZXh0LXdoaXRlIHB4LTUgcHktMi41IHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSBmb250LWJvbGQgYW5pbWF0ZS1zbGlkZS1kb3duXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gcGF0aD17SWNvbnMuQ2hlY2t9IGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1zYWZlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L01vZGFsUG9ydGFsPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIC0tLSBEcmFnZ2FibGUgRHJhd2VyIENvbXBvbmVudCAtLS1cbiAgICAgICAgY29uc3QgRHJhZ2dhYmxlRHJhd2VyID0gKHsgY2hpbGRyZW4sIGlzT3BlbiB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgICAgICAgICBjb25zdCBbaGVpZ2h0LCBzZXRIZWlnaHRdID0gdXNlU3RhdGUoMTIwKTsgLy8gSW5pdGlhbCBwZWVrIGhlaWdodFxuICAgICAgICAgICAgY29uc3QgW3N0YXJ0WSwgc2V0U3RhcnRZXSA9IHVzZVN0YXRlKDApO1xuICAgICAgICAgICAgY29uc3QgW3N0YXJ0SGVpZ2h0LCBzZXRTdGFydEhlaWdodF0gPSB1c2VTdGF0ZSgwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ29uc3RhbnRzXG4gICAgICAgICAgICBjb25zdCBNSU5fSEVJR0hUID0gMTIwOyAvLyBQZWVrIGhlaWdodCAoZW5vdWdoIHRvIHNlZSBcIk5leHQgVHJhaW5cIiB0aXRsZSArIDEgaXRlbSBoaW50KVxuICAgICAgICAgICAgY29uc3QgTUFYX0hFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuNzsgLy8gTWF4IGV4cGFuc2lvblxuXG4gICAgICAgICAgICBjb25zdCBvblRvdWNoU3RhcnQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzRHJhZ2dpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgc2V0U3RhcnRZKGUudG91Y2hlc1swXS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICBzZXRTdGFydEhlaWdodChoZWlnaHQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgb25Ub3VjaE1vdmUgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNEcmFnZ2luZykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRZID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IHN0YXJ0WSAtIGN1cnJlbnRZOyAvLyBEcmFnZ2luZyB1cCBpcyBwb3NpdGl2ZSBkaWZmXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gTWF0aC5taW4oTWF0aC5tYXgoc3RhcnRIZWlnaHQgKyBkaWZmLCBNSU5fSEVJR0hUKSwgTUFYX0hFSUdIVCk7XG4gICAgICAgICAgICAgICAgc2V0SGVpZ2h0KG5ld0hlaWdodCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBvblRvdWNoRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIC8vIFNuYXAgbG9naWNcbiAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0ID4gKE1BWF9IRUlHSFQgLSBNSU5fSEVJR0hUKSAvIDIgKyBNSU5fSEVJR0hUKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEhlaWdodChNQVhfSEVJR0hUKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRIZWlnaHQoTUlOX0hFSUdIVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gUmVzZXQgd2hlbiBjbG9zZWRcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc09wZW4pIHNldEhlaWdodChNSU5fSEVJR0hUKTtcbiAgICAgICAgICAgIH0sIFtpc09wZW5dKTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBiZy13aGl0ZSByb3VuZGVkLXQtM3hsIHNoYWRvdy1zbS11cCB6LTQwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBlYXNlLW91dFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtoZWlnaHR9cHhgLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGlzRHJhZ2dpbmcgPyAnbm9uZScgOiAnaGVpZ2h0IDAuNHMgY3ViaWMtYmV6aWVyKDAuMzIsIDAuNzIsIDAsIDEpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIHN1YnRsZSBvdmVybGF5IHNoYWRvdyB3aGVuIGV4cGFuZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IGhlaWdodCA+IE1JTl9IRUlHSFQgPyAnMCAtMTBweCA0MHB4IHJnYmEoMCwwLDAsMC4xKScgOiAnMCAtNHB4IDIwcHggcmdiYSgwLDAsMCwwLjA1KSdcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBIYW5kbGUgQXJlYSAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTggZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZyB0b3VjaC1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVG91Y2hTdGFydD17b25Ub3VjaFN0YXJ0fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Ub3VjaE1vdmU9e29uVG91Y2hNb3ZlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Ub3VjaEVuZD17b25Ub3VjaEVuZH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMS41IGJnLXNsYXRlLTIwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogQ29udGVudCBBcmVhICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBvdmVyZmxvdy15LWF1dG8gcHgtNiBwYi0yNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAvLyAtLS0gTG9naWMgSG9va3MgLS0tXG4gICAgICAgIGNvbnN0IHVzZVRyYWluVGltZXIgPSAocm91dGVEYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbdGltZSwgc2V0VGltZV0gPSB1c2VTdGF0ZSh7IFxuICAgICAgICAgICAgICAgIGxlZnQ6IHsgbTogJy0tJywgczogJy0tJyB9LCBcbiAgICAgICAgICAgICAgICBuZXh0OiAnLS06LS0nLCBcbiAgICAgICAgICAgICAgICBuZXh0RGVzdDogJycsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnbm9ybWFsJywgXG4gICAgICAgICAgICAgICAgY29sb3I6ICd0ZXh0LXNsYXRlLTgwMCcsIFxuICAgICAgICAgICAgICAgIHN1YnNlcXVlbnRzOiBbXSBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByb3V0ZUlkID0gcm91dGVEYXRhID8gYCR7cm91dGVEYXRhLmxpbmUuaWR9LSR7cm91dGVEYXRhLmRpci5pZH1gIDogbnVsbDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgU1RBVElDIHNjaGVkdWxlIGJhc2VkIG9uIGxpbmUgdHlwZVxuICAgICAgICAgICAgY29uc3Qgc2NoZWR1bGUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXJvdXRlSWQpIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAvLyBVc2UgYXJyYXkgb2YgZGVzdGluYXRpb25zXG4gICAgICAgICAgICAgICAgY29uc3QgZGVzdHMgPSBBcnJheS5pc0FycmF5KHJvdXRlRGF0YS5kaXIuZGVzdCkgPyByb3V0ZURhdGEuZGlyLmRlc3QgOiBbcm91dGVEYXRhLmRpci5kZXN0XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVGdWxsRGF5U2NoZWR1bGUocm91dGVEYXRhLmxpbmUuaWQsIGRlc3RzKTtcbiAgICAgICAgICAgIH0sIFtyb3V0ZUlkXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFyb3V0ZUlkIHx8IHNjaGVkdWxlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgbmV4dCB0cmFpblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRJbmRleCA9IHNjaGVkdWxlLmZpbmRJbmRleChzID0+IHMuZGF0ZSA+IG5vdyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHNjaGVkdWxlW3RhcmdldEluZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gTWF0aC5mbG9vcigodGFyZ2V0LmRhdGUgLSBub3cpIC8gMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtID0gTWF0aC5mbG9vcihkaWZmIC8gNjApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IGRpZmYgJSA2MDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVMZWZ0ID0geyBtOiBtLnRvU3RyaW5nKCksIHM6IHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCcwJykgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRUaW1lID0gYCR7U3RyaW5nKHRhcmdldC5kYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsJzAnKX06JHtTdHJpbmcodGFyZ2V0LmRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCcwJyl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGF0dXMgPSAnbm9ybWFsJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb2xvciA9ICd0ZXh0LXNsYXRlLTgwMCc7IFxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAz5YiG5YiH44Gj44Gf44KJ6LWk44GP44GZ44KLXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZiA8IDE4MCkgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSAnaHVycnknOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9ICd0ZXh0LWFjY2VudCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBzdWJzZXF1ZW50IHRyYWlucyAobmV4dCAzIHRyYWlucylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YlRyYWlucyA9IHNjaGVkdWxlLnNsaWNlKHRhcmdldEluZGV4ICsgMSwgdGFyZ2V0SW5kZXggKyA0KS5tYXAodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViRGlmZiA9IE1hdGguZmxvb3IoKHQuZGF0ZSAtIG5vdykgLyA2MDAwMCk7IC8vIE1pbnV0ZXMgZGlmZlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IGAke1N0cmluZyh0LmRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwnMCcpfToke1N0cmluZyh0LmRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCcwJyl9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBzdWJEaWZmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0OiB0LmRlc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWUoeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0aW1lTGVmdCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogbmV4dFRpbWUsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHREZXN0OiB0YXJnZXQuZGVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzZXF1ZW50czogc3ViVHJhaW5zXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWUoeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB7IG06ICctLScsIHM6ICctLScgfSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dDogJy0tOi0tJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dERlc3Q6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2VuZCcsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndGV4dC1zbGF0ZS00MDAnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzZXF1ZW50czogW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKHVwZGF0ZSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICAgICAgfSwgW3JvdXRlSWQsIHNjaGVkdWxlXSk7XG4gICAgICAgICAgICByZXR1cm4gdGltZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyAtLS0gVmlldyBDb21wb25lbnRzIC0tLVxuXG4gICAgICAgIC8vIFRpbWVySGVhZGVyICh1c2VkIGluIENhcm91c2VsKVxuICAgICAgICBjb25zdCBUaW1lckhlYWRlciA9ICh7IGNvbmZpZywgb25Td2l0Y2gsIG9uRGV0YWlsLCBpc0FjdGl2ZSwgYW5pbWF0aW9uQ2xhc3MsIG9uQ29uZmlnLCBvblN0YXRpb25OYW1lQ2xpY2sgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm91dGUgPSBjb25maWcgPyBnZXRSb3V0ZURhdGEoY29uZmlnLmxpbmVJZCwgY29uZmlnLmRpcklkKSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCB0aW1lciA9IHVzZVRyYWluVGltZXIocm91dGUpO1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgdHJpcGxlIGNsaWNrIG9uIHN0YXRpb24gbmFtZVxuICAgICAgICAgICAgY29uc3QgaGFuZGxlU3RhdGlvbkNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS5kZXRhaWwgPT09IDMgJiYgb25TdGF0aW9uTmFtZUNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uU3RhdGlvbk5hbWVDbGljaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghcm91dGUpIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLTMyIGJnLXdoaXRlLzUwIHJvdW5kZWQtbm9uZSBhbmltYXRlLXB1bHNlXCIgLz47XG5cbiAgICAgICAgICAgIGNvbnN0IG5leHREaXIgPSByb3V0ZS5saW5lLmRpcmVjdGlvbnMuZmluZChkID0+IGQuaWQgIT09IHJvdXRlLmRpci5pZCkgfHwgcm91dGUubGluZS5kaXJlY3Rpb25zWzBdO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy1mdWxsIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiBiZy13aGl0ZSB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tMzAwICR7aXNBY3RpdmUgPyAnb3BhY2l0eS0xMDAnIDogJ29wYWNpdHktMCBwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIHRvcC0wIGxlZnQtMCd9ICR7aXNBY3RpdmUgPyBhbmltYXRpb25DbGFzcyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTUgcHQtNCBwYi02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogVG9wIFJvdzogSE9NRSBsYWJlbCAmIEVkaXQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgb25Db25maWcoKTsgfX0gY2xhc3NOYW1lPVwiYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNTAwIGhvdmVyOnRleHQtcHJpbWFyeSBob3ZlcjpiZy1zbGF0ZS0yMDAgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1bMTBweF0gZm9udC1ib2xkIHB4LTIgcHktMSByb3VuZGVkLW1kIHRyYWNraW5nLXdpZGVyIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOODm+ODvOODoOmnheOCkue3qOmbhiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LVs4cHhdXCI+Jmd0Ozwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogTWlkZGxlOiBTdGF0aW9uICYgVGltZXIgR3JpZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtZW5kIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wIHByLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3RhdGlvbkNsaWNrfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTgwMCBsZWFkaW5nLXRpZ2h0IGJyZWFrLXdvcmRzIG1iLTEuNSBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb25maWcuc3RhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSB0ZXh0LXNsYXRlLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdGV4dC1bMTBweF0gZm9udC1ib2xkIHB4LTEuNSBweS0wLjUgcm91bmRlZCB0ZXh0LXdoaXRlICR7cm91dGUubGluZS5jb2xvcn1gfT57cm91dGUubGluZS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIHRleHQtc2xhdGUtNzAwXCI+e3JvdXRlLmRpci5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIGZvbnQtYm9sZCBiZy1zbGF0ZS0xMDAgcHgtMS41IHB5LTAuNSByb3VuZGVkIHRleHQtc2xhdGUtNDAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwXCI+e3JvdXRlLmRpci5wbGF0Zm9ybX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yaWdodCBmbGV4LW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0YWJ1bGFyLW51bXMgdHJhY2tpbmctdGlnaHRlciBsZWFkaW5nLW5vbmUgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tNTAwICR7dGltZXIuY29sb3J9IGZsZXggaXRlbXMtYmFzZWxpbmUganVzdGlmeS1lbmRgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtNXhsIGZvbnQtYm9sZFwiPnt0aW1lci5sZWZ0Lm19PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LWJvbGQgbWwtMC41IG1yLTIgb3BhY2l0eS02MFwiPuWIhjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtNXhsIGZvbnQtYm9sZFwiPnt0aW1lci5sZWZ0LnN9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDmrKHnmbogPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbGF0ZS02MDAgdGV4dC1zbVwiPnt0aW1lci5uZXh0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEJvdHRvbTogQWN0aW9uIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgb25Td2l0Y2goY29uZmlnKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEuNSBweS0zIHB4LTIgYmctc2xhdGUtNzAwIGhvdmVyOmJnLXNsYXRlLTgwMCBhY3RpdmU6Ymctc2xhdGUtOTAwIHJvdW5kZWQteGwgdGV4dC14cyBmb250LWJvbGQgdGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyBzaGFkb3ctc20gYWN0aXZlOnNjYWxlLTk1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHBhdGg9e0ljb25zLkFycm93UmlnaHRMZWZ0fSBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOmAhuaWueWQkeOCkuimi+OCi1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IG9uRGV0YWlsKGNvbmZpZyk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0xLjUgcHktMyBweC0yIGJnLXdoaXRlIGhvdmVyOmJnLXNsYXRlLTUwIGFjdGl2ZTpiZy1zbGF0ZS0xMDAgcm91bmRlZC14bCB0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBzaGFkb3ctc20gYWN0aXZlOnNjYWxlLTk1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHBhdGg9e0ljb25zLkZpbGVUZXh0fSBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNSB0ZXh0LXNsYXRlLTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOips+e0sOOCkuimi+OCi1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBIb21lSGVhZGVyQ2Fyb3VzZWwgPSAoeyBjb25maWdzLCBvblN3aXRjaCwgb25Db25maWcsIG9uU3RhcnRUaW1lciwgb25IZWlnaHRDaGFuZ2UsIG9uRG93bmxvYWQgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2N1cnJlbnRJbmRleCwgc2V0Q3VycmVudEluZGV4XSA9IHVzZVN0YXRlKDApO1xuICAgICAgICAgICAgY29uc3QgW3NsaWRlRGlyZWN0aW9uLCBzZXRTbGlkZURpcmVjdGlvbl0gPSB1c2VTdGF0ZShudWxsKTsgLy8gJ2xlZnQnIG9yICdyaWdodCdcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3dpcGUgaGFuZGxlcnNcbiAgICAgICAgICAgIGNvbnN0IFt0b3VjaFN0YXJ0LCBzZXRUb3VjaFN0YXJ0XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgW3RvdWNoRW5kLCBzZXRUb3VjaEVuZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IG1pblN3aXBlRGlzdGFuY2UgPSA1MDtcblxuICAgICAgICAgICAgY29uc3Qgb25Ub3VjaFN0YXJ0ID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUb3VjaEVuZChudWxsKTtcbiAgICAgICAgICAgICAgICBzZXRUb3VjaFN0YXJ0KGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9uVG91Y2hNb3ZlID0gKGUpID0+IHNldFRvdWNoRW5kKGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYKTtcbiAgICAgICAgICAgIGNvbnN0IG9uVG91Y2hFbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0b3VjaFN0YXJ0IHx8ICF0b3VjaEVuZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gdG91Y2hTdGFydCAtIHRvdWNoRW5kO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzTGVmdFN3aXBlID0gZGlzdGFuY2UgPiBtaW5Td2lwZURpc3RhbmNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmlnaHRTd2lwZSA9IGRpc3RhbmNlIDwgLW1pblN3aXBlRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgaWYgKGlzTGVmdFN3aXBlICYmIGN1cnJlbnRJbmRleCA8IGNvbmZpZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRTbGlkZURpcmVjdGlvbigncmlnaHQnKTsgLy8gTmV3IGl0ZW0gY29tZXMgZnJvbSByaWdodFxuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5kZXgocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0U3dpcGUgJiYgY3VycmVudEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRTbGlkZURpcmVjdGlvbignbGVmdCcpOyAvLyBOZXcgaXRlbSBjb21lcyBmcm9tIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudEluZGV4KHByZXYgPT4gcHJldiAtIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID49IGNvbmZpZ3MubGVuZ3RoICYmIGNvbmZpZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5kZXgoY29uZmlncy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBbY29uZmlncy5sZW5ndGhdKTtcblxuICAgICAgICAgICAgLy8gTWVhc3VyZSBoZWlnaHQgYW5kIHJlcG9ydCBiYWNrIHRvIHBhcmVudFxuICAgICAgICAgICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gY29udGFpbmVyUmVmLmN1cnJlbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBvbkhlaWdodENoYW5nZShoZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBBbmltYXRpb24gQ2xhc3MgYmFzZWQgb24gZGlyZWN0aW9uXG4gICAgICAgICAgICBjb25zdCBnZXRBbmltYXRpb25DbGFzcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2xpZGVEaXJlY3Rpb24gPT09ICdyaWdodCcpIHJldHVybiAnYW5pbWF0ZS1zbGlkZS1pbi1yaWdodCc7XG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlRGlyZWN0aW9uID09PSAnbGVmdCcpIHJldHVybiAnYW5pbWF0ZS1zbGlkZS1pbi1sZWZ0JztcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FuaW1hdGUtZmFkZS1pbic7IC8vIERlZmF1bHQgZmFsbGJhY2tcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgLy8gTm8gQ29uZmlnIFN0YXRlXG4gICAgICAgICAgICBpZiAoIWNvbmZpZ3MgfHwgY29uZmlncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctd2hpdGUgcHQtc2FmZSBwYi02IHB4LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25Db25maWd9IGNsYXNzTmFtZT1cInctZnVsbCByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC0yeGwgYmctc2xhdGUtNTAgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtMzAwIHAtOCB0ZXh0LWNlbnRlciBhY3RpdmU6c2NhbGUtWzAuOThdIHRyYW5zaXRpb24tYWxsIGdyb3VwIGhvdmVyOmJvcmRlci1pbmRpZ28tMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBiZy13aGl0ZSB0ZXh0LXNsYXRlLTMwMCBtYi0zIGdyb3VwLWhvdmVyOnRleHQtcHJpbWFyeSBzaGFkb3ctc20gdHJhbnNpdGlvbi1jb2xvcnNcIj48SWNvbiBwYXRoPXtJY29ucy5TZXR0aW5nc30gY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXNsYXRlLTQwMCBmb250LWJvbGRcIj7jg5vjg7zjg6Dpp4XjgpLoqK3lrprjgZfjgabjgY/jgaDjgZXjgYQ8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctd2hpdGUgcHQtc2FmZSBwYi0yIHNoYWRvdy1zb2Z0IHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBDYXJvdXNlbCBDb250ZW50ICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCIgb25Ub3VjaFN0YXJ0PXtvblRvdWNoU3RhcnR9IG9uVG91Y2hNb3ZlPXtvblRvdWNoTW92ZX0gb25Ub3VjaEVuZD17b25Ub3VjaEVuZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGltZXJIZWFkZXIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7Y29uZmlnc1tjdXJyZW50SW5kZXhdLnN0YXRpb259LSR7Y29uZmlnc1tjdXJyZW50SW5kZXhdLmxpbmVJZH0tJHtjb25maWdzW2N1cnJlbnRJbmRleF0uZGlySWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnPXtjb25maWdzW2N1cnJlbnRJbmRleF19IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblN3aXRjaD17b25Td2l0Y2h9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpZz17b25Db25maWd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRGV0YWlsPXsoY2ZnKSA9PiBvblN0YXJ0VGltZXIoY2ZnLnN0YXRpb24sIGNmZy5saW5lSWQsIGNmZy5kaXJJZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlPXt0cnVlfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uQ2xhc3M9e2dldEFuaW1hdGlvbkNsYXNzKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3RhdGlvbk5hbWVDbGljaz17b25Eb3dubG9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIERvdHMgKi99XG4gICAgICAgICAgICAgICAgICAgIHtjb25maWdzLmxlbmd0aCA+IDEgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGdhcC0xLjUgcGItMyBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbmZpZ3MubWFwKChfLCBpZHgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e2lkeH0gb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCA+IGN1cnJlbnRJbmRleCkgc2V0U2xpZGVEaXJlY3Rpb24oJ3JpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpZHggPCBjdXJyZW50SW5kZXgpIHNldFNsaWRlRGlyZWN0aW9uKCdsZWZ0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5kZXgoaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gY2xhc3NOYW1lPXtgaC0xLjUgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsICR7aWR4ID09PSBjdXJyZW50SW5kZXggPyAndy01IGJnLXByaW1hcnknIDogJ3ctMS41IGJnLXNsYXRlLTIwMCd9YH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGNvbnN0IFJvdXRlTGlzdEl0ZW0gPSAoeyBzdGF0aW9uLCBsaW5lSWQsIGlzUGlubmVkLCBvblBpbiwgb25TZWxlY3QgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IGdldExpbmVEYXRhKGxpbmVJZCk7XG4gICAgICAgICAgICBpZiAoIWxpbmUpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBiZy13aGl0ZSBwLTQgcm91bmRlZC0yeGwgc2hhZG93LXNtIGJvcmRlciBib3JkZXItc2xhdGUtMTAwIG1iLTMgaG92ZXI6c2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGFjdGl2ZTpzY2FsZS1bMC45OV1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTEuNSBoLTEwIHJvdW5kZWQtZnVsbCAke2xpbmUuY29sb3J9YH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxkaXYgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtc2xhdGUtODAwIHRleHQtbGcgbGVhZGluZy10aWdodFwiPntzdGF0aW9ufTwvZGl2PjxkaXYgY2xhc3NOYW1lPXtgdGV4dC14cyBmb250LWJvbGQgJHtsaW5lLnRleHRDb2xvcn0gbXQtMC41YH0+e2xpbmUubmFtZX08L2Rpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBvblBpbigpOyB9fSBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tY29sb3JzICR7aXNQaW5uZWQgPyAndGV4dC15ZWxsb3ctNDAwJyA6ICd0ZXh0LXNsYXRlLTIwMCBob3Zlcjp0ZXh0LXNsYXRlLTMwMCd9YH0+PEljb24gcGF0aD17SWNvbnMuU3Rhcn0gY2xhc3NOYW1lPXtgdy01IGgtNSAke2lzUGlubmVkID8gJ2ZpbGwtY3VycmVudCcgOiAnJ31gfSAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIG92ZXJmbG93LXgtYXV0byBwYi0xIG5vLXNjcm9sbGJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2xpbmUuZGlyZWN0aW9ucy5tYXAoZGlyID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17ZGlyLmlkfSBvbkNsaWNrPXsoKSA9PiBvblNlbGVjdChkaXIuaWQpfSBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctWzEyMHB4XSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gYmctc2xhdGUtNTAgYm9yZGVyIGJvcmRlci1zbGF0ZS0xMDAgcm91bmRlZC14bCBweS0zIHB4LTMgdGV4dC1sZWZ0IHRyYW5zaXRpb24tYWxsIGhvdmVyOmJnLWluZGlnby01MCBob3Zlcjpib3JkZXItaW5kaWdvLTEwMCBhY3RpdmU6YmctaW5kaWdvLTEwMCBncm91cCByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tdy0wIHotMTBcIj48ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1ib2xkIHRleHQtc2xhdGUtNjAwIGdyb3VwLWhvdmVyOnRleHQtcHJpbWFyeVwiPntkaXIubmFtZX08L2Rpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gcGF0aD17SWNvbnMuQ2hldnJvblJpZ2h0fSBjbGFzc05hbWU9XCJ3LTMgaC0zIHRleHQtc2xhdGUtMzAwIGdyb3VwLWhvdmVyOnRleHQtcHJpbWFyeSBmbGV4LXNocmluay0wIG1sLTEgei0xMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IEVtcHR5U3RhdGUgPSAoeyB0eXBlLCBvblNlYXJjaCB9KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTEyIHB4LTYgYmctd2hpdGUvNDAgcm91bmRlZC0zeGwgYm9yZGVyIGJvcmRlci1kYXNoZWQgYm9yZGVyLXNsYXRlLTMwMCBtdC00XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBiZy13aGl0ZSB0ZXh0LXNsYXRlLTMwMCBtYi0zIHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgICAgICAgICA8SWNvbiBwYXRoPXt0eXBlID09PSAncGlubmVkJyA/IEljb25zLlN0YXIgOiBJY29ucy5IaXN0b3J5fSBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTYwMCBtYi0xXCI+e3R5cGUgPT09ICdwaW5uZWQnID8gJ+OCiOOBj+S9v+OBhumnheOBjOOBguOCiuOBvuOBm+OCkycgOiAn5bGl5q2044GM44GC44KK44G+44Gb44KTJ308L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXNsYXRlLTQwMCBtYi02XCI+6aeF44KS5qSc57Si44GX44Gm44CB4piG44Oc44K/44Oz44Gn55m76Yyy44GX44G+44GX44KH44GGPC9wPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25TZWFyY2h9IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IHB4LTUgcHktMi41IGJnLXByaW1hcnkgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgdGV4dC14cyBmb250LWJvbGQgaG92ZXI6YmctaW5kaWdvLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgICAgICAgICAgPEljb24gcGF0aD17SWNvbnMuU2VhcmNofSBjbGFzc05hbWU9XCJ3LTMuNSBoLTMuNVwiIC8+IOmnheOCkuaOouOBmVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgQWxlcnRNb2RhbCA9ICh7IGlzT3BlbiwgbWVzc2FnZSwgb25DbG9zZSB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxNb2RhbFBvcnRhbD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotWzE2MF0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNDAgYmFja2Ryb3AtYmx1ci1zbSBwLTQgYW5pbWF0ZS1mYWRlLWluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHAtNiBzaGFkb3ctMnhsIHctZnVsbCBtYXgtdy1zbSBhbmltYXRlLXNsaWRlLXVwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBiZy1hbWJlci0xMDAgdGV4dC1hbWJlci01MDAgbWItNFwiPiE8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTgwMCBtYi02XCI+e21lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DbG9zZX0gY2xhc3NOYW1lPVwidy1mdWxsIHB5LTMgcm91bmRlZC14bCBiZy1zbGF0ZS04MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgaG92ZXI6Ymctc2xhdGUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCI+T0s8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L01vZGFsUG9ydGFsPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBSZXBsYWNlIE1vZGFsIGZvciBNYXggQ29uZmlnXG4gICAgICAgIGNvbnN0IFJlcGxhY2VNb2RhbCA9ICh7IGlzT3BlbiwgaG9tZUNvbmZpZ3MsIG9uU2VsZWN0LCBvbkNsb3NlIH0pID0+IHtcbiAgICAgICAgICAgIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPE1vZGFsUG9ydGFsPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei1bMTYwXSBmbGV4IGl0ZW1zLWVuZCBqdXN0aWZ5LWNlbnRlciBwb2ludGVyLWV2ZW50cy1ub25lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctYmxhY2svMzAgYmFja2Ryb3AtYmx1ci1zbSBwb2ludGVyLWV2ZW50cy1hdXRvIHRyYW5zaXRpb24tb3BhY2l0eVwiIG9uQ2xpY2s9e29uQ2xvc2V9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHctZnVsbCBtYXgtdy1tZCBwLTYgcm91bmRlZC10LTN4bCBzaGFkb3ctMnhsIHBvaW50ZXItZXZlbnRzLWF1dG8gYW5pbWF0ZS1zbGlkZS11cCBtYXgtaC1bODB2aF0gb3ZlcmZsb3cteS1hdXRvIHJlbGF0aXZlIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTgwMFwiPuWFpeOCjOabv+OBiOOCkumBuOaKnjwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DbG9zZX0gY2xhc3NOYW1lPVwicC0yIGJnLXNsYXRlLTEwMCByb3VuZGVkLWZ1bGwgaG92ZXI6Ymctc2xhdGUtMjAwXCI+PEljb24gcGF0aD17SWNvbnMuWH0gY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXNsYXRlLTUwMFwiLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtc2xhdGUtNTAwIG1iLTRcIj7nmbvpjLLjgYzkuIrpmZDjgafjgZnjgILlhaXjgozmm7/jgYjjgovpp4XjgpLpgbjmip7jgZfjgabjgY/jgaDjgZXjgYTjgII8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2hvbWVDb25maWdzLm1hcCgoY2ZnLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gZ2V0TGluZURhdGEoY2ZnLmxpbmVJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXIgPSBsaW5lPy5kaXJlY3Rpb25zLmZpbmQoZCA9PiBkLmlkID09PSBjZmcuZGlySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17aX0gb25DbGljaz17KCkgPT4gb25TZWxlY3QoaSl9IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcC00IGJnLXNsYXRlLTUwIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1zbGF0ZS0yMDAgaG92ZXI6YmctaW5kaWdvLTUwIGhvdmVyOmJvcmRlci1pbmRpZ28tMzAwIHRyYW5zaXRpb24tYWxsIHRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS04MDBcIj57Y2ZnLnN0YXRpb259PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj57bGluZT8ubmFtZX0gLyB7ZGlyPy5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtYm9sZCB0ZXh0LWluZGlnby02MDBcIj7pgbjmip48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvTW9kYWxQb3J0YWw+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IFNvcnRhYmxlSXRlbSA9ICh7IGNvbmZpZywgaW5kZXgsIG9uUmVtb3ZlLCBvbk1vdmUgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IGdldExpbmVEYXRhKGNvbmZpZy5saW5lSWQpO1xuICAgICAgICAgICAgY29uc3QgZGlyID0gbGluZT8uZGlyZWN0aW9ucy5maW5kKGQgPT4gZC5pZCA9PT0gY29uZmlnLmRpcklkKTtcbiAgICAgICAgICAgIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFtpc0RyYWdnaW5nLCBzZXRJc0RyYWdnaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IFtzdGFydFBvcywgc2V0U3RhcnRQb3NdID0gdXNlU3RhdGUoeyB5OiAwIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVUb3VjaFN0YXJ0ID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJc0RyYWdnaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIHNldFN0YXJ0UG9zKHsgeTogZS50b3VjaGVzWzBdLmNsaWVudFkgfSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlVG91Y2hNb3ZlID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzRHJhZ2dpbmcpIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVkgPSBlLnRvdWNoZXNbMF0uY2xpZW50WSAtIHN0YXJ0UG9zLnk7XG4gICAgICAgICAgICAgICAgaWYgKHJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZi5jdXJyZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7ZGVsdGFZfXB4KWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaGFuZGxlVG91Y2hFbmQgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNEcmFnZ2luZykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAocmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGFZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gc3RhcnRQb3MueTtcbiAgICAgICAgICAgICAgICAgICAgcmVmLmN1cnJlbnQuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YVkpID4gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBkZWx0YVkgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW92ZShpbmRleCwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtyZWZ9IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BiZy13aGl0ZSBwLTMgcm91bmRlZC0yeGwgc2hhZG93LXNtIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB0b3VjaC1ub25lIHNlbGVjdC1ub25lIG1iLTIgdHJhbnNpdGlvbi10cmFuc2Zvcm0gJHtpc0RyYWdnaW5nID8gJ3otNTAgcmVsYXRpdmUgc2hhZG93LXhsIGJvcmRlci1pbmRpZ28tMzAwJyA6ICcnfWB9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS04MDBcIj57Y29uZmlnLnN0YXRpb259PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS01MDBcIj57bGluZT8ubmFtZX0gLyB7ZGlyPy5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvblJlbW92ZShpbmRleCl9IGNsYXNzTmFtZT1cInAtMiB0ZXh0LXNsYXRlLTMwMCBob3Zlcjp0ZXh0LXJvc2UtNTAwIHRyYW5zaXRpb24tY29sb3JzXCI+PEljb24gcGF0aD17SWNvbnMuVHJhc2h9IGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ9e2hhbmRsZVRvdWNoU3RhcnR9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uVG91Y2hNb3ZlPXtoYW5kbGVUb3VjaE1vdmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Ub3VjaEVuZD17aGFuZGxlVG91Y2hFbmR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHRleHQtc2xhdGUtMzAwIGN1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmcgYWN0aXZlOnRleHQtaW5kaWdvLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gcGF0aD17SWNvbnMuR3JpcH0gY2xhc3NOYW1lPVwidy02IGgtNlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IENvbmZpZ1ZpZXcgPSAoeyBzZXRWaWV3LCB0ZW1wQ29uZmlnU3RhdGlvbiwgc2V0VGVtcENvbmZpZ1N0YXRpb24sIGhvbWVDb25maWdzLCBhZGRIb21lQ29uZmlnLCByZW1vdmVIb21lQ29uZmlnLCByZXBsYWNlSG9tZUNvbmZpZywgdXBkYXRlSG9tZSwgaGFuZGxlRG93bmxvYWQsIHNob3dUb2FzdCwgbW92ZUhvbWVDb25maWcgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2ZpbHRlckFyZWEsIHNldEZpbHRlckFyZWFdID0gdXNlU3RhdGUoJ0FMTCcpO1xuICAgICAgICAgICAgY29uc3QgW2ZpbHRlclRleHQsIHNldEZpbHRlclRleHRdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgW3JlcGxhY2VNb2RhbE9wZW4sIHNldFJlcGxhY2VNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgW3BlbmRpbmdTdGF0aW9uLCBzZXRQZW5kaW5nU3RhdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFtpc0hlYWRlckNvbGxhcHNlZCwgc2V0SXNIZWFkZXJDb2xsYXBzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVG9wID4gMjAgJiYgIWlzSGVhZGVyQ29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzSGVhZGVyQ29sbGFwc2VkKHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9wIDwgNSAmJiBpc0hlYWRlckNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgc2V0SXNIZWFkZXJDb2xsYXBzZWQoZmFsc2UpOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IEFMTF9TVEFUSU9OUy5maWx0ZXIocyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hBcmVhID0gZmlsdGVyQXJlYSA9PT0gJ0FMTCcgfHwgZ2V0U3RhdGlvbkFyZWEocykgPT09IGZpbHRlckFyZWE7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hUZXh0ID0gZmlsdGVyVGV4dCA9PT0gJycgfHwgcy5pbmNsdWRlcyhmaWx0ZXJUZXh0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hBcmVhICYmIG1hdGNoVGV4dDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBZGRDbGljayA9IChzKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VGVtcENvbmZpZ1N0YXRpb24ocyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEaXJlY3Rpb25TZWxlY3QgPSAoc3RhdGlvbiwgbGluZUlkLCBkaXJJZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChob21lQ29uZmlncy5sZW5ndGggPj0gTUFYX0hPTUVfQ09ORklHUykge1xuICAgICAgICAgICAgICAgICAgICBzZXRQZW5kaW5nU3RhdGlvbih7IHN0YXRpb24sIGxpbmVJZCwgZGlySWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlcGxhY2VNb2RhbE9wZW4odHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSG9tZUNvbmZpZyh7IHN0YXRpb24sIGxpbmVJZCwgZGlySWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dUb2FzdChg44Ob44O844Og6aeF44Gr6L+95Yqg44GX44G+44GX44GfYCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRlbXBDb25maWdTdGF0aW9uKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVJlcGxhY2UgPSAoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1N0YXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUhvbWVDb25maWcoaW5kZXgsIHBlbmRpbmdTdGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1RvYXN0KGDjg5vjg7zjg6Dpp4XjgpLlhaXjgozmm7/jgYjjgb7jgZfjgZ9gKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGVuZGluZ1N0YXRpb24obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlcGxhY2VNb2RhbE9wZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUZW1wQ29uZmlnU3RhdGlvbihudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCBvdmVyZmxvdy15LWF1dG8gcHgtNCBwdC1zYWZlIHBiLTMyIGFuaW1hdGUtZW50ZXIgYmctc2xhdGUtMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgb25TY3JvbGw9e2hhbmRsZVNjcm9sbH1cbiAgICAgICAgICAgICAgICAgICAgcmVmPXtzY3JvbGxSZWZ9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7LyogQ29sbGFwc2libGUgSGVhZGVyICovfVxuICAgICAgICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT17YHN0aWNreSB0b3AtMCBiZy1zbGF0ZS0xMDAgei0xMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi01MDAgZWFzZS1pbi1vdXQgJHtpc0hlYWRlckNvbGxhcHNlZCA/ICdweS0yIHNoYWRvdy1zbSBib3JkZXItYiBib3JkZXItc2xhdGUtMjAwLzUwJyA6ICdweS00J31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPXtgZm9udC1ib2xkIHRleHQtc2xhdGUtODAwIHRyYW5zaXRpb24tYWxsICR7aXNIZWFkZXJDb2xsYXBzZWQgPyAndGV4dC14bCcgOiAndGV4dC0zeGwnfWB9PuioreWumjwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRJc0hlYWRlckNvbGxhcHNlZCghaXNIZWFkZXJDb2xsYXBzZWQpfSBjbGFzc05hbWU9XCJwLTIgYmctd2hpdGUgcm91bmRlZC1mdWxsIHNoYWRvdy1zbSB0ZXh0LXNsYXRlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBwYXRoPXtpc0hlYWRlckNvbGxhcHNlZCA/IEljb25zLkNoZXZyb25Eb3duIDogSWNvbnMuQ2hldnJvblVwfSBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG92ZXJmbG93LWhpZGRlbiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi01MDAgZWFzZS1pbi1vdXQgJHtpc0hlYWRlckNvbGxhcHNlZCA/ICdtYXgtaC0wIG9wYWNpdHktMCcgOiAnbWF4LWgtWzYwMHB4XSBvcGFjaXR5LTEwMCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc2xhdGUtNTAwIGZvbnQtbWVkaXVtIG1iLTRcIj7jg5vjg7zjg6Dpp4XjgpLnmbvpjLIgKOacgOWkpzTku7YpPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aG9tZUNvbmZpZ3MubGVuZ3RoID4gMCAmJiAhdGVtcENvbmZpZ1N0YXRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtob21lQ29uZmlncy5tYXAoKGNmZywgaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTb3J0YWJsZUl0ZW0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZz17Y2ZnfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg9e2l9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblJlbW92ZT17cmVtb3ZlSG9tZUNvbmZpZ30gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW92ZT17bW92ZUhvbWVDb25maWd9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtob21lQ29uZmlncy5sZW5ndGggPCBNQVhfSE9NRV9DT05GSUdTICYmICg8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQteHMgdGV4dC1zbGF0ZS00MDAgbXQtMlwiPuOBguOBqCB7TUFYX0hPTUVfQ09ORklHUyAtIGhvbWVDb25maWdzLmxlbmd0aH0g5Lu255m76Yyy44Gn44GN44G+44GZPC9kaXY+KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNIZWFkZXJDb2xsYXBzZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LWJvbGQgdGV4dC1zbGF0ZS01MDAgbWItMiBhbmltYXRlLWZhZGUtaW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg55m76Yyy5riI44G/IHtob21lQ29uZmlncy5sZW5ndGh9IOS7tlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgeyF0ZW1wQ29uZmlnU3RhdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gcGF0aD17SWNvbnMuU2VhcmNofSBjbGFzc05hbWU9XCJ3LTUgaC01IGFic29sdXRlIGxlZnQtMyB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgdGV4dC1zbGF0ZS00MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCLpp4XlkI3jgpLlhaXlipsuLi5cIiB2YWx1ZT17ZmlsdGVyVGV4dH0gb25DaGFuZ2U9eyhlKSA9PiBzZXRGaWx0ZXJUZXh0KGUudGFyZ2V0LnZhbHVlKX0gY2xhc3NOYW1lPVwidy1mdWxsIGJnLXdoaXRlIHBsLTEwIHByLTQgcHktMyByb3VuZGVkLTJ4bCBib3JkZXItbm9uZSBzaGFkb3ctc20gdGV4dC1zbGF0ZS03MDAgZm9udC1ib2xkIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWluZGlnby01MDAgb3V0bGluZS1ub25lXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXJUZXh0ICYmIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0RmlsdGVyVGV4dCgnJyl9IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHAtMSBiZy1zbGF0ZS0yMDAgcm91bmRlZC1mdWxsIHRleHQtc2xhdGUtNTAwIGhvdmVyOmJnLXNsYXRlLTMwMFwiPjxJY29uIHBhdGg9e0ljb25zLlh9IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPjwvYnV0dG9uPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMiBvdmVyZmxvdy14LWF1dG8gcGItMiBuby1zY3JvbGxiYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtbJ0FMTCcsICfmnbHkuqwnLCAn5Y2D6JGJJ10ubWFwKGFyZWEgPT4gKDxidXR0b24ga2V5PXthcmVhfSBvbkNsaWNrPXsoKSA9PiBzZXRGaWx0ZXJBcmVhKGFyZWEpfSBjbGFzc05hbWU9e2BweC01IHB5LTIuNSByb3VuZGVkLWZ1bGwgdGV4dC14cyBmb250LWJvbGQgdHJhbnNpdGlvbi1hbGwgd2hpdGVzcGFjZS1ub3dyYXAgc2hhZG93LXNtICR7ZmlsdGVyQXJlYSA9PT0gYXJlYSA/ICdiZy1pbmRpZ28tNjAwIHRleHQtd2hpdGUnIDogJ2JnLXdoaXRlIHRleHQtc2xhdGUtNTAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwJ31gfT57YXJlYSA9PT0gJ0FMTCcgPyAn44GZ44G544GmJyA6IGFyZWF9PC9idXR0b24+KSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9oZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogU3RhdGlvbiBMaXN0ICovfVxuICAgICAgICAgICAgICAgICAgICB7IXRlbXBDb25maWdTdGF0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMyBwYi04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkLmxlbmd0aCA+IDAgPyBmaWx0ZXJlZC5tYXAocyA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24ga2V5PXtzfSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGRDbGljayhzKX0gY2xhc3NOYW1lPVwiYmctd2hpdGUgcC00IHJvdW5kZWQtMnhsIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCBmb250LWJvbGQgdGV4dC1zbGF0ZS03MDAgaG92ZXI6Ym9yZGVyLWluZGlnby0zMDAgaG92ZXI6c2hhZG93LW1kIHRyYW5zaXRpb24tYWxsIGFjdGl2ZTpzY2FsZS05NSB0ZXh0LWxlZnRcIj57c308L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKSA6IDxkaXYgY2xhc3NOYW1lPVwiY29sLXNwYW4tMiB0ZXh0LWNlbnRlciB0ZXh0LXNsYXRlLTQwMCBweS0xMFwiPuipsuW9k+OBmeOCi+mnheOBjOOBguOCiuOBvuOBm+OCkzwvZGl2Pn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBEaXJlY3Rpb24gU2VsZWN0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICB7dGVtcENvbmZpZ1N0YXRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgYW5pbWF0ZS1zbGlkZS11cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0VGVtcENvbmZpZ1N0YXRpb24obnVsbCl9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQtaW5kaWdvLTYwMCBmb250LWJvbGQgbWItNFwiPjxJY29uIHBhdGg9e0ljb25zLkFycm93TGVmdH0gY2xhc3NOYW1lPVwidy00IGgtNCBtci0xXCIvPiDpp4XjgpLpgbjjgbPnm7TjgZk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgbWItNFwiPnt0ZW1wQ29uZmlnU3RhdGlvbn08L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtMSU5FU19EQVRBLmZpbHRlcihsID0+IGwuZGlyZWN0aW9ucy5zb21lKGQgPT4gZC5zdGF0aW9ucy5pbmNsdWRlcyh0ZW1wQ29uZmlnU3RhdGlvbikpKS5tYXAobCA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtsLmlkfSBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLTN4bCBwLTUgc2hhZG93LXNtIGJvcmRlciBib3JkZXItc2xhdGUtMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQteHMgZm9udC1ib2xkIG1iLTMgJHtsLnRleHRDb2xvcn1gfT57bC5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bC5kaXJlY3Rpb25zLm1hcChkID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e2QuaWR9IG9uQ2xpY2s9eygpID0+IGhhbmRsZURpcmVjdGlvblNlbGVjdCh0ZW1wQ29uZmlnU3RhdGlvbiwgbC5pZCwgZC5pZCl9IGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcC0zIGJnLXdoaXRlIGJvcmRlciBib3JkZXItc2xhdGUtMjAwIHNoYWRvdy1zbSByb3VuZGVkLXhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTcwMCBob3Zlcjpib3JkZXItaW5kaWdvLTQwMCBhY3RpdmU6c2NhbGUtWzAuOThdIHRyYW5zaXRpb24tYWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57ZC5uYW1lfTwvc3Bhbj48c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwIGZvbnQtbm9ybWFsXCI+e2QuZGVzdC5qb2luKCfjg7snKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDxGbG9hdGluZ0JhY2tCdG4gb25DbGljaz17KCkgPT4geyBpZih0ZW1wQ29uZmlnU3RhdGlvbikgc2V0VGVtcENvbmZpZ1N0YXRpb24obnVsbCk7IGVsc2Ugc2V0VmlldygnSE9NRScpOyB9fSB0ZXh0PXt0ZW1wQ29uZmlnU3RhdGlvbiA/IFwi5oi744KLXCIgOiBcIuWujOS6hlwifSBpY29uPXt0ZW1wQ29uZmlnU3RhdGlvbiA/IEljb25zLkFycm93TGVmdCA6IEljb25zLlh9IC8+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8UmVwbGFjZU1vZGFsIGlzT3Blbj17cmVwbGFjZU1vZGFsT3Blbn0gaG9tZUNvbmZpZ3M9e2hvbWVDb25maWdzfSBvblNlbGVjdD17aGFuZGxlUmVwbGFjZX0gb25DbG9zZT17KCkgPT4gc2V0UmVwbGFjZU1vZGFsT3BlbihmYWxzZSl9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IEV4cGxvcmVWaWV3ID0gKHsgc2V0Vmlldywgc2V0RXhwbG9yZVN0YXRpb24gfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2ZpbHRlckFyZWEsIHNldEZpbHRlckFyZWFdID0gdXNlU3RhdGUoJ0FMTCcpO1xuICAgICAgICAgICAgY29uc3QgW2ZpbHRlclRleHQsIHNldEZpbHRlclRleHRdID0gdXNlU3RhdGUoJycpO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBBTExfU1RBVElPTlMuZmlsdGVyKHMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoQXJlYSA9IGZpbHRlckFyZWEgPT09ICdBTEwnIHx8IGdldFN0YXRpb25BcmVhKHMpID09PSBmaWx0ZXJBcmVhO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoVGV4dCA9IGZpbHRlclRleHQgPT09ICcnIHx8IHMuaW5jbHVkZXMoZmlsdGVyVGV4dCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoQXJlYSAmJiBtYXRjaFRleHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgb3ZlcmZsb3cteS1hdXRvIHB4LTQgcHQtc2FmZSBwYi0zMiBhbmltYXRlLWVudGVyIGJnLXNsYXRlLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cIm1iLTYgbXQtNiBzdGlja3kgdG9wLTAgYmctc2xhdGUtMTAwIHotMTAgcGItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTgwMCBtYi00XCI+5o6i44GZPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHBhdGg9e0ljb25zLlNlYXJjaH0gY2xhc3NOYW1lPVwidy01IGgtNSBhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHRleHQtc2xhdGUtNDAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIumnheWQjeOCkuWFpeWKmy4uLlwiIHZhbHVlPXtmaWx0ZXJUZXh0fSBvbkNoYW5nZT17KGUpID0+IHNldEZpbHRlclRleHQoZS50YXJnZXQudmFsdWUpfSBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctd2hpdGUgcGwtMTAgcHItNCBweS0zIHJvdW5kZWQtMnhsIGJvcmRlci1ub25lIHNoYWRvdy1zbSB0ZXh0LXNsYXRlLTcwMCBmb250LWJvbGQgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctaW5kaWdvLTUwMCBvdXRsaW5lLW5vbmVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWx0ZXJUZXh0ICYmIDxidXR0b24gb25DbGljaz17KCkgPT4gc2V0RmlsdGVyVGV4dCgnJyl9IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHAtMSBiZy1zbGF0ZS0yMDAgcm91bmRlZC1mdWxsIHRleHQtc2xhdGUtNTAwIGhvdmVyOmJnLXNsYXRlLTMwMFwiPjxJY29uIHBhdGg9e0ljb25zLlh9IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPjwvYnV0dG9uPn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIG92ZXJmbG93LXgtYXV0byBwYi0yIG5vLXNjcm9sbGJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtbJ0FMTCcsICfmnbHkuqwnLCAn5Y2D6JGJJ10ubWFwKGFyZWEgPT4gKDxidXR0b24ga2V5PXthcmVhfSBvbkNsaWNrPXsoKSA9PiBzZXRGaWx0ZXJBcmVhKGFyZWEpfSBjbGFzc05hbWU9e2BweC01IHB5LTIuNSByb3VuZGVkLWZ1bGwgdGV4dC14cyBmb250LWJvbGQgdHJhbnNpdGlvbi1hbGwgd2hpdGVzcGFjZS1ub3dyYXAgc2hhZG93LXNtICR7ZmlsdGVyQXJlYSA9PT0gYXJlYSA/ICdiZy1pbmRpZ28tNjAwIHRleHQtd2hpdGUnIDogJ2JnLXdoaXRlIHRleHQtc2xhdGUtNTAwIGJvcmRlciBib3JkZXItc2xhdGUtMjAwJ31gfT57YXJlYSA9PT0gJ0FMTCcgPyAn44GZ44G544GmJyA6IGFyZWF9PC9idXR0b24+KSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9oZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMyBwYi04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZmlsdGVyZWQubGVuZ3RoID4gMCA/IGZpbHRlcmVkLm1hcChzID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17c30gb25DbGljaz17KCkgPT4gc2V0RXhwbG9yZVN0YXRpb24ocyl9IGNsYXNzTmFtZT1cInAtNCByb3VuZGVkLTJ4bCBiZy13aGl0ZSB0ZXh0LXNsYXRlLTcwMCBmb250LWJvbGQgdGV4dC1sZWZ0IHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLXNsYXRlLTEwMCBob3Zlcjpib3JkZXItaW5kaWdvLTQwMCB0cmFuc2l0aW9uLWFsbCBhY3RpdmU6c2NhbGUtOTVcIj57c308L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpIDogPGRpdiBjbGFzc05hbWU9XCJjb2wtc3Bhbi0yIHRleHQtY2VudGVyIHRleHQtc2xhdGUtNDAwIHB5LTEwXCI+6Kmy5b2T44GZ44KL6aeF44GM44GC44KK44G+44Gb44KTPC9kaXY+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPEZsb2F0aW5nQmFja0J0biBvbkNsaWNrPXsoKSA9PiBzZXRWaWV3KCdIT01FJyl9IHRleHQ9XCLplonjgZjjgotcIiBpY29uPXtJY29ucy5YfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBIb21lVmlldyA9ICh7IHNldFZpZXcsIGhvbWVDb25maWdzLCB1cGRhdGVIb21lQ29uZmlnLCBwaW5uZWQsIGhpc3RvcnksIERFRkFVTFRfUk9VVEVTLCBoYW5kbGVQaW5Ub2dnbGUsIHN0YXJ0VGltZXIsIGhhbmRsZURvd25sb2FkLCBzZXRUZW1wQ29uZmlnU3RhdGlvbiwgYWN0aXZlTGlzdFRhYiwgc2V0QWN0aXZlTGlzdFRhYiB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IGFjdGl2ZUxpc3RUYWIgPT09ICdwaW5uZWQnID8gcGlubmVkIDogKGhpc3RvcnkubGVuZ3RoID8gaGlzdG9yeSA6IERFRkFVTFRfUk9VVEVTKTtcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFtzaG93SGVhZGVyLCBzZXRTaG93SGVhZGVyXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgICAgICAgICAgY29uc3QgbGFzdFNjcm9sbFkgPSB1c2VSZWYoMCk7XG4gICAgICAgICAgICBjb25zdCBbaGVhZGVySGVpZ2h0LCBzZXRIZWFkZXJIZWlnaHRdID0gdXNlU3RhdGUoMCk7IC8vIER5bmFtaWMgaGVhZGVyIGhlaWdodFxuXG4gICAgICAgICAgICAvLyBIaWRlIEhlYWRlciBvbiBTY3JvbGwgTG9naWMgKEltcHJvdmVkKVxuICAgICAgICAgICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2Nyb2xsWSA9IHNjcm9sbFJlZi5jdXJyZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIExvZ2ljOiBIaWRlIG9uIHNjcm9sbCBkb3duLCBTaG93IG9uIHNjcm9sbCB1cCBPUiBuZWFyIHRvcFxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNjcm9sbFkgPCAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0hlYWRlcih0cnVlKTsgLy8gQWx3YXlzIHNob3cgbmVhciB0b3BcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50U2Nyb2xsWSA+IGxhc3RTY3JvbGxZLmN1cnJlbnQgJiYgY3VycmVudFNjcm9sbFkgPiA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0hlYWRlcihmYWxzZSk7IC8vIFNjcm9sbGluZyBkb3duIC0+IEhpZGVcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50U2Nyb2xsWSA8IGxhc3RTY3JvbGxZLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dIZWFkZXIodHJ1ZSk7IC8vIFNjcm9sbGluZyB1cCAtPiBTaG93XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGFzdFNjcm9sbFkuY3VycmVudCA9IGN1cnJlbnRTY3JvbGxZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWwgPSBzY3JvbGxSZWYuY3VycmVudDtcbiAgICAgICAgICAgICAgICBpZihlbCkgZWwuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4geyBpZihlbCkgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKTsgfTtcbiAgICAgICAgICAgIH0sIFtdKTtcblxuXG4gICAgICAgICAgICBjb25zdCBzd2l0Y2hIb21lRGlyID0gKHRhcmdldENvbmZpZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJkID0gZ2V0Um91dGVEYXRhKHRhcmdldENvbmZpZy5saW5lSWQsIHRhcmdldENvbmZpZy5kaXJJZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dERpciA9IHJkLmxpbmUuZGlyZWN0aW9ucy5maW5kKGQgPT4gZC5pZCAhPT0gdGFyZ2V0Q29uZmlnLmRpcklkKSB8fCByZC5saW5lLmRpcmVjdGlvbnNbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29uZmlncyA9IGhvbWVDb25maWdzLm1hcChjID0+IFxuICAgICAgICAgICAgICAgICAgICAoYy5zdGF0aW9uID09PSB0YXJnZXRDb25maWcuc3RhdGlvbiAmJiBjLmxpbmVJZCA9PT0gdGFyZ2V0Q29uZmlnLmxpbmVJZCAmJiBjLmRpcklkID09PSB0YXJnZXRDb25maWcuZGlySWQpIFxuICAgICAgICAgICAgICAgICAgICA/IHsgLi4uYywgZGlySWQ6IG5leHREaXIuaWQgfSBcbiAgICAgICAgICAgICAgICAgICAgOiBjXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVIb21lQ29uZmlnKG5ld0NvbmZpZ3MpOyBcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICBjb25zdCBoYW5kbGVUaXRsZUNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS5kZXRhaWwgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlRG93bmxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2wgYmctc3VyZmFjZSBvdmVyZmxvdy1oaWRkZW4gcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgIHsvKiBIZWFkZXIgU2VjdGlvbiAoRml4ZWQgd2l0aCBIaWRlLW9uLVNjcm9sbCkgKi99XG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZpeGVkIHRvcC0wIGxlZnQtMCByaWdodC0wIHotMzAgYmctd2hpdGUgc2hhZG93LXNtIHRyYW5zaXRpb24tdHJhbnNmb3JtIGR1cmF0aW9uLTMwMCAke3Nob3dIZWFkZXIgPyAndHJhbnNsYXRlLXktMCcgOiAnLXRyYW5zbGF0ZS15LWZ1bGwnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctbWQgbXgtYXV0byB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEhvbWVIZWFkZXJDYXJvdXNlbCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlncz17aG9tZUNvbmZpZ3N9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblN3aXRjaD17c3dpdGNoSG9tZURpcn0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlnPXsoKSA9PiB7IHNldFRlbXBDb25maWdTdGF0aW9uKG51bGwpOyBzZXRWaWV3KCdDT05GSUcnKTsgfX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3RhcnRUaW1lcj17c3RhcnRUaW1lcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVGl0bGVDbGljaz17aGFuZGxlVGl0bGVDbGlja31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25IZWlnaHRDaGFuZ2U9e3NldEhlYWRlckhlaWdodH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRG93bmxvYWQ9e2hhbmRsZURvd25sb2FkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgIHsvKiBTY3JvbGxhYmxlIENvbnRlbnQgLSBQYWRkaW5nIGFkanVzdGVkIGR5bmFtaWNhbGx5IHdpdGggYSBzYWZlciBkZWZhdWx0IGFuZCBleHRyYSBidWZmZXIgKi99XG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtzY3JvbGxSZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHB4LTQgcGItMzIgaC1mdWxsXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nVG9wOiBoZWFkZXJIZWlnaHQgPiAwID8gYCR7aGVhZGVySGVpZ2h0ICsgMjR9cHhgIDogJzMwMHB4JyB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgey8qIE5vbi1TdGlja3kgVGFicyAtIFN3aXRjaCBTdHlsZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIi1teC00IHB4LTQgcHktMiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHAtMSBiZy1zbGF0ZS0yMDAvNTAgcm91bmRlZC14bCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZUxpc3RUYWIoJ3Bpbm5lZCcpfSBjbGFzc05hbWU9e2BmbGV4LTEgcmVsYXRpdmUgei0xMCBweS0yIHJvdW5kZWQtbGcgdGV4dC14cyBmb250LWJvbGQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwICR7YWN0aXZlTGlzdFRhYiA9PT0gJ3Bpbm5lZCcgPyAndGV4dC1zbGF0ZS04MDAnIDogJ3RleHQtc2xhdGUtNDAwIGhvdmVyOnRleHQtc2xhdGUtNjAwJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHBhdGg9e0ljb25zLlN0YXJ9IGNsYXNzTmFtZT17YHctMy41IGgtMy41ICR7YWN0aXZlTGlzdFRhYiA9PT0gJ3Bpbm5lZCcgPyAndGV4dC1zbGF0ZS03MDAnIDogJyd9YH0gLz4g44KI44GP5L2/44GG6aeFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZUxpc3RUYWIoJ2hpc3RvcnknKX0gY2xhc3NOYW1lPXtgZmxleC0xIHJlbGF0aXZlIHotMTAgcHktMiByb3VuZGVkLWxnIHRleHQteHMgZm9udC1ib2xkIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke2FjdGl2ZUxpc3RUYWIgPT09ICdoaXN0b3J5JyA/ICd0ZXh0LXNsYXRlLTgwMCcgOiAndGV4dC1zbGF0ZS00MDAgaG92ZXI6dGV4dC1zbGF0ZS02MDAnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5pyA6L+R6KaL44Gf6aeFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEFuaW1hdGVkIEJhY2tncm91bmQgUGlsbCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhYnNvbHV0ZSB0b3AtMSBib3R0b20tMSB3LVtjYWxjKDUwJS00cHgpXSBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1zbSB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZWFzZS1vdXQgJHthY3RpdmVMaXN0VGFiID09PSAncGlubmVkJyA/ICdsZWZ0LTEnIDogJ2xlZnQtW2NhbGMoNTAlKzJweCldJ31gfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zIHJlbGF0aXZlIHotMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtcy5sZW5ndGggPT09IDAgPyA8RW1wdHlTdGF0ZSB0eXBlPXthY3RpdmVMaXN0VGFifSBvblNlYXJjaD17KCkgPT4gc2V0VmlldygnRVhQTE9SRScpfSAvPiA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5tYXAoKGl0ZW0sIGkpID0+IDxSb3V0ZUxpc3RJdGVtIGtleT17YCR7aXRlbS5zdGF0aW9ufS0ke2l0ZW0ubGluZUlkfS0ke2l9YH0gey4uLml0ZW19IGlzUGlubmVkPXtwaW5uZWQuc29tZShwID0+IHAuc3RhdGlvbiA9PT0gaXRlbS5zdGF0aW9uICYmIHAubGluZUlkID09PSBpdGVtLmxpbmVJZCl9IG9uUGluPXsoKSA9PiBoYW5kbGVQaW5Ub2dnbGUoaXRlbS5zdGF0aW9uLCBpdGVtLmxpbmVJZCl9IG9uU2VsZWN0PXsoZGlySWQpID0+IHN0YXJ0VGltZXIoaXRlbS5zdGF0aW9uLCBpdGVtLmxpbmVJZCwgZGlySWQpfSAvPil9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8RmxvYXRpbmdTZWFyY2hCdG4gb25DbGljaz17KCkgPT4gc2V0VmlldygnRVhQTE9SRScpfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBDb25maXJtTW9kYWwgPSAoeyBpc09wZW4sIG1lc3NhZ2UsIG9uQ29uZmlybSwgb25DYW5jZWwgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8TW9kYWxQb3J0YWw+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LVsxNTBdIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrLzQwIGJhY2tkcm9wLWJsdXItc20gcC00IGFuaW1hdGUtZmFkZS1pblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLTJ4bCBwLTYgc2hhZG93LTJ4bCB3LWZ1bGwgbWF4LXctc20gYW5pbWF0ZS1zbGlkZS11cCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtc2xhdGUtODAwIG1iLTYgdGV4dC1jZW50ZXJcIj57bWVzc2FnZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DYW5jZWx9IGNsYXNzTmFtZT1cImZsZXgtMSBweS0zIHJvdW5kZWQteGwgYmctc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwIGZvbnQtYm9sZCBob3ZlcjpiZy1zbGF0ZS0yMDAgdHJhbnNpdGlvbi1jb2xvcnNcIj7jgq3jg6Pjg7Pjgrvjg6s8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNvbmZpcm19IGNsYXNzTmFtZT1cImZsZXgtMSBweS0zIHJvdW5kZWQteGwgYmctYWNjZW50IHRleHQtd2hpdGUgZm9udC1ib2xkIGhvdmVyOmJnLXJvc2UtNjAwIHRyYW5zaXRpb24tY29sb3JzIHNoYWRvdy1sZyBzaGFkb3ctcm9zZS0yMDBcIj7op6PpmaTjgZnjgos8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L01vZGFsUG9ydGFsPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBUaW1lck1vZGFsID0gKHsgdGltZXJDb250ZXh0LCBpc1RpbWVyT3Blbiwgc2V0SXNUaW1lck9wZW4sIHN3aXRjaFRpbWVyRGlyLCBpc1Bpbm5lZCwgb25Ub2dnbGVQaW4gfSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm91dGUgPSB0aW1lckNvbnRleHQgPyBnZXRSb3V0ZURhdGEodGltZXJDb250ZXh0LmxpbmVJZCwgdGltZXJDb250ZXh0LmRpcklkKSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCB0aW1lciA9IHVzZVRyYWluVGltZXIocm91dGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxNb2RhbFBvcnRhbD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmaXhlZCBpbnNldC0wIHotWzE1MF0gYmctd2hpdGUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tNTAwIGVhc2Utb3V0IGZsZXggZmxleC1jb2wgJHtpc1RpbWVyT3BlbiA/ICd0cmFuc2xhdGUteS0wJyA6ICd0cmFuc2xhdGUteS1mdWxsJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBIZWFkZXI6IEFjdGlvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB0LXNhZmUgcHgtNiBwYi00IGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBiZy13aGl0ZS84MCBiYWNrZHJvcC1ibHVyLW1kIHotMjAgYm9yZGVyLWIgYm9yZGVyLXNsYXRlLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXNsYXRlLTUwMCB0ZXh0LXhzIHRyYWNraW5nLXdpZGVzdFwiPueZuui7iuahiOWGhTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17cm91dGU/LmxpbmUuc3RhdHVzVXJsfSB0YXJnZXQ9XCJfYmxhbmtcIiBjbGFzc05hbWU9XCJoLTEwIHB4LTMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctc2xhdGUtMTAwIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1zbGF0ZS0yMDAgdGV4dC1zbGF0ZS02MDAgZ2FwLTEuNSB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1bMTBweF0gZm9udC1ib2xkXCI+6YGL6KGM5oOF5aCxPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gcGF0aD17SWNvbnMuRXh0ZXJuYWxMaW5rfSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtyb3V0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIGJnLXNsYXRlLTUwIGZsZXggZmxleC1jb2wgJHt0aW1lci5iZ30gdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tNzAwIHJlbGF0aXZlYH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogTWFpbiBJbmZvIEFyZWEgLSBSZWRlc2lnbmVkIEluZm9ybWF0aW9uIEFyY2hpdGVjdHVyZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC02IHRleHQtY2VudGVyIG1pbi1oLVs1NXZoXSByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogMS4gSGVhZGVyIEJsb2NrOiBTdGF0aW9uICYgUGxhdGZvcm0gKFBsYWNlKSAtIFVuaWZpZWQgUm93ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWJhc2VsaW5lIGp1c3RpZnktY2VudGVyIGdhcC0yIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtODAwIHRyYWNraW5nLXRpZ2h0XCI+e3RpbWVyQ29udGV4dC5zdGF0aW9ufTwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LWJvbGQgYmctc2xhdGUtMjAwIHRleHQtc2xhdGUtNjAwIHB4LTIgcHktMC41IHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JvdXRlLmRpci5wbGF0Zm9ybX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIDIuIERlc3RpbmF0aW9uIEJsb2NrIChHb2FsKSAtIENsZWFyIEhpZXJhcmNoeSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgbWItOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBEZXN0aW5hdGlvbiBNYWluICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1iYXNlbGluZSBnYXAtMS41IG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtODAwIHRyYWNraW5nLXRpZ2h0IGxlYWRpbmctbm9uZVwiPnt0aW1lci5uZXh0RGVzdH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1ib2xkIHRleHQtc2xhdGUtNTAwXCI+6KGM44GNPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBSb3V0ZSBJbmZvIFJvdyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YGlubGluZS1ibG9jayBweC0yIHB5LTAuNSByb3VuZGVkIHRleHQtWzExcHhdIGZvbnQtYm9sZCB0ZXh0LXdoaXRlICR7cm91dGUubGluZS5jb2xvcn1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyb3V0ZS5saW5lLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LWJvbGQgdGV4dC1zbGF0ZS02MDBcIj57cm91dGUuZGlyLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiAzLiBUaW1lciBCbG9jayAoQ29uc3RyYWludCkgLSBCYWxhbmNlZCBTaXplICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtYi0xMCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRhYnVsYXItbnVtcyB0cmFja2luZy10aWdodGVyIGxlYWRpbmctbm9uZSB0ZXh0LWNlbnRlciAke3RpbWVyLmNvbG9yfSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDBgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWJhc2VsaW5lIGp1c3RpZnktY2VudGVyIGdhcC0xIGRyb3Atc2hhZG93LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTd4bCBmb250LWJvbGQgbGVhZGluZy1ub25lIHRyYWNraW5nLXRpZ2h0XCI+e3RpbWVyLmxlZnQubX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTQwMCBtci0yXCI+5YiGPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC03eGwgZm9udC1ib2xkIGxlYWRpbmctbm9uZSB0cmFja2luZy10aWdodFwiPnt0aW1lci5sZWZ0LnN9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1zbGF0ZS00MDBcIj7np5I8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiA0LiBOZXh0IERlcGFydHVyZSAoQ29udGV4dCkgLSBTaW1wbGUgQm94ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTQgYmctd2hpdGUgcHgtNiBweS0zIHJvdW5kZWQtMnhsIHNoYWRvdy1jYXJkIGJvcmRlciBib3JkZXItc2xhdGUtMTAwIHRleHQtc2xhdGUtNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtYmFzZWxpbmUgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0YWJ1bGFyLW51bXMgdGV4dC1zbGF0ZS03MDBcIj57dGltZXIubmV4dH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtYm9sZFwiPueZujwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRHJhZ2dhYmxlIERyYXdlciBmb3IgXCJTdWJzZXF1ZW50IFRyYWluc1wiICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RHJhZ2dhYmxlRHJhd2VyIGlzT3Blbj17aXNUaW1lck9wZW59PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHQtMiBwYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNCBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS01MDAgdGV4dC1zbSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj7jgZ3jga7lvozjga7pm7vou4o8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3N3aXRjaFRpbWVyRGlyfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IHRleHQtc2xhdGUtNjAwIGZvbnQtYm9sZCB0ZXh0LXhzIGJnLXNsYXRlLTEwMCBweC0zIHB5LTEuNSByb3VuZGVkLWZ1bGwgaG92ZXI6Ymctc2xhdGUtMjAwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBwYXRoPXtJY29ucy5SZWZyZXNoQ3d9IGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIvPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOmAhuaWueWQkVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0wIGRpdmlkZS15IGRpdmlkZS1zbGF0ZS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RpbWVyLnN1YnNlcXVlbnRzICYmIHRpbWVyLnN1YnNlcXVlbnRzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lci5zdWJzZXF1ZW50cy5tYXAoKHMsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aX0gY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHB5LTMgcHgtMiBob3ZlcjpiZy1zbGF0ZS01MCB0cmFuc2l0aW9uLWNvbG9ycyByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtYmFzZWxpbmUgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXNsYXRlLTcwMCB0YWJ1bGFyLW51bXNcIj57cy50aW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwXCI+55m6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1ib2xkIHRleHQtc2xhdGUtNTAwIG10LTAuNVwiPntzLmRlc3R9IOihjOOBjTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1ib2xkIHRleHQtc2xhdGUtNjAwXCI+e3MubWlufSDliIblvow8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNsYXRlLTQwMCBweS02IHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDjgZ3jga7lvozjga7pm7vou4rjga/jgYLjgorjgb7jgZvjgpNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHB0LTQgYm9yZGVyLXQgYm9yZGVyLWRhc2hlZCBib3JkZXItc2xhdGUtMTAwIGZsZXgganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbGF0ZS00MDAgZm9udC1ib2xkIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHBhdGg9e0ljb25zLk1vb259IGNsYXNzTmFtZT1cInctMy41IGgtMy41XCIvPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPue1gumbuyA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNsYXRlLTYwMCB0ZXh0LXNtIG1sLTEgdGFidWxhci1udW1zXCI+e3JvdXRlLmRpci5sYXN0VHJhaW59PC9zcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9EcmFnZ2FibGVEcmF3ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIEZsb2F0aW5nIEFjdGlvbiBCdXR0b25zIChDbG9zZSAmIEZhdm9yaXRlKSAqL31cbiAgICAgICAgICAgICAgICAgICAgPEZsb2F0aW5nQWN0aW9uQnV0dG9ucyBvbkNsb3NlPXsoKSA9PiBzZXRJc1RpbWVyT3BlbihmYWxzZSl9IG9uRmF2b3JpdGU9e29uVG9nZ2xlUGlufSBpc1Bpbm5lZD17aXNQaW5uZWR9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L01vZGFsUG9ydGFsPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBFeHBsb3JlTW9kYWwgPSAoeyBleHBsb3JlU3RhdGlvbiwgc2V0RXhwbG9yZVN0YXRpb24sIHN0YXJ0VGltZXIgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFleHBsb3JlU3RhdGlvbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IExJTkVTX0RBVEEuZmlsdGVyKGwgPT4gbC5kaXJlY3Rpb25zLnNvbWUoZCA9PiBkLnN0YXRpb25zLmluY2x1ZGVzKGV4cGxvcmVTdGF0aW9uKSkpO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8TW9kYWxQb3J0YWw+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LVsxNTBdIGZsZXggaXRlbXMtZW5kIGp1c3RpZnktY2VudGVyIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1ibGFjay8yMCBiYWNrZHJvcC1ibHVyLXNtIHBvaW50ZXItZXZlbnRzLWF1dG8gdHJhbnNpdGlvbi1vcGFjaXR5XCIgb25DbGljaz17KCkgPT4gc2V0RXhwbG9yZVN0YXRpb24obnVsbCl9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHctZnVsbCBtYXgtdy1tZCBwLTYgcm91bmRlZC10LTN4bCBzaGFkb3ctMnhsIHBvaW50ZXItZXZlbnRzLWF1dG8gYW5pbWF0ZS1zbGlkZS11cCBtYXgtaC1bODB2aF0gb3ZlcmZsb3cteS1hdXRvIHJlbGF0aXZlIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1zbGF0ZS04MDBcIj57ZXhwbG9yZVN0YXRpb259PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRFeHBsb3JlU3RhdGlvbihudWxsKX0gY2xhc3NOYW1lPVwicC0yIGJnLXNsYXRlLTEwMCByb3VuZGVkLWZ1bGwgaG92ZXI6Ymctc2xhdGUtMjAwXCI+PEljb24gcGF0aD17SWNvbnMuWH0gY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXNsYXRlLTUwMFwiLz48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGluZXMubWFwKGwgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2wuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMyBweC0xXCI+PGRpdiBjbGFzc05hbWU9e2B3LTEuNSBoLTQgcm91bmRlZC1mdWxsICR7bC5jb2xvcn1gfT48L2Rpdj48c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1zbGF0ZS01MDAgdGV4dC1zbVwiPntsLm5hbWV9PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bC5kaXJlY3Rpb25zLm1hcChkID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24ga2V5PXtkLmlkfSBvbkNsaWNrPXsoKSA9PiB7IHN0YXJ0VGltZXIoZXhwbG9yZVN0YXRpb24sIGwuaWQsIGQuaWQpOyBzZXRFeHBsb3JlU3RhdGlvbihudWxsKTsgfX0gY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLXNsYXRlLTIwMCBwLTQgcm91bmRlZC14bCB0ZXh0LWxlZnQgaG92ZXI6Ym9yZGVyLWluZGlnby00MDAgYWN0aXZlOnNjYWxlLVswLjk4XSB0cmFuc2l0aW9uLWFsbCBzaGFkb3ctc20gZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXNsYXRlLTcwMCBtYi0wLjVcIj57ZC5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1zbGF0ZS00MDAgZm9udC1ib2xkXCI+e2QuZGVzdC5qb2luKCfjg7snKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBwYXRoPXtJY29ucy5DaGV2cm9uUmlnaHR9IGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1zbGF0ZS0zMDAgZ3JvdXAtaG92ZXI6dGV4dC1pbmRpZ28tNDAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L01vZGFsUG9ydGFsPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBBcHAgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbdmlldywgc2V0Vmlld10gPSB1c2VTdGF0ZSgnSE9NRScpO1xuICAgICAgICAgICAgY29uc3QgW2hvbWVDb25maWdzLCBzZXRIb21lQ29uZmlnc10gPSB1c2VTdGF0ZShbXSk7XG4gICAgICAgICAgICBjb25zdCBbcGlubmVkLCBzZXRQaW5uZWRdID0gdXNlU3RhdGUoW10pO1xuICAgICAgICAgICAgY29uc3QgW2hpc3RvcnksIHNldEhpc3RvcnldID0gdXNlU3RhdGUoW10pO1xuICAgICAgICAgICAgY29uc3QgW2FjdGl2ZUxpc3RUYWIsIHNldEFjdGl2ZUxpc3RUYWJdID0gdXNlU3RhdGUoJ3Bpbm5lZCcpO1xuICAgICAgICAgICAgY29uc3QgW3RlbXBDb25maWdTdGF0aW9uLCBzZXRUZW1wQ29uZmlnU3RhdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IFtleHBsb3JlU3RhdGlvbiwgc2V0RXhwbG9yZVN0YXRpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICAgICAgICBjb25zdCBbdGltZXJDb250ZXh0LCBzZXRUaW1lckNvbnRleHRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICAgICAgICBjb25zdCBbaXNUaW1lck9wZW4sIHNldElzVGltZXJPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IFtjb25maXJtTW9kYWwsIHNldENvbmZpcm1Nb2RhbF0gPSB1c2VTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIGl0ZW06IG51bGwgfSk7XG4gICAgICAgICAgICBjb25zdCBbYWxlcnRNb2RhbCwgc2V0QWxlcnRNb2RhbF0gPSB1c2VTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIG1lc3NhZ2U6ICcnIH0pO1xuICAgICAgICAgICAgY29uc3QgW3RvYXN0LCBzZXRUb2FzdF0gPSB1c2VTdGF0ZSh7IHNob3c6IGZhbHNlLCBtZXNzYWdlOiAnJyB9KTtcblxuICAgICAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21jdF9ob21lX2NvbmZpZ3NfdjInKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEhvbWVDb25maWdzKEpTT04ucGFyc2UoaCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZEggPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbWN0X2hvbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRIb21lQ29uZmlncyhbSlNPTi5wYXJzZShvbGRIKV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEhvbWVDb25maWdzKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aW9uOiAn6Ii55qmLJywgbGluZUlkOiAnc29idV9yYXBpZCcsIGRpcklkOiAndXAnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3RhdGlvbjogJ+S6rOaIkOiIueapiycsIGxpbmVJZDogJ2tlaXNlaV9tYWluJywgZGlySWQ6ICd1cCcgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtY3RfcGlucycpO1xuICAgICAgICAgICAgICAgICAgICBpZihwKSBzZXRQaW5uZWQoSlNPTi5wYXJzZShwKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtY3RfaGlzdCcpO1xuICAgICAgICAgICAgICAgICAgICBpZihoaXMpIHNldEhpc3RvcnkoSlNPTi5wYXJzZShoaXMpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHt9XG4gICAgICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZUhvbWVDb25maWcgPSAobmV3Q29uZmlncykgPT4ge1xuICAgICAgICAgICAgICAgIHNldEhvbWVDb25maWdzKG5ld0NvbmZpZ3MpO1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtY3RfaG9tZV9jb25maWdzX3YyJywgSlNPTi5zdHJpbmdpZnkobmV3Q29uZmlncykpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgYWRkSG9tZUNvbmZpZyA9IChuZXdJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGhvbWVDb25maWdzLmxlbmd0aCA+PSBNQVhfSE9NRV9DT05GSUdTKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29uZmlncyA9IFsuLi5ob21lQ29uZmlncywgbmV3SXRlbV07XG4gICAgICAgICAgICAgICAgdXBkYXRlSG9tZUNvbmZpZyhuZXdDb25maWdzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VIb21lQ29uZmlnID0gKGluZGV4LCBuZXdJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29uZmlncyA9IFsuLi5ob21lQ29uZmlnc107XG4gICAgICAgICAgICAgICAgbmV3Q29uZmlnc1tpbmRleF0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUhvbWVDb25maWcobmV3Q29uZmlncyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCByZW1vdmVIb21lQ29uZmlnID0gKGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29uZmlncyA9IGhvbWVDb25maWdzLmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUhvbWVDb25maWcobmV3Q29uZmlncyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBtb3ZlSG9tZUNvbmZpZyA9IChpbmRleCwgZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBob21lQ29uZmlncy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdJbmRleCA9IGluZGV4ICsgZGlyZWN0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA8IDAgfHwgbmV3SW5kZXggPj0gaG9tZUNvbmZpZ3MubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29uZmlncyA9IFsuLi5ob21lQ29uZmlnc107XG4gICAgICAgICAgICAgICAgW25ld0NvbmZpZ3NbaW5kZXhdLCBuZXdDb25maWdzW25ld0luZGV4XV0gPSBbbmV3Q29uZmlnc1tuZXdJbmRleF0sIG5ld0NvbmZpZ3NbaW5kZXhdXTtcbiAgICAgICAgICAgICAgICB1cGRhdGVIb21lQ29uZmlnKG5ld0NvbmZpZ3MpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgdXBkYXRlUGlucyA9IChuZXdQaW5zKSA9PiB7IHNldFBpbm5lZChuZXdQaW5zKTsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21jdF9waW5zJywgSlNPTi5zdHJpbmdpZnkobmV3UGlucykpOyB9O1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlSGlzdG9yeSA9IChpdGVtKSA9PiB7IGNvbnN0IG5ld0hpc3QgPSBbaXRlbSwgLi4uaGlzdG9yeS5maWx0ZXIoaCA9PiAhKGguc3RhdGlvbiA9PT0gaXRlbS5zdGF0aW9uICYmIGgubGluZUlkID09PSBpdGVtLmxpbmVJZCkpXS5zbGljZSgwLCAyMCk7IHNldEhpc3RvcnkobmV3SGlzdCk7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtY3RfaGlzdCcsIEpTT04uc3RyaW5naWZ5KG5ld0hpc3QpKTsgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgaGFuZGxlUGluVG9nZ2xlID0gKHMsIGwpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdHMgPSBwaW5uZWQuZmluZChwID0+IHAuc3RhdGlvbiA9PT0gcyAmJiBwLmxpbmVJZCA9PT0gbCk7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgICBzZXRDb25maXJtTW9kYWwoeyBpc09wZW46IHRydWUsIGl0ZW06IHsgc3RhdGlvbjogcywgbGluZUlkOiBsIH0gfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpbm5lZC5sZW5ndGggPj0gMTUpIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRBbGVydE1vZGFsKHsgaXNPcGVuOiB0cnVlLCBtZXNzYWdlOiAn44KI44GP5L2/44GG6aeF44Gv5pyA5aSnMTXku7bjgb7jgafjgafjgZnjgIJcXG7kuI3opoHjgarjgoLjga7jgpLop6PpmaTjgZfjgabjgY/jgaDjgZXjgYTjgIInIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVQaW5zKFt7c3RhdGlvbjpzLCBsaW5lSWQ6bH0sIC4uLnBpbm5lZF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1VbnBpbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlybU1vZGFsLml0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzdGF0aW9uLCBsaW5lSWQgfSA9IGNvbmZpcm1Nb2RhbC5pdGVtO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVQaW5zKHBpbm5lZC5maWx0ZXIocCA9PiAhKHAuc3RhdGlvbiA9PT0gc3RhdGlvbiAmJiBwLmxpbmVJZCA9PT0gbGluZUlkKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRDb25maXJtTW9kYWwoeyBpc09wZW46IGZhbHNlLCBpdGVtOiBudWxsIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaW1lciA9IChzLCBsLCBkKSA9PiB7IHNldFRpbWVyQ29udGV4dCh7IHN0YXRpb246IHMsIGxpbmVJZDogbCwgZGlySWQ6IGQgfSk7IHVwZGF0ZUhpc3RvcnkoeyBzdGF0aW9uOiBzLCBsaW5lSWQ6IGwgfSk7IHNldElzVGltZXJPcGVuKHRydWUpOyBzZXRWaWV3KCdIT01FJyk7IH07XG5cbiAgICAgICAgICAgIGNvbnN0IHN3aXRjaFRpbWVyRGlyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKCF0aW1lckNvbnRleHQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zdCByZCA9IGdldFJvdXRlRGF0YSh0aW1lckNvbnRleHQubGluZUlkLCB0aW1lckNvbnRleHQuZGlySWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHREaXIgPSByZC5saW5lLmRpcmVjdGlvbnMuZmluZChkID0+IGQuaWQgIT09IHRpbWVyQ29udGV4dC5kaXJJZCkgfHwgcmQubGluZS5kaXJlY3Rpb25zWzBdO1xuICAgICAgICAgICAgICAgIHNldFRpbWVyQ29udGV4dCh7Li4udGltZXJDb250ZXh0LCBkaXJJZDogbmV4dERpci5pZH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZURvd25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTF0sIHsgdHlwZTogJ3RleHQvaHRtbCcgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOyBhLmhyZWYgPSB1cmw7IGEuZG93bmxvYWQgPSAnbXktY29tbXV0ZS10aW1lci5odG1sJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOyBhLmNsaWNrKCk7IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCB0b2dnbGVUaW1lclBpbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRpbWVyQ29udGV4dCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGhhbmRsZVBpblRvZ2dsZSh0aW1lckNvbnRleHQuc3RhdGlvbiwgdGltZXJDb250ZXh0LmxpbmVJZCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgaXNUaW1lclBpbm5lZCA9IHRpbWVyQ29udGV4dCA/IHBpbm5lZC5zb21lKHAgPT4gcC5zdGF0aW9uID09PSB0aW1lckNvbnRleHQuc3RhdGlvbiAmJiBwLmxpbmVJZCA9PT0gdGltZXJDb250ZXh0LmxpbmVJZCkgOiBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3Qgc2hvd1RvYXN0ID0gKG1zZykgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRvYXN0KHsgc2hvdzogdHJ1ZSwgbWVzc2FnZTogbXNnIH0pO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0VG9hc3QoeyBzaG93OiBmYWxzZSwgbWVzc2FnZTogJycgfSksIDMwMDApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCB3LWZ1bGwgYmctc3VyZmFjZSByZWxhdGl2ZSBtYXgtdy1tZCBteC1hdXRvIHNoYWRvdy0yeGwgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIHt2aWV3ID09PSAnSE9NRScgJiYgPEhvbWVWaWV3IHNldFZpZXc9e3NldFZpZXd9IGhvbWVDb25maWdzPXtob21lQ29uZmlnc30gdXBkYXRlSG9tZUNvbmZpZz17dXBkYXRlSG9tZUNvbmZpZ30gcGlubmVkPXtwaW5uZWR9IGhpc3Rvcnk9e2hpc3Rvcnl9IERFRkFVTFRfUk9VVEVTPXtERUZBVUxUX1JPVVRFU30gaGFuZGxlUGluVG9nZ2xlPXtoYW5kbGVQaW5Ub2dnbGV9IHN0YXJ0VGltZXI9e3N0YXJ0VGltZXJ9IGhhbmRsZURvd25sb2FkPXtoYW5kbGVEb3dubG9hZH0gc2V0VGVtcENvbmZpZ1N0YXRpb249e3NldFRlbXBDb25maWdTdGF0aW9ufSBhY3RpdmVMaXN0VGFiPXthY3RpdmVMaXN0VGFifSBzZXRBY3RpdmVMaXN0VGFiPXtzZXRBY3RpdmVMaXN0VGFifSAvPn1cbiAgICAgICAgICAgICAgICAgICAge3ZpZXcgPT09ICdFWFBMT1JFJyAmJiA8RXhwbG9yZVZpZXcgc2V0Vmlldz17c2V0Vmlld30gc2V0RXhwbG9yZVN0YXRpb249e3NldEV4cGxvcmVTdGF0aW9ufSAvPn1cbiAgICAgICAgICAgICAgICAgICAge3ZpZXcgPT09ICdDT05GSUcnICYmIDxDb25maWdWaWV3IHNldFZpZXc9e3NldFZpZXd9IHRlbXBDb25maWdTdGF0aW9uPXt0ZW1wQ29uZmlnU3RhdGlvbn0gc2V0VGVtcENvbmZpZ1N0YXRpb249e3NldFRlbXBDb25maWdTdGF0aW9ufSBob21lQ29uZmlncz17aG9tZUNvbmZpZ3N9IGFkZEhvbWVDb25maWc9e2FkZEhvbWVDb25maWd9IHJlbW92ZUhvbWVDb25maWc9e3JlbW92ZUhvbWVDb25maWd9IHJlcGxhY2VIb21lQ29uZmlnPXtyZXBsYWNlSG9tZUNvbmZpZ30gdXBkYXRlSG9tZT17dXBkYXRlSG9tZUNvbmZpZ30gaGFuZGxlRG93bmxvYWQ9e2hhbmRsZURvd25sb2FkfSBzaG93VG9hc3Q9e3Nob3dUb2FzdH0gbW92ZUhvbWVDb25maWc9e21vdmVIb21lQ29uZmlnfSAvPn1cbiAgICAgICAgICAgICAgICAgICAgPFRpbWVyTW9kYWwgdGltZXJDb250ZXh0PXt0aW1lckNvbnRleHR9IGlzVGltZXJPcGVuPXtpc1RpbWVyT3Blbn0gc2V0SXNUaW1lck9wZW49e3NldElzVGltZXJPcGVufSBzd2l0Y2hUaW1lckRpcj17c3dpdGNoVGltZXJEaXJ9IGlzUGlubmVkPXtpc1RpbWVyUGlubmVkfSBvblRvZ2dsZVBpbj17dG9nZ2xlVGltZXJQaW59IC8+XG4gICAgICAgICAgICAgICAgICAgIDxFeHBsb3JlTW9kYWwgZXhwbG9yZVN0YXRpb249e2V4cGxvcmVTdGF0aW9ufSBzZXRFeHBsb3JlU3RhdGlvbj17c2V0RXhwbG9yZVN0YXRpb259IHN0YXJ0VGltZXI9e3N0YXJ0VGltZXJ9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxDb25maXJtTW9kYWwgaXNPcGVuPXtjb25maXJtTW9kYWwuaXNPcGVufSBtZXNzYWdlPVwi44KI44GP5L2/44GG6aeF44GL44KJ5YmK6Zmk44GX44G+44GZ44GL77yfXCIgb25Db25maXJtPXtjb25maXJtVW5waW59IG9uQ2FuY2VsPXsoKSA9PiBzZXRDb25maXJtTW9kYWwoe2lzT3BlbjogZmFsc2UsIGl0ZW06IG51bGx9KX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPEFsZXJ0TW9kYWwgaXNPcGVuPXthbGVydE1vZGFsLmlzT3Blbn0gbWVzc2FnZT17YWxlcnRNb2RhbC5tZXNzYWdlfSBvbkNsb3NlPXsoKSA9PiBzZXRBbGVydE1vZGFsKHsgaXNPcGVuOiBmYWxzZSwgbWVzc2FnZTogJycgfSl9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxUb2FzdCBzaG93PXt0b2FzdC5zaG93fSBtZXNzYWdlPXt0b2FzdC5tZXNzYWdlfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByb290ID0gUmVhY3RET00uY3JlYXRlUm9vdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKTtcbiAgICAgICAgcm9vdC5yZW5kZXIoPEFwcCAvPik7XG4gICAgIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ1EsSUFBQUEsTUFBQSxHQUErRUMsS0FBSztFQUE1RUMsUUFBUSxHQUFBRixNQUFBLENBQVJFLFFBQVE7RUFBRUMsU0FBUyxHQUFBSCxNQUFBLENBQVRHLFNBQVM7RUFBRUMsTUFBTSxHQUFBSixNQUFBLENBQU5JLE1BQU07RUFBRUMsT0FBTyxHQUFBTCxNQUFBLENBQVBLLE9BQU87RUFBRUMsZUFBZSxHQUFBTixNQUFBLENBQWZNLGVBQWU7RUFBRUMsV0FBVyxHQUFBUCxNQUFBLENBQVhPLFdBQVc7O0FBRTFFO0FBQ0EsSUFBTUMsSUFBSSxHQUFHLFNBQVBBLElBQUlBLENBQUFDLElBQUE7RUFBQSxJQUFNQyxJQUFJLEdBQUFELElBQUEsQ0FBSkMsSUFBSTtJQUFFQyxTQUFTLEdBQUFGLElBQUEsQ0FBVEUsU0FBUztJQUFLQyxLQUFLLEdBQUFDLHdCQUFBLENBQUFKLElBQUEsRUFBQUssU0FBQTtFQUFBLG9CQUNyQ2IsS0FBQSxDQUFBYyxhQUFBLFFBQUFDLFFBQUE7SUFDSUMsS0FBSyxFQUFDLDRCQUE0QjtJQUNsQ0MsT0FBTyxFQUFDLFdBQVc7SUFDbkJDLElBQUksRUFBQyxNQUFNO0lBQ1hDLE1BQU0sRUFBQyxjQUFjO0lBQ3JCQyxXQUFXLEVBQUMsR0FBRztJQUNmQyxhQUFhLEVBQUMsT0FBTztJQUNyQkMsY0FBYyxFQUFDLE9BQU87SUFDdEJaLFNBQVMsRUFBRUE7RUFBVSxHQUNqQkMsS0FBSyxHQUVSRixJQUNBLENBQUM7QUFBQSxDQUNUO0FBRUQsSUFBTWMsS0FBSyxHQUFHO0VBQ1ZDLFNBQVMsZUFBRXhCLEtBQUEsQ0FBQWMsYUFBQTtJQUFNVyxDQUFDLEVBQUM7RUFBeUIsQ0FBQyxDQUFDO0VBQzlDQyxVQUFVLGVBQUUxQixLQUFBLENBQUFjLGFBQUE7SUFBTVcsQ0FBQyxFQUFDO0VBQW9JLENBQUUsQ0FBQztFQUMzSkUsS0FBSyxlQUFFM0IsS0FBQSxDQUFBYyxhQUFBLHlCQUFHZCxLQUFBLENBQUFjLGFBQUE7SUFBUWMsRUFBRSxFQUFDLElBQUk7SUFBQ0MsRUFBRSxFQUFDLElBQUk7SUFBQ0MsQ0FBQyxFQUFDO0VBQUksQ0FBQyxDQUFDLGVBQUE5QixLQUFBLENBQUFjLGFBQUE7SUFBVWlCLE1BQU0sRUFBQztFQUFrQixDQUFDLENBQUksQ0FBQztFQUNuRkMsWUFBWSxlQUFFaEMsS0FBQSxDQUFBYyxhQUFBLHlCQUFHZCxLQUFBLENBQUFjLGFBQUE7SUFBTVcsQ0FBQyxFQUFDO0VBQVcsQ0FBQyxDQUFDLGVBQUF6QixLQUFBLENBQUFjLGFBQUE7SUFBTVcsQ0FBQyxFQUFDO0VBQWEsQ0FBQyxDQUFDLGVBQUF6QixLQUFBLENBQUFjLGFBQUE7SUFBTVcsQ0FBQyxFQUFDO0VBQTBELENBQUMsQ0FBSSxDQUFDO0VBQ3JJUSxJQUFJLGVBQUVqQyxLQUFBLENBQUFjLGFBQUE7SUFBTVcsQ0FBQyxFQUFDO0VBQW9DLENBQUMsQ0FBQztFQUNwRFMsU0FBUyxlQUFFbEMsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUFnQixDQUFDLENBQUM7RUFDckNVLFdBQVcsZUFBRW5DLEtBQUEsQ0FBQWMsYUFBQTtJQUFNVyxDQUFDLEVBQUM7RUFBYyxDQUFDLENBQUM7RUFDckNXLFlBQVksZUFBRXBDLEtBQUEsQ0FBQWMsYUFBQTtJQUFNVyxDQUFDLEVBQUM7RUFBZSxDQUFDLENBQUM7RUFDdkNZLE1BQU0sZUFBRXJDLEtBQUEsQ0FBQWMsYUFBQSx5QkFBR2QsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUFnRCxDQUFDLENBQUMsZUFBQXpCLEtBQUEsQ0FBQWMsYUFBQTtJQUFRYyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxDQUFDLEVBQUM7RUFBRyxDQUFDLENBQUksQ0FBQztFQUN4R1EsUUFBUSxlQUFFdEMsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUF3akIsQ0FBRSxDQUFDO0VBQzdrQmMsT0FBTyxlQUFFdkMsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUFvRCxDQUFFLENBQUM7RUFDeEVlLE1BQU0sZUFBRXhDLEtBQUEsQ0FBQWMsYUFBQSx5QkFBR2QsS0FBQSxDQUFBYyxhQUFBO0lBQVFjLEVBQUUsRUFBQyxJQUFJO0lBQUNDLEVBQUUsRUFBQyxJQUFJO0lBQUNDLENBQUMsRUFBQztFQUFHLENBQUMsQ0FBQyxlQUFBOUIsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUFnQixDQUFDLENBQUksQ0FBQztFQUN4RWdCLGNBQWMsZUFBRXpDLEtBQUEsQ0FBQWMsYUFBQTtJQUFNVyxDQUFDLEVBQUM7RUFBMkMsQ0FBQyxDQUFDO0VBQ3JFaUIsR0FBRyxlQUFFMUMsS0FBQSxDQUFBYyxhQUFBLHlCQUFHZCxLQUFBLENBQUFjLGFBQUE7SUFBTTZCLEVBQUUsRUFBQyxJQUFJO0lBQUNDLEVBQUUsRUFBQyxJQUFJO0lBQUNDLEVBQUUsRUFBQyxJQUFJO0lBQUNDLEVBQUUsRUFBQztFQUFJLENBQUMsQ0FBQyxlQUFBOUMsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUF3SixDQUFDLENBQUksQ0FBQztFQUNyTnNCLENBQUMsZUFBRS9DLEtBQUEsQ0FBQWMsYUFBQTtJQUFNVyxDQUFDLEVBQUM7RUFBc0IsQ0FBQyxDQUFDO0VBQ25DdUIsSUFBSSxlQUFFaEQsS0FBQSxDQUFBYyxhQUFBO0lBQVNpQixNQUFNLEVBQUM7RUFBZ0csQ0FBQyxDQUFDO0VBQ3hIa0IsU0FBUyxlQUFFakQsS0FBQSxDQUFBYyxhQUFBLHlCQUFHZCxLQUFBLENBQUFjLGFBQUE7SUFBTVcsQ0FBQyxFQUFDO0VBQW9ELENBQUMsQ0FBQyxlQUFBekIsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUFVLENBQUMsQ0FBQyxlQUFBekIsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUFxRCxDQUFDLENBQUMsZUFBQXpCLEtBQUEsQ0FBQWMsYUFBQTtJQUFNVyxDQUFDLEVBQUM7RUFBYyxDQUFDLENBQUksQ0FBQztFQUMzTHlCLEtBQUssZUFBRWxELEtBQUEsQ0FBQWMsYUFBQTtJQUFVaUIsTUFBTSxFQUFDO0VBQWdCLENBQUMsQ0FBQztFQUMxQ29CLEtBQUssZUFBRW5ELEtBQUEsQ0FBQWMsYUFBQSx5QkFBR2QsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUFTLENBQUMsQ0FBQyxlQUFBekIsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUF1QyxDQUFDLENBQUMsZUFBQXpCLEtBQUEsQ0FBQWMsYUFBQTtJQUFNVyxDQUFDLEVBQUM7RUFBb0MsQ0FBQyxDQUFJLENBQUM7RUFDaEkyQixJQUFJLGVBQUVwRCxLQUFBLENBQUFjLGFBQUEseUJBQUdkLEtBQUEsQ0FBQWMsYUFBQTtJQUFRYyxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxDQUFDLEVBQUM7RUFBRyxDQUFDLENBQUMsZUFBQTlCLEtBQUEsQ0FBQWMsYUFBQTtJQUFRYyxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUMsR0FBRztJQUFDQyxDQUFDLEVBQUM7RUFBRyxDQUFDLENBQUMsZUFBQTlCLEtBQUEsQ0FBQWMsYUFBQTtJQUFRYyxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxDQUFDLEVBQUM7RUFBRyxDQUFDLENBQUMsZUFBQTlCLEtBQUEsQ0FBQWMsYUFBQTtJQUFRYyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxDQUFDLEVBQUM7RUFBRyxDQUFDLENBQUMsZUFBQTlCLEtBQUEsQ0FBQWMsYUFBQTtJQUFRYyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUMsR0FBRztJQUFDQyxDQUFDLEVBQUM7RUFBRyxDQUFDLENBQUMsZUFBQTlCLEtBQUEsQ0FBQWMsYUFBQTtJQUFRYyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUMsSUFBSTtJQUFDQyxDQUFDLEVBQUM7RUFBRyxDQUFDLENBQUksQ0FBQztFQUNsTXVCLFNBQVMsZUFBRXJELEtBQUEsQ0FBQWMsYUFBQSx5QkFBR2QsS0FBQSxDQUFBYyxhQUFBO0lBQU1XLENBQUMsRUFBQztFQUEwRSxDQUFDLENBQUMsZUFBQXpCLEtBQUEsQ0FBQWMsYUFBQTtJQUFNVyxDQUFDLEVBQUM7RUFBd0UsQ0FBQyxDQUFJLENBQUM7RUFDeEw2QixRQUFRLGVBQUV0RCxLQUFBLENBQUFjLGFBQUEseUJBQUdkLEtBQUEsQ0FBQWMsYUFBQTtJQUFNVyxDQUFDLEVBQUM7RUFBdUUsQ0FBQyxDQUFDLGVBQUF6QixLQUFBLENBQUFjLGFBQUE7SUFBVWlCLE1BQU0sRUFBQztFQUFnQixDQUFDLENBQUMsZUFBQS9CLEtBQUEsQ0FBQWMsYUFBQTtJQUFNNkIsRUFBRSxFQUFDLElBQUk7SUFBQ0MsRUFBRSxFQUFDLEdBQUc7SUFBQ0MsRUFBRSxFQUFDLElBQUk7SUFBQ0MsRUFBRSxFQUFDO0VBQUksQ0FBQyxDQUFDLGVBQUE5QyxLQUFBLENBQUFjLGFBQUE7SUFBTTZCLEVBQUUsRUFBQyxJQUFJO0lBQUNDLEVBQUUsRUFBQyxHQUFHO0lBQUNDLEVBQUUsRUFBQyxJQUFJO0lBQUNDLEVBQUUsRUFBQztFQUFJLENBQUMsQ0FBQyxlQUFBOUMsS0FBQSxDQUFBYyxhQUFBO0lBQU02QixFQUFFLEVBQUMsSUFBSTtJQUFDQyxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUMsR0FBRztJQUFDQyxFQUFFLEVBQUM7RUFBRyxDQUFDLENBQUk7QUFDeFAsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBLElBQU1TLFVBQVUsR0FBRyxDQUNmO0VBQ0lDLEVBQUUsRUFBRSxZQUFZO0VBQUVDLElBQUksRUFBRSxPQUFPO0VBQUVDLEtBQUssRUFBRSxhQUFhO0VBQUVDLFNBQVMsRUFBRSxlQUFlO0VBQ2pGQyxTQUFTLEVBQUUsK0NBQStDO0VBQzFEQyxVQUFVLEVBQUUsQ0FDUjtJQUFFTCxFQUFFLEVBQUUsSUFBSTtJQUFFQyxJQUFJLEVBQUUsTUFBTTtJQUFFSyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUM7SUFBRUMsUUFBUSxFQUFFLE9BQU87SUFBRUMsU0FBUyxFQUFFLE9BQU87SUFBRUMsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSTtFQUFFLENBQUMsRUFDaEw7SUFBRVQsRUFBRSxFQUFFLE1BQU07SUFBRUMsSUFBSSxFQUFFLE1BQU07SUFBRUssSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDO0lBQUVDLFFBQVEsRUFBRSxPQUFPO0lBQUVDLFNBQVMsRUFBRSxPQUFPO0lBQUVDLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUk7RUFBRSxDQUFDO0FBRTlMLENBQUMsRUFDRDtFQUNJVCxFQUFFLEVBQUUsWUFBWTtFQUFFQyxJQUFJLEVBQUUsT0FBTztFQUFFQyxLQUFLLEVBQUUsZUFBZTtFQUFFQyxTQUFTLEVBQUUsaUJBQWlCO0VBQ3JGQyxTQUFTLEVBQUUsK0NBQStDO0VBQzFEQyxVQUFVLEVBQUUsQ0FDUjtJQUFFTCxFQUFFLEVBQUUsTUFBTTtJQUFFQyxJQUFJLEVBQUUsTUFBTTtJQUFFSyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQztJQUFFQyxRQUFRLEVBQUUsS0FBSztJQUFFQyxTQUFTLEVBQUUsT0FBTztJQUFFQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUk7RUFBRSxDQUFDLEVBQ2xYO0lBQUVULEVBQUUsRUFBRSxNQUFNO0lBQUVDLElBQUksRUFBRSxNQUFNO0lBQUVLLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDO0lBQUVDLFFBQVEsRUFBRSxLQUFLO0lBQUVDLFNBQVMsRUFBRSxPQUFPO0lBQUVDLFFBQVEsRUFBRSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUk7RUFBRSxDQUFDO0FBRXZNLENBQUMsRUFDRDtFQUNJVCxFQUFFLEVBQUUsVUFBVTtFQUFFQyxJQUFJLEVBQUUsS0FBSztFQUFFQyxLQUFLLEVBQUUsZ0JBQWdCO0VBQUVDLFNBQVMsRUFBRSxrQkFBa0I7RUFDbkZDLFNBQVMsRUFBRSwrQ0FBK0M7RUFDMURDLFVBQVUsRUFBRSxDQUNSO0lBQUVMLEVBQUUsRUFBRSxPQUFPO0lBQUVDLElBQUksRUFBRSxPQUFPO0lBQUVLLElBQUksRUFBRSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUM7SUFBRUMsUUFBUSxFQUFFLEtBQUs7SUFBRUMsU0FBUyxFQUFFLE9BQU87SUFBRUMsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFVBQVU7RUFBRSxDQUFDLEVBQzVTO0lBQUVULEVBQUUsRUFBRSxPQUFPO0lBQUVDLElBQUksRUFBRSxPQUFPO0lBQUVLLElBQUksRUFBRSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUM7SUFBRUMsUUFBUSxFQUFFLEtBQUs7SUFBRUMsU0FBUyxFQUFFLE9BQU87SUFBRUMsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJO0VBQUUsQ0FBQztBQUUxSyxDQUFDLEVBQ0Q7RUFDSVQsRUFBRSxFQUFFLE9BQU87RUFBRUMsSUFBSSxFQUFFLEtBQUs7RUFBRUMsS0FBSyxFQUFFLGFBQWE7RUFBRUMsU0FBUyxFQUFFLGVBQWU7RUFDMUVDLFNBQVMsRUFBRSwrQ0FBK0M7RUFDMURDLFVBQVUsRUFBRSxDQUNSO0lBQUVMLEVBQUUsRUFBRSxJQUFJO0lBQUVDLElBQUksRUFBRSxNQUFNO0lBQUVLLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQztJQUFFQyxRQUFRLEVBQUUsS0FBSztJQUFFQyxTQUFTLEVBQUUsT0FBTztJQUFFQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSTtFQUFFLENBQUMsRUFDdk47SUFBRVQsRUFBRSxFQUFFLE1BQU07SUFBRUMsSUFBSSxFQUFFLE1BQU07SUFBRUssSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUM7SUFBRUMsUUFBUSxFQUFFLEtBQUs7SUFBRUMsU0FBUyxFQUFFLE9BQU87SUFBRUMsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUk7RUFBRSxDQUFDO0FBRXpLLENBQUM7QUFDRDtBQUNBO0VBQ0lULEVBQUUsRUFBRSxhQUFhO0VBQUVDLElBQUksRUFBRSxLQUFLO0VBQUVDLEtBQUssRUFBRSxhQUFhO0VBQUVDLFNBQVMsRUFBRSxlQUFlO0VBQ2hGQyxTQUFTLEVBQUUsMENBQTBDO0VBQ3JEQyxVQUFVLEVBQUUsQ0FDUjtJQUFFTCxFQUFFLEVBQUUsSUFBSTtJQUFFQyxJQUFJLEVBQUUsTUFBTTtJQUFFSyxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLENBQUM7SUFBRUMsUUFBUSxFQUFFLEtBQUs7SUFBRUMsU0FBUyxFQUFFLE9BQU87SUFBRUMsUUFBUSxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU07RUFBRSxDQUFDLEVBQy9PO0lBQUVULEVBQUUsRUFBRSxNQUFNO0lBQUVDLElBQUksRUFBRSxNQUFNO0lBQUVLLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztJQUFFQyxRQUFRLEVBQUUsS0FBSztJQUFFQyxTQUFTLEVBQUUsT0FBTztJQUFFQyxRQUFRLEVBQUUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU07RUFBRSxDQUFDO0FBRXJRLENBQUMsRUFDRDtFQUNJVCxFQUFFLEVBQUUsYUFBYTtFQUFFQyxJQUFJLEVBQUUsTUFBTTtFQUFFQyxLQUFLLEVBQUUsYUFBYTtFQUFFQyxTQUFTLEVBQUUsZUFBZTtFQUNqRkMsU0FBUyxFQUFFLDhDQUE4QztFQUN6REMsVUFBVSxFQUFFLENBQ1I7SUFBRUwsRUFBRSxFQUFFLFNBQVM7SUFBRUMsSUFBSSxFQUFFLE1BQU07SUFBRUssSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQztJQUFFQyxRQUFRLEVBQUUsS0FBSztJQUFFQyxTQUFTLEVBQUUsT0FBTztJQUFFQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQUk7RUFBRSxDQUFDLEVBQ3BSO0lBQUVULEVBQUUsRUFBRSxXQUFXO0lBQUVDLElBQUksRUFBRSxPQUFPO0lBQUVLLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7SUFBRUMsUUFBUSxFQUFFLEtBQUs7SUFBRUMsU0FBUyxFQUFFLE9BQU87SUFBRUMsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxPQUFPO0VBQUUsQ0FBQztBQUVsUyxDQUFDLEVBQ0Q7RUFDSVQsRUFBRSxFQUFFLFlBQVk7RUFBRUMsSUFBSSxFQUFFLE1BQU07RUFBRUMsS0FBSyxFQUFFLGNBQWM7RUFBRUMsU0FBUyxFQUFFLGdCQUFnQjtFQUNsRkMsU0FBUyxFQUFFLCtCQUErQjtFQUMxQ0MsVUFBVSxFQUFFLENBQ1I7SUFBRUwsRUFBRSxFQUFFLElBQUk7SUFBRUMsSUFBSSxFQUFFLE9BQU87SUFBRUssSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztJQUFFQyxRQUFRLEVBQUUsS0FBSztJQUFFQyxTQUFTLEVBQUUsT0FBTztJQUFFQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUs7RUFBRSxDQUFDLEVBQ3pLO0lBQUVULEVBQUUsRUFBRSxNQUFNO0lBQUVDLElBQUksRUFBRSxPQUFPO0lBQUVLLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUM7SUFBRUMsUUFBUSxFQUFFLEtBQUs7SUFBRUMsU0FBUyxFQUFFLE9BQU87SUFBRUMsUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssRUFB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QUFJLEVBQUMsS0FBSyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxHQUFHLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLElBQUksQ0FBQztFQUNySSxJQUFNQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxLQUFLLEVBQUMsS0FBSyxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLElBQUksRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsTUFBTSxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxJQUFJLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsSUFBSSxDQUFDO0VBQ3hSLElBQUlELEtBQUssQ0FBQ0UsSUFBSSxDQUFDLFVBQUFDLENBQUM7SUFBQSxPQUFJOUQsSUFBSSxDQUFDK0QsUUFBUSxDQUFDRCxDQUFDLENBQUM7RUFBQSxFQUFDLEVBQUUsT0FBTyxJQUFJO0VBQ2xELElBQUlGLEtBQUssQ0FBQ0MsSUFBSSxDQUFDLFVBQUFDLENBQUM7SUFBQSxPQUFJOUQsSUFBSSxDQUFDK0QsUUFBUSxDQUFDRCxD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</script></head>
<body class="text-slate-800 antialiased select-none touch-manipulation h-screen overflow-hidden relative font-sans bg-surface">
    <div id="root" class="h-full w-full"><div class="h-full w-full bg-surface relative max-w-md mx-auto shadow-2xl overflow-hidden"><div class="h-full flex flex-col bg-surface overflow-hidden relative"><div class="fixed top-0 left-0 right-0 z-30 bg-white shadow-sm transition-transform duration-300 translate-y-0"><div class="max-w-md mx-auto w-full"><div class="w-full bg-white pt-safe pb-2 shadow-soft relative"><div class="relative"><div class="w-full"><div class="w-full relative overflow-hidden bg-white transition-opacity duration-300 opacity-100 animate-fade-in"><div class="px-5 pt-4 pb-6"><div class="flex justify-between items-center mb-2"><button class="bg-slate-100 text-slate-500 hover:text-primary hover:bg-slate-200 transition-colors text-[10px] font-bold px-2 py-1 rounded-md tracking-wider border border-slate-200 flex items-center gap-1">ホーム駅を編集 <span class="text-[8px]">&gt;</span></button></div><div class="flex justify-between items-end mb-6"><div class="flex-1 min-w-0 pr-2"><h1 class="text-3xl font-bold text-slate-800 leading-tight break-words mb-1.5 cursor-pointer">船橋</h1><div class="flex flex-wrap items-center gap-1.5 text-slate-500"><span class="text-[10px] font-bold px-1.5 py-0.5 rounded text-white bg-blue-600">総武線快速</span><span class="text-xs font-bold text-slate-700">東京方面</span><span class="text-[10px] font-bold bg-slate-100 px-1.5 py-0.5 rounded text-slate-400 border border-slate-200">3・4番線</span></div></div><div class="text-right flex-none"><div class="tabular-nums tracking-tighter leading-none transition-colors duration-500 text-slate-800 flex items-baseline justify-end"><span class="text-5xl font-bold">3</span><span class="text-sm font-bold ml-0.5 mr-2 opacity-60">分</span><span class="text-5xl font-bold">41</span></div><div class="text-xs font-bold text-slate-400 mt-1">次発 <span class="text-slate-600 text-sm">17:35</span></div></div></div><div class="grid grid-cols-2 gap-3"><button class="flex items-center justify-center gap-1.5 py-3 px-2 bg-slate-700 hover:bg-slate-800 active:bg-slate-900 rounded-xl text-xs font-bold text-white transition-colors shadow-sm active:scale-95"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 h-3.5"><path d="M8 3 4 7l4 4M4 7h16M16 21l4-4-4-4M20 17H4"></path></svg>逆方向を見る</button><button class="flex items-center justify-center gap-1.5 py-3 px-2 bg-white hover:bg-slate-50 active:bg-slate-100 rounded-xl text-xs font-bold text-slate-700 transition-colors border border-slate-200 shadow-sm active:scale-95"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 h-3.5 text-slate-400"><g><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" x2="8" y1="13" y2="13"></line><line x1="16" x2="8" y1="17" y2="17"></line><line x1="10" x2="8" y1="9" y2="9"></line></g></svg>詳細を見る</button></div></div></div></div></div><div class="flex justify-center gap-1.5 pb-3 mt-1"><button class="h-1.5 rounded-full transition-all w-5 bg-primary"></button><button class="h-1.5 rounded-full transition-all w-1.5 bg-slate-200"></button></div></div></div></div><div class="flex-1 overflow-y-auto px-4 pb-32 h-full" style="padding-top: 265px;"><div class="-mx-4 px-4 py-2 mb-2"><div class="flex p-1 bg-slate-200/50 rounded-xl relative"><button class="flex-1 relative z-10 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all duration-300 text-slate-400 hover:text-slate-600"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 h-3.5 "><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg> よく使う駅</button><button class="flex-1 relative z-10 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all duration-300 text-slate-800">最近見た駅</button><div class="absolute top-1 bottom-1 w-[calc(50%-4px)] bg-white rounded-lg shadow-sm transition-all duration-300 ease-out left-[calc(50%+2px)]"></div></div></div><div class="space-y-3 relative z-0"><div class="w-full bg-white p-4 rounded-2xl shadow-sm border border-slate-100 mb-3 hover:shadow-md transition-all active:scale-[0.99]"><div class="flex justify-between items-start mb-3"><div class="flex items-center gap-3"><div class="w-1.5 h-10 rounded-full bg-blue-600"></div><div><div class="font-bold text-slate-800 text-lg leading-tight">船橋</div><div class="text-xs font-bold text-blue-600 mt-0.5">総武線快速</div></div></div><button class="p-2 rounded-full transition-colors text-slate-200 hover:text-slate-300"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 "><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></button></div><div class="flex gap-2 overflow-x-auto pb-1 no-scrollbar"><button class="flex-1 min-w-[120px] flex items-center justify-between bg-slate-50 border border-slate-100 rounded-xl py-3 px-3 text-left transition-all hover:bg-indigo-50 hover:border-indigo-100 active:bg-indigo-100 group relative overflow-hidden"><div class="min-w-0 z-10"><div class="text-sm font-bold text-slate-600 group-hover:text-primary">東京方面</div></div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 text-slate-300 group-hover:text-primary flex-shrink-0 ml-1 z-10"><path d="m9 18 6-6-6-6"></path></svg></button><button class="flex-1 min-w-[120px] flex items-center justify-between bg-slate-50 border border-slate-100 rounded-xl py-3 px-3 text-left transition-all hover:bg-indigo-50 hover:border-indigo-100 active:bg-indigo-100 group relative overflow-hidden"><div class="min-w-0 z-10"><div class="text-sm font-bold text-slate-600 group-hover:text-primary">千葉方面</div></div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 text-slate-300 group-hover:text-primary flex-shrink-0 ml-1 z-10"><path d="m9 18 6-6-6-6"></path></svg></button></div></div></div></div><div class="fixed bottom-6 left-0 right-0 z-40 flex justify-center items-center gap-3 pointer-events-none px-6"><button class="pointer-events-auto w-auto min-w-[140px] flex items-center justify-center gap-2 bg-slate-800 text-white font-bold text-sm py-3.5 px-6 rounded-full shadow-float hover:bg-slate-700 active:scale-95 transition-all"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-white/90"><g><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></g></svg>駅・路線を探す</button><button class="pointer-events-auto flex-none w-12 h-12 flex items-center justify-center bg-white/90 backdrop-blur-xl border border-white/40 text-slate-600 rounded-full shadow-float hover:bg-white active:scale-95 transition-all ring-1 ring-black/5"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-slate-500"><g><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"></path><path d="M21 21v-5h-5"></path></g></svg></button></div></div></div></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo, useLayoutEffect, useCallback } = React;

        // --- Icons (High Quality Lucide Icons) ---
        const Icon = ({ path, className, ...props }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className} 
                {...props}
            >
                {path}
            </svg>
        );
        
        const Icons = {
            ArrowLeft: <path d="m12 19-7-7 7-7 M19 12H5"/>,
            TrainFront: <path d="M8 3.1V7a4 4 0 0 0 8 0V3.1M2 11h20M12 3v8M9 22H7a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2h-2M15 15h2M7 15h2" />, 
            Clock: <g><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></g>,
            ExternalLink: <g><path d="M15 3h6v6"/><path d="M10 14 21 3"/><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/></g>,
            Moon: <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/>,
            ChevronUp: <path d="m18 15-6-6-6 6"/>,
            ChevronDown: <path d="m6 9 6 6 6-6"/>,
            ChevronRight: <path d="m9 18 6-6-6-6"/>,
            MapPin: <g><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></g>,
            Settings: <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />,
            History: <path d="M3 12a9 9 0 1 0 9 9 9.75 9.75 0 0 0-6.74 2.74L3 12" />,
            Search: <g><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></g>,
            ArrowRightLeft: <path d="M8 3 4 7l4 4M4 7h16M16 21l4-4-4-4M20 17H4"/>,
            Pin: <g><line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/></g>,
            X: <path d="M18 6 6 18M6 6 18 18"/>,
            Star: <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>,
            RefreshCw: <g><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M21 21v-5h-5"/></g>,
            Check: <polyline points="20 6 9 17 4 12"/>,
            Trash: <g><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></g>,
            Grip: <g><circle cx="9" cy="12" r="1"/><circle cx="9" cy="5" r="1"/><circle cx="9" cy="19" r="1"/><circle cx="15" cy="12" r="1"/><circle cx="15" cy="5" r="1"/><circle cx="15" cy="19" r="1"/></g>,
            ListStart: <g><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Z"/></g>,
            FileText: <g><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></g>
        };

        // --- Data: Line & Schedule Configurations ---
        
        // 1. 各路線の基本設定（ID, 色, 名前, 方面, 駅）
        const LINES_DATA = [
            {
                id: 'sobu_rapid', name: '総武線快速', color: 'bg-blue-600', textColor: 'text-blue-600',
                statusUrl: 'https://transit.yahoo.co.jp/traininfo/area/4/',
                directions: [
                    { id: 'up', name: '東京方面', dest: ['東京', '横浜', '久里浜', '逗子'], platform: '3・4番線', lastTrain: '23:58', stations: ['千葉', '稲毛', '津田沼', '船橋', '市川', '新小岩', '錦糸町', '馬喰町', '新日本橋', '東京'] },
                    { id: 'down', name: '千葉方面', dest: ['千葉', '成田空港', '君津', '上総一ノ宮'], platform: '1・2番線', lastTrain: '00:35', stations: ['東京', '新日本橋', '馬喰町', '錦糸町', '新小岩', '市川', '船橋', '津田沼', '稲毛', '千葉'] }
                ]
            },
            {
                id: 'sobu_local', name: '総武線各停', color: 'bg-yellow-400', textColor: 'text-yellow-600',
                statusUrl: 'https://transit.yahoo.co.jp/traininfo/area/4/',
                directions: [
                    { id: 'west', name: '新宿方面', dest: ['三鷹', '中野', '西船橋'], platform: '1番線', lastTrain: '00:42', stations: ['千葉', '西千葉', '稲毛', '新検見川', '幕張', '幕張本郷', '津田沼', '東船橋', '船橋', '西船橋', '下総中山', '本八幡', '市川', '小岩', '新小岩', '平井', '亀戸', '錦糸町', '両国', '浅草橋', '秋葉原', '御茶ノ水', '水道橋', '飯田橋', '市ケ谷', '四ツ谷', '信濃町', '千駄ケ谷', '代々木', '新宿', '大久保', '東中野', '中野', '高円寺', '阿佐ケ谷', '荻窪', '西荻窪', '吉祥寺', '三鷹'] },
                    { id: 'east', name: '千葉方面', dest: ['千葉', '津田沼', '西船橋'], platform: '2番線', lastTrain: '00:50', stations: ['三鷹', '新宿', '御茶ノ水', '秋葉原', '錦糸町', '新小岩', '市川', '本八幡', '西船橋', '船橋', '津田沼', '幕張', '千葉'] }
                ]
            },
            {
                id: 'yamanote', name: '山手線', color: 'bg-emerald-500', textColor: 'text-emerald-600',
                statusUrl: 'https://transit.yahoo.co.jp/traininfo/area/4/',
                directions: [
                    { id: 'outer', name: '渋谷・新宿', dest: ['渋谷・新宿方面', '池袋行き'], platform: '2番線', lastTrain: '00:18', stations: ['品川', '大崎', '五反田', '目黒', '恵比寿', '渋谷', '原宿', '代々木', '新宿', '新大久保', '高田馬場', '池袋', '大塚', '巣鴨', '駒込', '田端', '西日暮里', '日暮里', '鶯谷', '上野', '御徒町', '秋葉原', '神田', '東京', '有楽町', '新橋', '浜松町', '田町', '高輪ゲートウェイ'] },
                    { id: 'inner', name: '上野・池袋', dest: ['上野・池袋方面', '大崎行き'], platform: '3番線', lastTrain: '00:25', stations: ['東京', '神田', '秋葉原', '御徒町', '上野', '池袋', '新宿', '渋谷', '品川'] }
                ]
            },
            {
                id: 'keiyo', name: '京葉線', color: 'bg-rose-500', textColor: 'text-rose-500',
                statusUrl: 'https://transit.yahoo.co.jp/traininfo/area/4/',
                directions: [
                    { id: 'up', name: '東京方面', dest: ['東京'], platform: '2番線', lastTrain: '23:45', stations: ['蘇我', '千葉みなと', '稲毛海岸', '検見川浜', '海浜幕張', '新習志野', '南船橋', '二俣新町', '市川塩浜', '新浦安', '舞浜', '葛西臨海公園', '新木場', '潮見', '越中島', '八丁堀', '東京'] },
                    { id: 'down', name: '蘇我方面', dest: ['蘇我', '海浜幕張', '新習志野'], platform: '1番線', lastTrain: '00:10', stations: ['東京', '八丁堀', '新木場', '舞浜', '新浦安', '南船橋', '海浜幕張', '蘇我'] }
                ]
            },
            // --- 追加路線 ---
            {
                id: 'keisei_main', name: '京成線', color: 'bg-blue-500', textColor: 'text-blue-500',
                statusUrl: 'https://www.keisei.co.jp/info/index.html',
                directions: [
                    { id: 'up', name: '上野方面', dest: ['京成上野', '押上', '西馬込', '羽田空港'], platform: '2番線', lastTrain: '23:50', stations: ['京成成田', '京成佐倉', '勝田台', '八千代台', '実籾', '京成大久保', '京成津田沼', '谷津', '京成船橋', '海神', '京成西船', '東中山', '京成八幡', '京成高砂', '青砥', '日暮里', '京成上野'] },
                    { id: 'down', name: '成田方面', dest: ['成田空港', '京成成田', '京成佐倉', '京成津田沼'], platform: '1番線', lastTrain: '00:20', stations: ['京成上野', '日暮里', '青砥', '京成高砂', '京成八幡', '東中山', '京成西船', '海神', '京成船橋', '谷津', '京成津田沼', '京成大久保', '実籾', '八千代台', '勝田台', '京成佐倉', '京成成田', '成田空港'] }
                ]
            },
            {
                id: 'shin_keisei', name: '新京成線', color: 'bg-pink-400', textColor: 'text-pink-500',
                statusUrl: 'https://www.shinkeisei.co.jp/traffic/status/',
                directions: [
                    { id: 'matsudo', name: '松戸方面', dest: ['松戸', 'くぬぎ山'], platform: '1番線', lastTrain: '00:15', stations: ['京成津田沼', '新津田沼', '前原', '薬園台', '習志野', '北習志野', '高根木戸', '高根公団', '滝不動', '三咲', '二和向台', '鎌ヶ谷大仏', '初富', '新鎌ヶ谷', '北初富', 'くぬぎ山', '元山', '五香', '常盤平', '八柱', 'みのり台', '松戸新田', '上本郷', '松戸'] },
                    { id: 'tsudanuma', name: '津田沼方面', dest: ['京成津田沼', '新津田沼'], platform: '2番線', lastTrain: '00:10', stations: ['松戸', '上本郷', '松戸新田', 'みのり台', '八柱', '常盤平', '五香', '元山', 'くぬぎ山', '北初富', '新鎌ヶ谷', '初富', '鎌ヶ谷大仏', '二和向台', '三咲', '滝不動', '高根公団', '高根木戸', '北習志野', '習志野', '薬園台', '前原', '新津田沼', '京成津田沼'] }
                ]
            },
            {
                id: 'toyo_rapid', name: '東葉高速', color: 'bg-green-500', textColor: 'text-green-600',
                statusUrl: 'https://www.toyokosoku.co.jp/',
                directions: [
                    { id: 'up', name: '西船橋方面', dest: ['中野', '西船橋'], platform: '1番線', lastTrain: '23:40', stations: ['東葉勝田台', '村上', '八千代中央', '八千代緑が丘', '船橋日大前', '北習志野', '飯山満', '東海神', '西船橋'] },
                    { id: 'down', name: '勝田台方面', dest: ['東葉勝田台', '八千代緑が丘'], platform: '2番線', lastTrain: '00:12', stations: ['西船橋', '東海神', '飯山満', '北習志野', '船橋日大前', '八千代緑が丘', '八千代中央', '村上', '東葉勝田台'] }
                ]
            }
        ];

        const ALL_STATIONS = Array.from(new Set(LINES_DATA.flatMap(l => l.directions.flatMap(d => d.stations)))).sort();
        const DEFAULT_ROUTES = [
            { station: '船橋', lineId: 'sobu_rapid' },
            { station: '京成船橋', lineId: 'keisei_main' },
            { station: '北習志野', lineId: 'shin_keisei' },
            { station: '西船橋', lineId: 'toyo_rapid' }
        ];
        const MAX_HOME_CONFIGS = 4;

        // 2. 時間帯別ダイヤパターン設定 (Static Schedule Config)
        const SCHEDULE_PATTERNS = {
            default: {
                startHour: 5, endHour: 24,
                rush: { start: 7, end: 9, interval: 4 },
                day: { start: 9, end: 17, interval: 10 },
                evening: { start: 17, end: 21, interval: 6 },
                night: { start: 21, end: 24, interval: 12 },
                baseInterval: 15
            },
            toyo_rapid: {
                startHour: 5, endHour: 24,
                rush: { start: 7, end: 9, interval: 6 },
                day: { start: 9, end: 17, interval: 15 },
                evening: { start: 17, end: 20, interval: 8 },
                night: { start: 20, end: 24, interval: 15 },
                baseInterval: 15
            },
            shin_keisei: {
                startHour: 5, endHour: 24,
                rush: { start: 7, end: 9, interval: 4 },
                day: { start: 9, end: 17, interval: 10 },
                evening: { start: 17, end: 20, interval: 8 },
                night: { start: 20, end: 24, interval: 12 },
                baseInterval: 10
            },
            keisei_main: {
                startHour: 5, endHour: 24,
                rush: { start: 6, end: 9, interval: 3 },
                day: { start: 9, end: 16, interval: 10 },
                evening: { start: 16, end: 20, interval: 5 },
                night: { start: 20, end: 24, interval: 10 },
                baseInterval: 10
            }
        };

        // --- Logic: Schedule Generator ---
        const generateFullDaySchedule = (lineId, dests) => {
            const pattern = SCHEDULE_PATTERNS[lineId] || SCHEDULE_PATTERNS.default;
            const schedule = [];
            const now = new Date();
            
            let currentMinute = 0;
            
            for (let h = pattern.startHour; h <= pattern.endHour; h++) {
                let interval = pattern.baseInterval;
                if (h >= pattern.rush.start && h < pattern.rush.end) interval = pattern.rush.interval;
                else if (h >= pattern.day.start && h < pattern.day.end) interval = pattern.day.interval;
                else if (h >= pattern.evening.start && h < pattern.evening.end) interval = pattern.evening.interval;
                else if (h >= pattern.night.start && h < pattern.night.end) interval = pattern.night.interval;

                let m = (h * 7) % interval; 
                
                while (m < 60) {
                    const d = new Date(now);
                    d.setHours(h);
                    d.setMinutes(m);
                    d.setSeconds(0);
                    d.setMilliseconds(0);

                    const destIndex = (h + m) % dests.length;
                    const dest = dests[destIndex];

                    schedule.push({
                        id: `${lineId}-${h}-${m}`,
                        date: d,
                        dest: dest
                    });
                    
                    m += interval;
                }
            }
            return schedule;
        };


        // --- Helpers ---
        const getLineData = (lineId) => LINES_DATA.find(l => l.id === lineId);
        const getRouteData = (lineId, dirId) => {
            const line = getLineData(lineId);
            const dir = line?.directions.find(d => d.id === dirId);
            return (line && dir) ? { line, dir } : null;
        };
        const getStationArea = (name) => {
            const chiba = ['千葉','船橋','津田沼','幕張','蘇我','浦安','市川','習志野','稲毛','本八幡','西船橋','舞浜','松戸','柏','八千代','勝田台','実籾','大久保','鎌ヶ谷','薬園台','高根','三咲'];
            const tokyo = ['東京','新宿','渋谷','池袋','品川','秋葉原','上野','神田','新橋','浜松町','有楽町','御茶ノ水','四ツ谷','飯田橋','中野','高円寺','荻窪','吉祥寺','三鷹','大崎','五反田','目黒','恵比寿','原宿','代々木','新大久保','高田馬場','大塚','巣鴨','駒込','田端','西日暮里','日暮里','鶯谷','御徒町','錦糸町','亀戸','平井','新小岩','小岩','新木場','葛西臨海公園','馬喰町','新日本橋','押上','青砥','高砂'];
            if (chiba.some(s => name.includes(s))) return '千葉';
            if (tokyo.some(s => name.includes(s))) return '東京';
            return 'その他';
        };
        
        // --- Portal ---
        const ModalPortal = ({ children }) => {
            return ReactDOM.createPortal(children, document.body);
        };

        // --- Shared Components ---
        const FloatingSearchBtn = ({ onClick }) => (
            <div className="fixed bottom-6 left-0 right-0 z-40 flex justify-center items-center gap-3 pointer-events-none px-6">
                <button onClick={onClick} className="pointer-events-auto w-auto min-w-[140px] flex items-center justify-center gap-2 bg-slate-800 text-white font-bold text-sm py-3.5 px-6 rounded-full shadow-float hover:bg-slate-700 active:scale-95 transition-all">
                    <Icon path={Icons.Search} className="w-4 h-4 text-white/90" />駅・路線を探す
                </button>
                <button onClick={() => window.location.reload()} className="pointer-events-auto flex-none w-12 h-12 flex items-center justify-center bg-white/90 backdrop-blur-xl border border-white/40 text-slate-600 rounded-full shadow-float hover:bg-white active:scale-95 transition-all ring-1 ring-black/5">
                    <Icon path={Icons.RefreshCw} className="w-5 h-5 text-slate-500" />
                </button>
            </div>
        );
        
        const FloatingBackBtn = ({ onClick, text, icon }) => (
            <div className="fixed bottom-6 left-0 right-0 z-[110] flex justify-center pointer-events-none">
                <button onClick={onClick} className="pointer-events-auto w-auto min-w-[120px] flex items-center justify-center gap-2 bg-slate-800 text-white font-bold text-sm py-3.5 px-8 rounded-full shadow-float hover:bg-slate-700 active:scale-95 transition-all">
                    {icon && <Icon path={icon} className="w-4 h-4" />}{text}
                </button>
            </div>
        );

        const FloatingActionButtons = ({ onClose, onFavorite, isPinned }) => (
             <div className="fixed bottom-6 left-0 right-0 z-[110] flex justify-center items-center gap-3 pointer-events-none px-6">
                <button onClick={onClose} className="pointer-events-auto w-auto min-w-[120px] flex items-center justify-center gap-2 bg-slate-800 text-white font-bold text-sm py-3.5 px-8 rounded-full shadow-float hover:bg-slate-700 active:scale-95 transition-all">
                    <Icon path={Icons.X} className="w-4 h-4" /> 閉じる
                </button>
                
                <button onClick={onFavorite} className={`pointer-events-auto flex-none w-12 h-12 flex items-center justify-center rounded-full shadow-float transition-all active:scale-95 ${isPinned ? 'bg-yellow-400 text-white' : 'bg-white text-slate-400'}`}>
                    <Icon path={Icons.Star} className={`w-6 h-6 ${isPinned ? 'fill-current' : ''}`} />
                </button>
            </div>
        );


        const Toast = ({ message, show }) => {
            if (!show) return null;
            return (
                <ModalPortal>
                    <div className="fixed top-4 left-0 right-0 z-[200] flex justify-center pointer-events-none">
                        <div className="bg-slate-800/90 backdrop-blur text-white px-5 py-2.5 rounded-full shadow-lg flex items-center gap-2 text-sm font-bold animate-slide-down">
                            <Icon path={Icons.Check} className="w-4 h-4 text-safe" />
                            {message}
                        </div>
                    </div>
                </ModalPortal>
            );
        };
        
        // --- Draggable Drawer Component ---
        const DraggableDrawer = ({ children, isOpen }) => {
            const [isDragging, setIsDragging] = useState(false);
            const [height, setHeight] = useState(120); // Initial peek height
            const [startY, setStartY] = useState(0);
            const [startHeight, setStartHeight] = useState(0);
            
            // Constants
            const MIN_HEIGHT = 120; // Peek height (enough to see "Next Train" title + 1 item hint)
            const MAX_HEIGHT = window.innerHeight * 0.7; // Max expansion

            const onTouchStart = (e) => {
                setIsDragging(true);
                setStartY(e.touches[0].clientY);
                setStartHeight(height);
            };

            const onTouchMove = (e) => {
                if (!isDragging) return;
                const currentY = e.touches[0].clientY;
                const diff = startY - currentY; // Dragging up is positive diff
                const newHeight = Math.min(Math.max(startHeight + diff, MIN_HEIGHT), MAX_HEIGHT);
                setHeight(newHeight);
            };

            const onTouchEnd = () => {
                setIsDragging(false);
                // Snap logic
                if (height > (MAX_HEIGHT - MIN_HEIGHT) / 2 + MIN_HEIGHT) {
                    setHeight(MAX_HEIGHT);
                } else {
                    setHeight(MIN_HEIGHT);
                }
            };

            // Reset when closed
            useEffect(() => {
                if (!isOpen) setHeight(MIN_HEIGHT);
            }, [isOpen]);

            return (
                <div 
                    className="absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-sm-up z-40 transition-all duration-300 ease-out"
                    style={{ 
                        height: `${height}px`, 
                        transition: isDragging ? 'none' : 'height 0.4s cubic-bezier(0.32, 0.72, 0, 1)',
                        // Add a subtle overlay shadow when expanded
                        boxShadow: height > MIN_HEIGHT ? '0 -10px 40px rgba(0,0,0,0.1)' : '0 -4px 20px rgba(0,0,0,0.05)'
                    }}
                >
                    {/* Handle Area */}
                    <div 
                        className="w-full h-8 flex items-center justify-center cursor-grab active:cursor-grabbing touch-none"
                        onTouchStart={onTouchStart}
                        onTouchMove={onTouchMove}
                        onTouchEnd={onTouchEnd}
                    >
                        <div className="w-10 h-1.5 bg-slate-200 rounded-full"></div>
                    </div>
                    
                    {/* Content Area */}
                    <div className="h-full overflow-y-auto px-6 pb-24">
                        {children}
                    </div>
                </div>
            );
        };


        // --- Logic Hooks ---
        const useTrainTimer = (routeData) => {
            const [time, setTime] = useState({ 
                left: { m: '--', s: '--' }, 
                next: '--:--', 
                nextDest: '',
                status: 'normal', 
                color: 'text-slate-800', 
                subsequents: [] 
            });
            
            const routeId = routeData ? `${routeData.line.id}-${routeData.dir.id}` : null;
            
            // Generate STATIC schedule based on line type
            const schedule = useMemo(() => {
                if (!routeId) return [];
                // Use array of destinations
                const dests = Array.isArray(routeData.dir.dest) ? routeData.dir.dest : [routeData.dir.dest];
                return generateFullDaySchedule(routeData.line.id, dests);
            }, [routeId]);
            
            useEffect(() => {
                if (!routeId || schedule.length === 0) return;
                const update = () => {
                    const now = new Date();
                    // Find the next train
                    const targetIndex = schedule.findIndex(s => s.date > now);
                    const target = schedule[targetIndex];

                    if (target) {
                        const diff = Math.floor((target.date - now) / 1000);
                        const m = Math.floor(diff / 60);
                        const s = diff % 60;
                        const timeLeft = { m: m.toString(), s: s.toString().padStart(2,'0') };
                        const nextTime = `${String(target.date.getHours()).padStart(2,'0')}:${String(target.date.getMinutes()).padStart(2,'0')}`;
                        let status = 'normal';
                        let color = 'text-slate-800'; 
                        
                        // 3分切ったら赤くする
                        if (diff < 180) { 
                            status = 'hurry'; 
                            color = 'text-accent';
                        }

                        // Get subsequent trains (next 3 trains)
                        const subTrains = schedule.slice(targetIndex + 1, targetIndex + 4).map(t => {
                            const subDiff = Math.floor((t.date - now) / 60000); // Minutes diff
                            return {
                                time: `${String(t.date.getHours()).padStart(2,'0')}:${String(t.date.getMinutes()).padStart(2,'0')}`,
                                min: subDiff,
                                dest: t.dest
                            };
                        });

                        setTime({ 
                            left: timeLeft, 
                            next: nextTime, 
                            nextDest: target.dest,
                            status, 
                            color, 
                            subsequents: subTrains
                        });
                    } else {
                        setTime({ 
                            left: { m: '--', s: '--' }, 
                            next: '--:--', 
                            nextDest: '',
                            status: 'end', 
                            color: 'text-slate-400', 
                            subsequents: []
                        });
                    }
                };
                update();
                const timer = setInterval(update, 1000);
                return () => clearInterval(timer);
            }, [routeId, schedule]);
            return time;
        };

        // --- View Components ---

        // TimerHeader (used in Carousel)
        const TimerHeader = ({ config, onSwitch, onDetail, isActive, animationClass, onConfig, onStationNameClick }) => {
            const route = config ? getRouteData(config.lineId, config.dirId) : null;
            const timer = useTrainTimer(route);

            // Handle triple click on station name
            const handleStationClick = (e) => {
                if (e.detail === 3 && onStationNameClick) {
                    onStationNameClick();
                }
            };

            if (!route) return <div className="w-full h-32 bg-white/50 rounded-none animate-pulse" />;

            const nextDir = route.line.directions.find(d => d.id !== route.dir.id) || route.line.directions[0];

            return (
                <div className={`w-full relative overflow-hidden bg-white transition-opacity duration-300 ${isActive ? 'opacity-100' : 'opacity-0 pointer-events-none absolute top-0 left-0'} ${isActive ? animationClass : ''}`}>
                    <div className="px-5 pt-4 pb-6">
                        {/* Top Row: HOME label & Edit */}
                        <div className="flex justify-between items-center mb-2">
                             <button onClick={(e) => { e.stopPropagation(); onConfig(); }} className="bg-slate-100 text-slate-500 hover:text-primary hover:bg-slate-200 transition-colors text-[10px] font-bold px-2 py-1 rounded-md tracking-wider border border-slate-200 flex items-center gap-1">
                                ホーム駅を編集 <span className="text-[8px]">&gt;</span>
                            </button>
                        </div>

                        {/* Middle: Station & Timer Grid */}
                        <div className="flex justify-between items-end mb-6">
                            <div className="flex-1 min-w-0 pr-2">
                                <h1 
                                    onClick={handleStationClick} 
                                    className="text-3xl font-bold text-slate-800 leading-tight break-words mb-1.5 cursor-pointer"
                                >
                                    {config.station}
                                </h1>
                                <div className="flex flex-wrap items-center gap-1.5 text-slate-500">
                                    <span className={`text-[10px] font-bold px-1.5 py-0.5 rounded text-white ${route.line.color}`}>{route.line.name}</span>
                                    <span className="text-xs font-bold text-slate-700">{route.dir.name}</span>
                                    <span className="text-[10px] font-bold bg-slate-100 px-1.5 py-0.5 rounded text-slate-400 border border-slate-200">{route.dir.platform}</span>
                                </div>
                            </div>
                            
                            <div className="text-right flex-none">
                                <div className={`tabular-nums tracking-tighter leading-none transition-colors duration-500 ${timer.color} flex items-baseline justify-end`}>
                                    <span className="text-5xl font-bold">{timer.left.m}</span>
                                    <span className="text-sm font-bold ml-0.5 mr-2 opacity-60">分</span>
                                    <span className="text-5xl font-bold">{timer.left.s}</span>
                                </div>
                                <div className="text-xs font-bold text-slate-400 mt-1">
                                    次発 <span className="text-slate-600 text-sm">{timer.next}</span>
                                </div>
                            </div>
                        </div>

                        {/* Bottom: Action Buttons */}
                        <div className="grid grid-cols-2 gap-3">
                             <button 
                                onClick={(e) => { e.stopPropagation(); onSwitch(config); }}
                                className="flex items-center justify-center gap-1.5 py-3 px-2 bg-slate-700 hover:bg-slate-800 active:bg-slate-900 rounded-xl text-xs font-bold text-white transition-colors shadow-sm active:scale-95"
                            >
                                <Icon path={Icons.ArrowRightLeft} className="w-3.5 h-3.5" />
                                逆方向を見る
                            </button>
                            <button 
                                onClick={(e) => { e.stopPropagation(); onDetail(config); }}
                                className="flex items-center justify-center gap-1.5 py-3 px-2 bg-white hover:bg-slate-50 active:bg-slate-100 rounded-xl text-xs font-bold text-slate-700 transition-colors border border-slate-200 shadow-sm active:scale-95"
                            >
                                <Icon path={Icons.FileText} className="w-3.5 h-3.5 text-slate-400" />
                                詳細を見る
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const HomeHeaderCarousel = ({ configs, onSwitch, onConfig, onStartTimer, onHeightChange, onDownload }) => {
            const [currentIndex, setCurrentIndex] = useState(0);
            const [slideDirection, setSlideDirection] = useState(null); // 'left' or 'right'
            const containerRef = useRef(null);
            
            // Swipe handlers
            const [touchStart, setTouchStart] = useState(null);
            const [touchEnd, setTouchEnd] = useState(null);
            const minSwipeDistance = 50;

            const onTouchStart = (e) => {
                setTouchEnd(null);
                setTouchStart(e.targetTouches[0].clientX);
            }
            const onTouchMove = (e) => setTouchEnd(e.targetTouches[0].clientX);
            const onTouchEnd = () => {
                if (!touchStart || !touchEnd) return;
                const distance = touchStart - touchEnd;
                const isLeftSwipe = distance > minSwipeDistance;
                const isRightSwipe = distance < -minSwipeDistance;
                if (isLeftSwipe && currentIndex < configs.length - 1) {
                    setSlideDirection('right'); // New item comes from right
                    setCurrentIndex(prev => prev + 1);
                }
                if (isRightSwipe && currentIndex > 0) {
                    setSlideDirection('left'); // New item comes from left
                    setCurrentIndex(prev => prev - 1);
                }
            }

            useEffect(() => {
                if (currentIndex >= configs.length && configs.length > 0) {
                    setCurrentIndex(configs.length - 1);
                }
            }, [configs.length]);

            // Measure height and report back to parent
            useLayoutEffect(() => {
                if (containerRef.current) {
                    const height = containerRef.current.offsetHeight;
                    onHeightChange(height);
                }
            });

            // Animation Class based on direction
            const getAnimationClass = () => {
                if (slideDirection === 'right') return 'animate-slide-in-right';
                if (slideDirection === 'left') return 'animate-slide-in-left';
                return 'animate-fade-in'; // Default fallback
            };


            // No Config State
            if (!configs || configs.length === 0) {
                return (
                    <div ref={containerRef} className="w-full bg-white pt-safe pb-6 px-4">
                        <button onClick={onConfig} className="w-full relative overflow-hidden rounded-2xl bg-slate-50 border-2 border-dashed border-slate-300 p-8 text-center active:scale-[0.98] transition-all group hover:border-indigo-300">
                            <div className="inline-flex items-center justify-center w-12 h-12 rounded-full bg-white text-slate-300 mb-3 group-hover:text-primary shadow-sm transition-colors"><Icon path={Icons.Settings} className="w-6 h-6" /></div>
                            <p className="text-sm text-slate-400 font-bold">ホーム駅を設定してください</p>
                        </button>
                    </div>
                );
            }

            return (
                <div ref={containerRef} className="w-full bg-white pt-safe pb-2 shadow-soft relative">
                    {/* Carousel Content */}
                    <div className="relative" onTouchStart={onTouchStart} onTouchMove={onTouchMove} onTouchEnd={onTouchEnd}>
                         <div className="w-full">
                            <TimerHeader 
                                key={`${configs[currentIndex].station}-${configs[currentIndex].lineId}-${configs[currentIndex].dirId}`}
                                config={configs[currentIndex]} 
                                onSwitch={onSwitch} 
                                onConfig={onConfig}
                                onDetail={(cfg) => onStartTimer(cfg.station, cfg.lineId, cfg.dirId)}
                                isActive={true} 
                                animationClass={getAnimationClass()}
                                onStationNameClick={onDownload}
                            />
                        </div>
                    </div>
                    
                    {/* Dots */}
                    {configs.length > 1 && (
                        <div className="flex justify-center gap-1.5 pb-3 mt-1">
                            {configs.map((_, idx) => (
                                <button key={idx} onClick={() => {
                                    if (idx > currentIndex) setSlideDirection('right');
                                    else if (idx < currentIndex) setSlideDirection('left');
                                    setCurrentIndex(idx);
                                }} className={`h-1.5 rounded-full transition-all ${idx === currentIndex ? 'w-5 bg-primary' : 'w-1.5 bg-slate-200'}`} />
                            ))}
                        </div>
                    )}
                </div>
            );
        };


        const RouteListItem = ({ station, lineId, isPinned, onPin, onSelect }) => {
            const line = getLineData(lineId);
            if (!line) return null;
            return (
                <div className="w-full bg-white p-4 rounded-2xl shadow-sm border border-slate-100 mb-3 hover:shadow-md transition-all active:scale-[0.99]">
                    <div className="flex justify-between items-start mb-3">
                        <div className="flex items-center gap-3">
                            <div className={`w-1.5 h-10 rounded-full ${line.color}`} />
                            <div><div className="font-bold text-slate-800 text-lg leading-tight">{station}</div><div className={`text-xs font-bold ${line.textColor} mt-0.5`}>{line.name}</div></div>
                        </div>
                        <button onClick={(e) => { e.stopPropagation(); onPin(); }} className={`p-2 rounded-full transition-colors ${isPinned ? 'text-yellow-400' : 'text-slate-200 hover:text-slate-300'}`}><Icon path={Icons.Star} className={`w-5 h-5 ${isPinned ? 'fill-current' : ''}`} /></button>
                    </div>
                    <div className="flex gap-2 overflow-x-auto pb-1 no-scrollbar">
                        {line.directions.map(dir => (
                            <button key={dir.id} onClick={() => onSelect(dir.id)} className="flex-1 min-w-[120px] flex items-center justify-between bg-slate-50 border border-slate-100 rounded-xl py-3 px-3 text-left transition-all hover:bg-indigo-50 hover:border-indigo-100 active:bg-indigo-100 group relative overflow-hidden">
                                <div className="min-w-0 z-10"><div className="text-sm font-bold text-slate-600 group-hover:text-primary">{dir.name}</div></div>
                                <Icon path={Icons.ChevronRight} className="w-3 h-3 text-slate-300 group-hover:text-primary flex-shrink-0 ml-1 z-10" />
                            </button>
                        ))}
                    </div>
                </div>
            );
        };

        const EmptyState = ({ type, onSearch }) => (
            <div className="text-center py-12 px-6 bg-white/40 rounded-3xl border border-dashed border-slate-300 mt-4">
                <div className="inline-flex items-center justify-center w-12 h-12 rounded-full bg-white text-slate-300 mb-3 shadow-sm">
                    <Icon path={type === 'pinned' ? Icons.Star : Icons.History} className="w-6 h-6" />
                </div>
                <p className="text-sm font-bold text-slate-600 mb-1">{type === 'pinned' ? 'よく使う駅がありません' : '履歴がありません'}</p>
                <p className="text-xs text-slate-400 mb-6">駅を検索して、☆ボタンで登録しましょう</p>
                <button onClick={onSearch} className="inline-flex items-center gap-1.5 px-5 py-2.5 bg-primary text-white rounded-full text-xs font-bold hover:bg-indigo-700 transition-colors shadow-sm">
                    <Icon path={Icons.Search} className="w-3.5 h-3.5" /> 駅を探す
                </button>
            </div>
        );

        const AlertModal = ({ isOpen, message, onClose }) => {
            if (!isOpen) return null;
            return (
                <ModalPortal>
                    <div className="fixed inset-0 z-[160] flex items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in">
                        <div className="bg-white rounded-2xl p-6 shadow-2xl w-full max-w-sm animate-slide-up text-center">
                            <div className="inline-flex items-center justify-center w-12 h-12 rounded-full bg-amber-100 text-amber-500 mb-4">!</div>
                            <p className="text-lg font-bold text-slate-800 mb-6">{message}</p>
                            <button onClick={onClose} className="w-full py-3 rounded-xl bg-slate-800 text-white font-bold hover:bg-slate-700 transition-colors">OK</button>
                        </div>
                    </div>
                </ModalPortal>
            );
        };

        // Replace Modal for Max Config
        const ReplaceModal = ({ isOpen, homeConfigs, onSelect, onClose }) => {
            if (!isOpen) return null;
            return (
                <ModalPortal>
                    <div className="fixed inset-0 z-[160] flex items-end justify-center pointer-events-none">
                        <div className="absolute inset-0 bg-black/30 backdrop-blur-sm pointer-events-auto transition-opacity" onClick={onClose} />
                        <div className="bg-white w-full max-w-md p-6 rounded-t-3xl shadow-2xl pointer-events-auto animate-slide-up max-h-[80vh] overflow-y-auto relative z-10">
                            <div className="flex justify-between items-center mb-6">
                                <h3 className="text-xl font-bold text-slate-800">入れ替えを選択</h3>
                                <button onClick={onClose} className="p-2 bg-slate-100 rounded-full hover:bg-slate-200"><Icon path={Icons.X} className="w-5 h-5 text-slate-500"/></button>
                            </div>
                            <p className="text-sm text-slate-500 mb-4">登録が上限です。入れ替える駅を選択してください。</p>
                            <div className="space-y-3">
                                {homeConfigs.map((cfg, i) => {
                                    const line = getLineData(cfg.lineId);
                                    const dir = line?.directions.find(d => d.id === cfg.dirId);
                                    return (
                                        <button key={i} onClick={() => onSelect(i)} className="w-full flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-indigo-50 hover:border-indigo-300 transition-all text-left">
                                            <div>
                                                <div className="font-bold text-slate-800">{cfg.station}</div>
                                                <div className="text-xs text-slate-500">{line?.name} / {dir?.name}</div>
                                            </div>
                                            <div className="text-xs font-bold text-indigo-600">選択</div>
                                        </button>
                                    );
                                })}
                            </div>
                        </div>
                    </div>
                </ModalPortal>
            );
        };

        const SortableItem = ({ config, index, onRemove, onMove }) => {
            const line = getLineData(config.lineId);
            const dir = line?.directions.find(d => d.id === config.dirId);
            const ref = useRef(null);
            const [isDragging, setIsDragging] = useState(false);
            const [startPos, setStartPos] = useState({ y: 0 });
            
            const handleTouchStart = (e) => {
                setIsDragging(true);
                setStartPos({ y: e.touches[0].clientY });
                document.body.style.overflow = 'hidden';
            };

            const handleTouchMove = (e) => {
                if (!isDragging) return;
                const deltaY = e.touches[0].clientY - startPos.y;
                if (ref.current) {
                    ref.current.style.transform = `translateY(${deltaY}px)`;
                }
            };

            const handleTouchEnd = (e) => {
                if (!isDragging) return;
                setIsDragging(false);
                document.body.style.overflow = '';
                
                if (ref.current) {
                    const deltaY = e.changedTouches[0].clientY - startPos.y;
                    ref.current.style.transform = '';
                    if (Math.abs(deltaY) > 40) {
                         const direction = deltaY > 0 ? 1 : -1;
                         onMove(index, direction);
                    }
                }
            };

            return (
                <div 
                    ref={ref} 
                    className={`bg-white p-3 rounded-2xl shadow-sm border border-slate-200 flex justify-between items-center touch-none select-none mb-2 transition-transform ${isDragging ? 'z-50 relative shadow-xl border-indigo-300' : ''}`}
                >
                    <div className="flex-1">
                        <div className="font-bold text-slate-800">{config.station}</div>
                        <div className="text-xs text-slate-500">{line?.name} / {dir?.name}</div>
                    </div>
                    <div className="flex items-center gap-2">
                        <button onClick={() => onRemove(index)} className="p-2 text-slate-300 hover:text-rose-500 transition-colors"><Icon path={Icons.Trash} className="w-5 h-5" /></button>
                        <div 
                            onTouchStart={handleTouchStart} 
                            onTouchMove={handleTouchMove}
                            onTouchEnd={handleTouchEnd}
                            className="p-2 text-slate-300 cursor-grab active:cursor-grabbing active:text-indigo-500"
                        >
                            <Icon path={Icons.Grip} className="w-6 h-6" />
                        </div>
                    </div>
                </div>
            );
        };

        const ConfigView = ({ setView, tempConfigStation, setTempConfigStation, homeConfigs, addHomeConfig, removeHomeConfig, replaceHomeConfig, updateHome, handleDownload, showToast, moveHomeConfig }) => {
            const [filterArea, setFilterArea] = useState('ALL');
            const [filterText, setFilterText] = useState('');
            const [replaceModalOpen, setReplaceModalOpen] = useState(false);
            const [pendingStation, setPendingStation] = useState(null);
            const [isHeaderCollapsed, setIsHeaderCollapsed] = useState(false);
            const scrollRef = useRef(null);

            const handleScroll = (e) => {
                const scrollTop = e.target.scrollTop;
                if (scrollTop > 20 && !isHeaderCollapsed) {
                    setIsHeaderCollapsed(true);
                } else if (scrollTop < 5 && isHeaderCollapsed) {
                     setIsHeaderCollapsed(false); 
                }
            };

            const filtered = ALL_STATIONS.filter(s => {
                const matchArea = filterArea === 'ALL' || getStationArea(s) === filterArea;
                const matchText = filterText === '' || s.includes(filterText);
                return matchArea && matchText;
            });

            const handleAddClick = (s) => {
                setTempConfigStation(s);
            };

            const handleDirectionSelect = (station, lineId, dirId) => {
                if (homeConfigs.length >= MAX_HOME_CONFIGS) {
                    setPendingStation({ station, lineId, dirId });
                    setReplaceModalOpen(true);
                } else {
                    addHomeConfig({ station, lineId, dirId });
                    showToast(`ホーム駅に追加しました`);
                    setTempConfigStation(null);
                }
            };

            const handleReplace = (index) => {
                if (pendingStation) {
                    replaceHomeConfig(index, pendingStation);
                    showToast(`ホーム駅を入れ替えました`);
                    setPendingStation(null);
                    setReplaceModalOpen(false);
                    setTempConfigStation(null);
                }
            };

            return (
                <div 
                    className="h-full overflow-y-auto px-4 pt-safe pb-32 animate-enter bg-slate-100"
                    onScroll={handleScroll}
                    ref={scrollRef}
                >
                    {/* Collapsible Header */}
                    <header className={`sticky top-0 bg-slate-100 z-10 transition-all duration-500 ease-in-out ${isHeaderCollapsed ? 'py-2 shadow-sm border-b border-slate-200/50' : 'py-4'}`}>
                        <div className="flex justify-between items-center mb-2">
                            <h2 className={`font-bold text-slate-800 transition-all ${isHeaderCollapsed ? 'text-xl' : 'text-3xl'}`}>設定</h2>
                            <button onClick={() => setIsHeaderCollapsed(!isHeaderCollapsed)} className="p-2 bg-white rounded-full shadow-sm text-slate-400">
                                <Icon path={isHeaderCollapsed ? Icons.ChevronDown : Icons.ChevronUp} className="w-5 h-5" />
                            </button>
                        </div>

                        <div className={`overflow-hidden transition-all duration-500 ease-in-out ${isHeaderCollapsed ? 'max-h-0 opacity-0' : 'max-h-[600px] opacity-100'}`}>
                             <p className="text-slate-500 font-medium mb-4">ホーム駅を登録 (最大4件)</p>
                             
                            {homeConfigs.length > 0 && !tempConfigStation && (
                                <div className="mb-8">
                                    {homeConfigs.map((cfg, i) => (
                                        <SortableItem 
                                            key={i} 
                                            config={cfg} 
                                            index={i} 
                                            onRemove={removeHomeConfig} 
                                            onMove={moveHomeConfig} 
                                        />
                                    ))}
                                    {homeConfigs.length < MAX_HOME_CONFIGS && (<div className="text-center text-xs text-slate-400 mt-2">あと {MAX_HOME_CONFIGS - homeConfigs.length} 件登録できます</div>)}
                                </div>
                            )}
                        </div>
                        
                        {isHeaderCollapsed && (
                            <div className="text-xs font-bold text-slate-500 mb-2 animate-fade-in">
                                登録済み {homeConfigs.length} 件
                            </div>
                        )}

                        {!tempConfigStation && (
                            <div className="pt-2">
                                <div className="relative mb-4">
                                    <Icon path={Icons.Search} className="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400" />
                                    <input type="text" placeholder="駅名を入力..." value={filterText} onChange={(e) => setFilterText(e.target.value)} className="w-full bg-white pl-10 pr-4 py-3 rounded-2xl border-none shadow-sm text-slate-700 font-bold focus:ring-2 focus:ring-indigo-500 outline-none" />
                                    {filterText && <button onClick={() => setFilterText('')} className="absolute right-3 top-1/2 -translate-y-1/2 p-1 bg-slate-200 rounded-full text-slate-500 hover:bg-slate-300"><Icon path={Icons.X} className="w-3 h-3" /></button>}
                                </div>
                                <div className="flex gap-2 overflow-x-auto pb-2 no-scrollbar">
                                    {['ALL', '東京', '千葉'].map(area => (<button key={area} onClick={() => setFilterArea(area)} className={`px-5 py-2.5 rounded-full text-xs font-bold transition-all whitespace-nowrap shadow-sm ${filterArea === area ? 'bg-indigo-600 text-white' : 'bg-white text-slate-500 border border-slate-200'}`}>{area === 'ALL' ? 'すべて' : area}</button>))}
                                </div>
                            </div>
                        )}
                    </header>
                    
                    {/* Station List */}
                    {!tempConfigStation && (
                        <div className="grid grid-cols-2 gap-3 pb-8">
                            {filtered.length > 0 ? filtered.map(s => (
                                <button key={s} onClick={() => handleAddClick(s)} className="bg-white p-4 rounded-2xl shadow-sm border border-slate-100 font-bold text-slate-700 hover:border-indigo-300 hover:shadow-md transition-all active:scale-95 text-left">{s}</button>
                            )) : <div className="col-span-2 text-center text-slate-400 py-10">該当する駅がありません</div>}
                        </div>
                    )}

                    {/* Direction Selection */}
                    {tempConfigStation && (
                        <div className="space-y-4 animate-slide-up">
                            <button onClick={() => setTempConfigStation(null)} className="flex items-center text-indigo-600 font-bold mb-4"><Icon path={Icons.ArrowLeft} className="w-4 h-4 mr-1"/> 駅を選び直す</button>
                            <h3 className="text-xl font-bold mb-4">{tempConfigStation}</h3>
                            {LINES_DATA.filter(l => l.directions.some(d => d.stations.includes(tempConfigStation))).map(l => (
                                <div key={l.id} className="bg-white rounded-3xl p-5 shadow-sm border border-slate-100">
                                    <div className={`text-xs font-bold mb-3 ${l.textColor}`}>{l.name}</div>
                                    <div className="space-y-2">
                                        {l.directions.map(d => (
                                            <button key={d.id} onClick={() => handleDirectionSelect(tempConfigStation, l.id, d.id)} className="w-full flex justify-between items-center p-3 bg-white border border-slate-200 shadow-sm rounded-xl font-bold text-slate-700 hover:border-indigo-400 active:scale-[0.98] transition-all">
                                                <span>{d.name}</span><span className="text-xs text-slate-400 font-normal">{d.dest.join('・')}</span>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>
                    )}
                    <FloatingBackBtn onClick={() => { if(tempConfigStation) setTempConfigStation(null); else setView('HOME'); }} text={tempConfigStation ? "戻る" : "完了"} icon={tempConfigStation ? Icons.ArrowLeft : Icons.X} />
                    
                    <ReplaceModal isOpen={replaceModalOpen} homeConfigs={homeConfigs} onSelect={handleReplace} onClose={() => setReplaceModalOpen(false)} />
                </div>
            );
        };

        const ExploreView = ({ setView, setExploreStation }) => {
            const [filterArea, setFilterArea] = useState('ALL');
            const [filterText, setFilterText] = useState('');
            const filtered = ALL_STATIONS.filter(s => {
                const matchArea = filterArea === 'ALL' || getStationArea(s) === filterArea;
                const matchText = filterText === '' || s.includes(filterText);
                return matchArea && matchText;
            });
            return (
                <div className="h-full overflow-y-auto px-4 pt-safe pb-32 animate-enter bg-slate-100">
                    <header className="mb-6 mt-6 sticky top-0 bg-slate-100 z-10 pb-2">
                        <h2 className="text-3xl font-bold text-slate-800 mb-4">探す</h2>
                        <div className="relative mb-4">
                            <Icon path={Icons.Search} className="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400" />
                            <input type="text" placeholder="駅名を入力..." value={filterText} onChange={(e) => setFilterText(e.target.value)} className="w-full bg-white pl-10 pr-4 py-3 rounded-2xl border-none shadow-sm text-slate-700 font-bold focus:ring-2 focus:ring-indigo-500 outline-none" />
                            {filterText && <button onClick={() => setFilterText('')} className="absolute right-3 top-1/2 -translate-y-1/2 p-1 bg-slate-200 rounded-full text-slate-500 hover:bg-slate-300"><Icon path={Icons.X} className="w-3 h-3" /></button>}
                        </div>
                        <div className="flex gap-2 overflow-x-auto pb-2 no-scrollbar">
                            {['ALL', '東京', '千葉'].map(area => (<button key={area} onClick={() => setFilterArea(area)} className={`px-5 py-2.5 rounded-full text-xs font-bold transition-all whitespace-nowrap shadow-sm ${filterArea === area ? 'bg-indigo-600 text-white' : 'bg-white text-slate-500 border border-slate-200'}`}>{area === 'ALL' ? 'すべて' : area}</button>))}
                        </div>
                    </header>
                    <div className="grid grid-cols-2 gap-3 pb-8">
                        {filtered.length > 0 ? filtered.map(s => (
                            <button key={s} onClick={() => setExploreStation(s)} className="p-4 rounded-2xl bg-white text-slate-700 font-bold text-left shadow-sm border border-slate-100 hover:border-indigo-400 transition-all active:scale-95">{s}</button>
                        )) : <div className="col-span-2 text-center text-slate-400 py-10">該当する駅がありません</div>}
                    </div>
                    <FloatingBackBtn onClick={() => setView('HOME')} text="閉じる" icon={Icons.X} />
                </div>
            );
        };

        const HomeView = ({ setView, homeConfigs, updateHomeConfig, pinned, history, DEFAULT_ROUTES, handlePinToggle, startTimer, handleDownload, setTempConfigStation, activeListTab, setActiveListTab }) => {
            const items = activeListTab === 'pinned' ? pinned : (history.length ? history : DEFAULT_ROUTES);
            const scrollRef = useRef(null);
            const [showHeader, setShowHeader] = useState(true);
            const lastScrollY = useRef(0);
            const [headerHeight, setHeaderHeight] = useState(0); // Dynamic header height

            // Hide Header on Scroll Logic (Improved)
            const handleScroll = () => {
                if (scrollRef.current) {
                    const currentScrollY = scrollRef.current.scrollTop;
                    
                    // Logic: Hide on scroll down, Show on scroll up OR near top
                    if (currentScrollY < 10) {
                        setShowHeader(true); // Always show near top
                    } else if (currentScrollY > lastScrollY.current && currentScrollY > 50) {
                        setShowHeader(false); // Scrolling down -> Hide
                    } else if (currentScrollY < lastScrollY.current) {
                        setShowHeader(true); // Scrolling up -> Show
                    }
                    lastScrollY.current = currentScrollY;
                }
            };

            useEffect(() => {
                const el = scrollRef.current;
                if(el) el.addEventListener('scroll', handleScroll);
                return () => { if(el) el.removeEventListener('scroll', handleScroll); };
            }, []);


            const switchHomeDir = (targetConfig) => {
                const rd = getRouteData(targetConfig.lineId, targetConfig.dirId);
                const nextDir = rd.line.directions.find(d => d.id !== targetConfig.dirId) || rd.line.directions[0];
                const newConfigs = homeConfigs.map(c => 
                    (c.station === targetConfig.station && c.lineId === targetConfig.lineId && c.dirId === targetConfig.dirId) 
                    ? { ...c, dirId: nextDir.id } 
                    : c
                );
                updateHomeConfig(newConfigs); 
            };

             const handleTitleClick = (e) => {
                if (e.detail === 3) {
                    handleDownload();
                }
            };

            return (
                <div className="h-full flex flex-col bg-surface overflow-hidden relative">
                     {/* Header Section (Fixed with Hide-on-Scroll) */}
                     <div className={`fixed top-0 left-0 right-0 z-30 bg-white shadow-sm transition-transform duration-300 ${showHeader ? 'translate-y-0' : '-translate-y-full'}`}>
                         <div className="max-w-md mx-auto w-full">
                             <HomeHeaderCarousel 
                                configs={homeConfigs} 
                                onSwitch={switchHomeDir} 
                                onConfig={() => { setTempConfigStation(null); setView('CONFIG'); }} 
                                onStartTimer={startTimer}
                                handleTitleClick={handleTitleClick}
                                onHeightChange={setHeaderHeight} 
                                onDownload={handleDownload}
                             />
                         </div>
                     </div>

                     {/* Scrollable Content - Padding adjusted dynamically with a safer default and extra buffer */}
                     <div 
                        ref={scrollRef}
                        className="flex-1 overflow-y-auto px-4 pb-32 h-full" 
                        style={{ paddingTop: headerHeight > 0 ? `${headerHeight + 24}px` : '300px' }}
                    >
                         {/* Non-Sticky Tabs - Switch Style */}
                         <div className="-mx-4 px-4 py-2 mb-2">
                            <div className="flex p-1 bg-slate-200/50 rounded-xl relative">
                                <button onClick={() => setActiveListTab('pinned')} className={`flex-1 relative z-10 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all duration-300 ${activeListTab === 'pinned' ? 'text-slate-800' : 'text-slate-400 hover:text-slate-600'}`}>
                                    <Icon path={Icons.Star} className={`w-3.5 h-3.5 ${activeListTab === 'pinned' ? 'text-slate-700' : ''}`} /> よく使う駅
                                </button>
                                <button onClick={() => setActiveListTab('history')} className={`flex-1 relative z-10 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-2 transition-all duration-300 ${activeListTab === 'history' ? 'text-slate-800' : 'text-slate-400 hover:text-slate-600'}`}>
                                    最近見た駅
                                </button>
                                
                                {/* Animated Background Pill */}
                                <div className={`absolute top-1 bottom-1 w-[calc(50%-4px)] bg-white rounded-lg shadow-sm transition-all duration-300 ease-out ${activeListTab === 'pinned' ? 'left-1' : 'left-[calc(50%+2px)]'}`} />
                            </div>
                         </div>
                         
                         <div className="space-y-3 relative z-0">
                            {items.length === 0 ? <EmptyState type={activeListTab} onSearch={() => setView('EXPLORE')} /> : 
                                items.map((item, i) => <RouteListItem key={`${item.station}-${item.lineId}-${i}`} {...item} isPinned={pinned.some(p => p.station === item.station && p.lineId === item.lineId)} onPin={() => handlePinToggle(item.station, item.lineId)} onSelect={(dirId) => startTimer(item.station, item.lineId, dirId)} />)}
                        </div>
                     </div>
                    <FloatingSearchBtn onClick={() => setView('EXPLORE')} />
                </div>
            );
        };

        const ConfirmModal = ({ isOpen, message, onConfirm, onCancel }) => {
            if (!isOpen) return null;
            return (
                <ModalPortal>
                    <div className="fixed inset-0 z-[150] flex items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-fade-in">
                        <div className="bg-white rounded-2xl p-6 shadow-2xl w-full max-w-sm animate-slide-up text-center">
                            <p className="text-lg font-bold text-slate-800 mb-6 text-center">{message}</p>
                            <div className="flex gap-3">
                                <button onClick={onCancel} className="flex-1 py-3 rounded-xl bg-slate-100 text-slate-600 font-bold hover:bg-slate-200 transition-colors">キャンセル</button>
                                <button onClick={onConfirm} className="flex-1 py-3 rounded-xl bg-accent text-white font-bold hover:bg-rose-600 transition-colors shadow-lg shadow-rose-200">解除する</button>
                            </div>
                        </div>
                    </div>
                </ModalPortal>
            );
        };

        const TimerModal = ({ timerContext, isTimerOpen, setIsTimerOpen, switchTimerDir, isPinned, onTogglePin }) => {
            const route = timerContext ? getRouteData(timerContext.lineId, timerContext.dirId) : null;
            const timer = useTrainTimer(route);

            return (
                <ModalPortal>
                    <div className={`fixed inset-0 z-[150] bg-white transition-transform duration-500 ease-out flex flex-col ${isTimerOpen ? 'translate-y-0' : 'translate-y-full'}`}>
                        {/* Header: Actions */}
                        <div className="pt-safe px-6 pb-4 flex justify-between items-center bg-white/80 backdrop-blur-md z-20 border-b border-slate-100">
                            <span className="font-bold text-slate-500 text-xs tracking-widest">発車案内</span>
                            <div className="flex gap-2">
                                <a href={route?.line.statusUrl} target="_blank" className="h-10 px-3 flex items-center justify-center bg-slate-100 rounded-full hover:bg-slate-200 text-slate-600 gap-1.5 transition-colors">
                                    <span className="text-[10px] font-bold">運行情報</span>
                                    <Icon path={Icons.ExternalLink} className="w-4 h-4" />
                                </a>
                            </div>
                        </div>

                        {route && (
                            <div className={`flex-1 overflow-y-auto bg-slate-50 flex flex-col ${timer.bg} transition-colors duration-700 relative`}>
                                
                                {/* Main Info Area - Redesigned Information Architecture */}
                                <div className="flex-1 flex flex-col items-center justify-center p-6 text-center min-h-[55vh] relative">
                                    
                                    {/* 1. Header Block: Station & Platform (Place) - Unified Row */}
                                    <div className="flex items-baseline justify-center gap-2 mb-6">
                                        <h2 className="text-3xl font-bold text-slate-800 tracking-tight">{timerContext.station}</h2>
                                        <span className="text-sm font-bold bg-slate-200 text-slate-600 px-2 py-0.5 rounded-md">
                                            {route.dir.platform}
                                        </span>
                                    </div>
                                    
                                    {/* 2. Destination Block (Goal) - Clear Hierarchy */}
                                    <div className="flex flex-col items-center mb-8">
                                        {/* Destination Main */}
                                        <div className="flex items-baseline gap-1.5 mb-3">
                                            <span className="text-2xl font-bold text-slate-800 tracking-tight leading-none">{timer.nextDest}</span>
                                            <span className="text-sm font-bold text-slate-500">行き</span>
                                        </div>
                                        
                                        {/* Route Info Row */}
                                        <div className="flex items-center gap-3">
                                            <span className={`inline-block px-2 py-0.5 rounded text-[11px] font-bold text-white ${route.line.color}`}>
                                                {route.line.name}
                                            </span>
                                            <span className="text-xs font-bold text-slate-600">{route.dir.name}</span>
                                        </div>
                                    </div>

                                    {/* 3. Timer Block (Constraint) - Balanced Size */}
                                    <div className="relative mb-10 w-full">
                                        <div className={`tabular-nums tracking-tighter leading-none text-center ${timer.color} transition-colors duration-300`}>
                                            <div className="flex items-baseline justify-center gap-1 drop-shadow-sm">
                                                <span className="text-7xl font-bold leading-none tracking-tight">{timer.left.m}</span>
                                                <span className="text-xl font-bold text-slate-400 mr-2">分</span>
                                                <span className="text-7xl font-bold leading-none tracking-tight">{timer.left.s}</span>
                                                <span className="text-xl font-bold text-slate-400">秒</span>
                                            </div>
                                        </div>
                                    </div>

                                    {/* 4. Next Departure (Context) - Simple Box */}
                                    <div className="inline-flex items-center gap-4 bg-white px-6 py-3 rounded-2xl shadow-card border border-slate-100 text-slate-600">
                                        <div className="flex flex-col items-center">
                                            <div className="flex items-baseline gap-1">
                                                <span className="text-2xl font-bold tabular-nums text-slate-700">{timer.next}</span>
                                                <span className="text-xs font-bold">発</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                {/* Draggable Drawer for "Subsequent Trains" */}
                                <DraggableDrawer isOpen={isTimerOpen}>
                                     <div className="pt-2 pb-4">
                                        <div className="flex justify-between items-center mb-4 px-2">
                                            <h3 className="font-bold text-slate-500 text-sm uppercase tracking-wider">その後の電車</h3>
                                            <button onClick={switchTimerDir} className="flex items-center gap-1.5 text-slate-600 font-bold text-xs bg-slate-100 px-3 py-1.5 rounded-full hover:bg-slate-200 transition-colors">
                                                <Icon path={Icons.RefreshCw} className="w-3.5 h-3.5"/> 
                                                逆方向
                                            </button>
                                        </div>

                                        <div className="space-y-0 divide-y divide-slate-100">
                                            {timer.subsequents && timer.subsequents.length > 0 ? (
                                                timer.subsequents.map((s, i) => (
                                                    <div key={i} className="flex justify-between items-center py-3 px-2 hover:bg-slate-50 transition-colors rounded-lg">
                                                        <div>
                                                            <div className="flex items-baseline gap-2">
                                                                <span className="text-lg font-bold text-slate-700 tabular-nums">{s.time}</span>
                                                                <span className="text-xs text-slate-400">発</span>
                                                            </div>
                                                            <div className="text-xs font-bold text-slate-500 mt-0.5">{s.dest} 行き</div>
                                                        </div>
                                                        <div className="text-right">
                                                            <div className="text-sm font-bold text-slate-600">{s.min} 分後</div>
                                                        </div>
                                                    </div>
                                                ))
                                            ) : (
                                                <div className="text-center text-slate-400 py-6 text-sm">
                                                    その後の電車はありません
                                                </div>
                                            )}
                                        </div>

                                        <div className="mt-4 pt-4 border-t border-dashed border-slate-100 flex justify-center">
                                            <div className="inline-flex items-center gap-2 text-slate-400 font-bold text-xs">
                                                <Icon path={Icons.Moon} className="w-3.5 h-3.5"/> 
                                                <span>終電 <span className="text-slate-600 text-sm ml-1 tabular-nums">{route.dir.lastTrain}</span></span>
                                            </div>
                                        </div>
                                    </div>
                                </DraggableDrawer>
                            </div>
                        )}
                    
                    {/* Floating Action Buttons (Close & Favorite) */}
                    <FloatingActionButtons onClose={() => setIsTimerOpen(false)} onFavorite={onTogglePin} isPinned={isPinned} />
                </div>
            </ModalPortal>
            );
        };

        const ExploreModal = ({ exploreStation, setExploreStation, startTimer }) => {
            if (!exploreStation) return null;
            const lines = LINES_DATA.filter(l => l.directions.some(d => d.stations.includes(exploreStation)));
            return (
                <ModalPortal>
                    <div className="fixed inset-0 z-[150] flex items-end justify-center pointer-events-none">
                        <div className="absolute inset-0 bg-black/20 backdrop-blur-sm pointer-events-auto transition-opacity" onClick={() => setExploreStation(null)} />
                        <div className="bg-white w-full max-w-md p-6 rounded-t-3xl shadow-2xl pointer-events-auto animate-slide-up max-h-[80vh] overflow-y-auto relative z-10">
                            <div className="flex justify-between items-center mb-6">
                                <h3 className="text-2xl font-bold text-slate-800">{exploreStation}</h3>
                                <button onClick={() => setExploreStation(null)} className="p-2 bg-slate-100 rounded-full hover:bg-slate-200"><Icon path={Icons.X} className="w-5 h-5 text-slate-500"/></button>
                            </div>
                            <div className="space-y-6">
                                {lines.map(l => (
                                    <div key={l.id}>
                                        <div className="flex items-center gap-2 mb-3 px-1"><div className={`w-1.5 h-4 rounded-full ${l.color}`}></div><span className="font-bold text-slate-500 text-sm">{l.name}</span></div>
                                        <div className="grid grid-cols-2 gap-3">
                                            {l.directions.map(d => (
                                                <button key={d.id} onClick={() => { startTimer(exploreStation, l.id, d.id); setExploreStation(null); }} className="w-full flex items-center justify-between bg-white border border-slate-200 p-4 rounded-xl text-left hover:border-indigo-400 active:scale-[0.98] transition-all shadow-sm group">
                                                    <div>
                                                        <div className="font-bold text-slate-700 mb-0.5">{d.name}</div>
                                                        <div className="text-xs text-slate-400 font-bold">{d.dest.join('・')}</div>
                                                    </div>
                                                    <Icon path={Icons.ChevronRight} className="w-4 h-4 text-slate-300 group-hover:text-indigo-400" />
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </ModalPortal>
            );
        };

        const App = () => {
            const [view, setView] = useState('HOME');
            const [homeConfigs, setHomeConfigs] = useState([]);
            const [pinned, setPinned] = useState([]);
            const [history, setHistory] = useState([]);
            const [activeListTab, setActiveListTab] = useState('pinned');
            const [tempConfigStation, setTempConfigStation] = useState(null);
            const [exploreStation, setExploreStation] = useState(null);
            const [timerContext, setTimerContext] = useState(null);
            const [isTimerOpen, setIsTimerOpen] = useState(false);
            const [confirmModal, setConfirmModal] = useState({ isOpen: false, item: null });
            const [alertModal, setAlertModal] = useState({ isOpen: false, message: '' });
            const [toast, setToast] = useState({ show: false, message: '' });

            useEffect(() => {
                try {
                    const h = localStorage.getItem('mct_home_configs_v2');
                    if (h) {
                        setHomeConfigs(JSON.parse(h));
                    } else {
                         const oldH = localStorage.getItem('mct_home');
                         if (oldH) {
                             setHomeConfigs([JSON.parse(oldH)]);
                         } else {
                             setHomeConfigs([
                                { station: '船橋', lineId: 'sobu_rapid', dirId: 'up' },
                                { station: '京成船橋', lineId: 'keisei_main', dirId: 'up' }
                             ]);
                         }
                    }
                    const p = localStorage.getItem('mct_pins');
                    if(p) setPinned(JSON.parse(p));
                    const his = localStorage.getItem('mct_hist');
                    if(his) setHistory(JSON.parse(his));
                } catch(e) {}
            }, []);

            const updateHomeConfig = (newConfigs) => {
                setHomeConfigs(newConfigs);
                localStorage.setItem('mct_home_configs_v2', JSON.stringify(newConfigs));
            };

            const addHomeConfig = (newItem) => {
                if (homeConfigs.length >= MAX_HOME_CONFIGS) return;
                const newConfigs = [...homeConfigs, newItem];
                updateHomeConfig(newConfigs);
            };

            const replaceHomeConfig = (index, newItem) => {
                const newConfigs = [...homeConfigs];
                newConfigs[index] = newItem;
                updateHomeConfig(newConfigs);
            };

            const removeHomeConfig = (index) => {
                const newConfigs = homeConfigs.filter((_, i) => i !== index);
                updateHomeConfig(newConfigs);
            };

            const moveHomeConfig = (index, direction) => {
                if (index < 0 || index >= homeConfigs.length) return;
                const newIndex = index + direction;
                if (newIndex < 0 || newIndex >= homeConfigs.length) return;
                const newConfigs = [...homeConfigs];
                [newConfigs[index], newConfigs[newIndex]] = [newConfigs[newIndex], newConfigs[index]];
                updateHomeConfig(newConfigs);
            };

            const updatePins = (newPins) => { setPinned(newPins); localStorage.setItem('mct_pins', JSON.stringify(newPins)); };
            const updateHistory = (item) => { const newHist = [item, ...history.filter(h => !(h.station === item.station && h.lineId === item.lineId))].slice(0, 20); setHistory(newHist); localStorage.setItem('mct_hist', JSON.stringify(newHist)); };
            
            const handlePinToggle = (s, l) => {
                const exists = pinned.find(p => p.station === s && p.lineId === l);
                if (exists) {
                    setConfirmModal({ isOpen: true, item: { station: s, lineId: l } });
                } else {
                    if (pinned.length >= 15) { 
                        setAlertModal({ isOpen: true, message: 'よく使う駅は最大15件までです。\n不要なものを解除してください。' });
                        return; 
                    }
                    updatePins([{station:s, lineId:l}, ...pinned]);
                }
            };

            const confirmUnpin = () => {
                if (confirmModal.item) {
                    const { station, lineId } = confirmModal.item;
                    updatePins(pinned.filter(p => !(p.station === station && p.lineId === lineId)));
                }
                setConfirmModal({ isOpen: false, item: null });
            };

            const startTimer = (s, l, d) => { setTimerContext({ station: s, lineId: l, dirId: d }); updateHistory({ station: s, lineId: l }); setIsTimerOpen(true); setView('HOME'); };

            const switchTimerDir = () => {
                if(!timerContext) return;
                const rd = getRouteData(timerContext.lineId, timerContext.dirId);
                const nextDir = rd.line.directions.find(d => d.id !== timerContext.dirId) || rd.line.directions[0];
                setTimerContext({...timerContext, dirId: nextDir.id});
            };
            const handleDownload = () => {
                const blob = new Blob([document.documentElement.outerHTML], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a'); a.href = url; a.download = 'my-commute-timer.html';
                document.body.appendChild(a); a.click(); document.body.removeChild(a);
            };

            const toggleTimerPin = () => {
                if (!timerContext) return;
                handlePinToggle(timerContext.station, timerContext.lineId);
            };
            const isTimerPinned = timerContext ? pinned.some(p => p.station === timerContext.station && p.lineId === timerContext.lineId) : false;

            const showToast = (msg) => {
                setToast({ show: true, message: msg });
                setTimeout(() => setToast({ show: false, message: '' }), 3000);
            };

            return (
                <div className="h-full w-full bg-surface relative max-w-md mx-auto shadow-2xl overflow-hidden">
                    {view === 'HOME' && <HomeView setView={setView} homeConfigs={homeConfigs} updateHomeConfig={updateHomeConfig} pinned={pinned} history={history} DEFAULT_ROUTES={DEFAULT_ROUTES} handlePinToggle={handlePinToggle} startTimer={startTimer} handleDownload={handleDownload} setTempConfigStation={setTempConfigStation} activeListTab={activeListTab} setActiveListTab={setActiveListTab} />}
                    {view === 'EXPLORE' && <ExploreView setView={setView} setExploreStation={setExploreStation} />}
                    {view === 'CONFIG' && <ConfigView setView={setView} tempConfigStation={tempConfigStation} setTempConfigStation={setTempConfigStation} homeConfigs={homeConfigs} addHomeConfig={addHomeConfig} removeHomeConfig={removeHomeConfig} replaceHomeConfig={replaceHomeConfig} updateHome={updateHomeConfig} handleDownload={handleDownload} showToast={showToast} moveHomeConfig={moveHomeConfig} />}
                    <TimerModal timerContext={timerContext} isTimerOpen={isTimerOpen} setIsTimerOpen={setIsTimerOpen} switchTimerDir={switchTimerDir} isPinned={isTimerPinned} onTogglePin={toggleTimerPin} />
                    <ExploreModal exploreStation={exploreStation} setExploreStation={setExploreStation} startTimer={startTimer} />
                    <ConfirmModal isOpen={confirmModal.isOpen} message="よく使う駅から削除しますか？" onConfirm={confirmUnpin} onCancel={() => setConfirmModal({isOpen: false, item: null})} />
                    <AlertModal isOpen={alertModal.isOpen} message={alertModal.message} onClose={() => setAlertModal({ isOpen: false, message: '' })} />
                    <Toast show={toast.show} message={toast.message} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>

<div class="fixed inset-0 z-[150] bg-white transition-transform duration-500 ease-out flex flex-col translate-y-full"><div class="pt-safe px-6 pb-4 flex justify-between items-center bg-white/80 backdrop-blur-md z-20 border-b border-slate-100"><span class="font-bold text-slate-500 text-xs tracking-widest">発車案内</span><div class="flex gap-2"><a target="_blank" class="h-10 px-3 flex items-center justify-center bg-slate-100 rounded-full hover:bg-slate-200 text-slate-600 gap-1.5 transition-colors" href="https://transit.yahoo.co.jp/traininfo/area/4/"><span class="text-[10px] font-bold">運行情報</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><g><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></g></svg></a></div></div><div class="flex-1 overflow-y-auto bg-slate-50 flex flex-col undefined transition-colors duration-700 relative"><div class="flex-1 flex flex-col items-center justify-center p-6 text-center min-h-[55vh] relative"><div class="flex items-baseline justify-center gap-2 mb-6"><h2 class="text-3xl font-bold text-slate-800 tracking-tight">船橋</h2><span class="text-sm font-bold bg-slate-200 text-slate-600 px-2 py-0.5 rounded-md">3・4番線</span></div><div class="flex flex-col items-center mb-8"><div class="flex items-baseline gap-1.5 mb-3"><span class="text-2xl font-bold text-slate-800 tracking-tight leading-none">東京</span><span class="text-sm font-bold text-slate-500">行き</span></div><div class="flex items-center gap-3"><span class="inline-block px-2 py-0.5 rounded text-[11px] font-bold text-white bg-blue-600">総武線快速</span><span class="text-xs font-bold text-slate-600">東京方面</span></div></div><div class="relative mb-10 w-full"><div class="tabular-nums tracking-tighter leading-none text-center text-slate-800 transition-colors duration-300"><div class="flex items-baseline justify-center gap-1 drop-shadow-sm"><span class="text-7xl font-bold leading-none tracking-tight">3</span><span class="text-xl font-bold text-slate-400 mr-2">分</span><span class="text-7xl font-bold leading-none tracking-tight">41</span><span class="text-xl font-bold text-slate-400">秒</span></div></div></div><div class="inline-flex items-center gap-4 bg-white px-6 py-3 rounded-2xl shadow-card border border-slate-100 text-slate-600"><div class="flex flex-col items-center"><div class="flex items-baseline gap-1"><span class="text-2xl font-bold tabular-nums text-slate-700">17:35</span><span class="text-xs font-bold">発</span></div></div></div></div><div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-sm-up z-40 transition-all duration-300 ease-out" style="height: 120px; transition: height 0.4s cubic-bezier(0.32, 0.72, 0, 1); box-shadow: rgba(0, 0, 0, 0.05) 0px -4px 20px;"><div class="w-full h-8 flex items-center justify-center cursor-grab active:cursor-grabbing touch-none"><div class="w-10 h-1.5 bg-slate-200 rounded-full"></div></div><div class="h-full overflow-y-auto px-6 pb-24"><div class="pt-2 pb-4"><div class="flex justify-between items-center mb-4 px-2"><h3 class="font-bold text-slate-500 text-sm uppercase tracking-wider">その後の電車</h3><button class="flex items-center gap-1.5 text-slate-600 font-bold text-xs bg-slate-100 px-3 py-1.5 rounded-full hover:bg-slate-200 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 h-3.5"><g><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"></path><path d="M21 21v-5h-5"></path></g></svg>逆方向</button></div><div class="space-y-0 divide-y divide-slate-100"><div class="flex justify-between items-center py-3 px-2 hover:bg-slate-50 transition-colors rounded-lg"><div><div class="flex items-baseline gap-2"><span class="text-lg font-bold text-slate-700 tabular-nums">17:41</span><span class="text-xs text-slate-400">発</span></div><div class="text-xs font-bold text-slate-500 mt-0.5">久里浜 行き</div></div><div class="text-right"><div class="text-sm font-bold text-slate-600">9 分後</div></div></div><div class="flex justify-between items-center py-3 px-2 hover:bg-slate-50 transition-colors rounded-lg"><div><div class="flex items-baseline gap-2"><span class="text-lg font-bold text-slate-700 tabular-nums">17:47</span><span class="text-xs text-slate-400">発</span></div><div class="text-xs font-bold text-slate-500 mt-0.5">東京 行き</div></div><div class="text-right"><div class="text-sm font-bold text-slate-600">15 分後</div></div></div><div class="flex justify-between items-center py-3 px-2 hover:bg-slate-50 transition-colors rounded-lg"><div><div class="flex items-baseline gap-2"><span class="text-lg font-bold text-slate-700 tabular-nums">17:53</span><span class="text-xs text-slate-400">発</span></div><div class="text-xs font-bold text-slate-500 mt-0.5">久里浜 行き</div></div><div class="text-right"><div class="text-sm font-bold text-slate-600">21 分後</div></div></div></div><div class="mt-4 pt-4 border-t border-dashed border-slate-100 flex justify-center"><div class="inline-flex items-center gap-2 text-slate-400 font-bold text-xs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 h-3.5"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span>終電 <span class="text-slate-600 text-sm ml-1 tabular-nums">23:58</span></span></div></div></div></div></div></div><div class="fixed bottom-6 left-0 right-0 z-[110] flex justify-center items-center gap-3 pointer-events-none px-6"><button class="pointer-events-auto w-auto min-w-[120px] flex items-center justify-center gap-2 bg-slate-800 text-white font-bold text-sm py-3.5 px-8 rounded-full shadow-float hover:bg-slate-700 active:scale-95 transition-all"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M18 6 6 18M6 6 18 18"></path></svg> 閉じる</button><button class="pointer-events-auto flex-none w-12 h-12 flex items-center justify-center rounded-full shadow-float transition-all active:scale-95 bg-white text-slate-400"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 "><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg></button></div></div></body></html>